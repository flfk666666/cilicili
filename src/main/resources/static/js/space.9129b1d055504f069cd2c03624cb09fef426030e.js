"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}if(!(window.ActiveXObject||"ActiveXObject"in window)){var __getClientLogo=function(){var t,e=JSON.parse(decodeURI(atob("JTVCJTVCJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwLy8lMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU1QyU1QyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMC8vJTIyLCUyMiUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlNUMlNUMlNUMlNUMlMjAlMjAlMjAlMjAlMjAlMjAlMjAvLyUyMiwlMjIlMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwIyNEREREREREREREREREREREREREREREIyMlMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwREREREREREREREREREREREREREQlMjAjIyUyMiwlMjIlMjAlMjAlMjBfX19fX19fXyUyMCUyMCUyMF9fXyUyMCUyMCUyMF9fXyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMF9fXyUyMCUyMCUyMF9fX19fX19fJTIwJTIwJTIwX19fJTIwJTIwJTIwX19fJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwX19fJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBoaCUyMCMjJTIyLCUyMiUyMCUyMCUyMCU3QyU1QyU1QyUyMCUyMCUyMF9fJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTIwJTIwJTIwJTIwJTIwJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTdDJTVDJTVDJTIwJTIwJTIwX18lMjAlMjAlNUMlNUMlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjAlMjAlMjAlMjAlMjAlMjAlN0MlNUMlNUMlMjAlMjAlNUMlNUMlMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwIyMlMjBoaCUyMCUyMCUyMCUyMC8vJTIwJTIwJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTIwJTIwJTIwaGglMjAjIyUyMiwlMjIlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlN0MlNUMlNUMlMjAvXyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMCUyMCUyMCUyMCUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU3QyU1QyU1QyUyMC9fJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTIwJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAvLyUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU1QyU1QyUyMCUyMCUyMGhoJTIwIyMlMjIsJTIyJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTIwX18lMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlMjAlMjAlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlMjBfXyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMCUyMCUyMCUyMCUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyMGhoJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwaGglMjAjIyUyMiwlMjIlMjAlMjAlMjAlMjAlMjAlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlN0MlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUMlNUMlNUMlMjAlNUMlNUMlMjAlMjAlNUMlNUNfX19fJTIwJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTdDJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDJTVDJTVDJTIwJTVDJTVDJTIwJTIwJTVDJTVDX19fXyUyMCU1QyU1QyUyMCU1QyU1QyUyMCUyMCU1QyU1QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyMGhoJTIwJTIwJTIwJTIwJTIwJTIwd3d3dyUyMCUyMCUyMCUyMCUyMCUyMGhoJTIwIyMlMjIsJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTVDJTVDJTIwJTVDJTVDX19fX19fXyU1QyU1QyU1QyU1QyUyMCU1QyU1Q19fJTVDJTVDJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjJTIwaGglMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBoaCUyMCMjJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMCU1QyU1QyU3Q19fX19fX18lN0MlMjAlNUMlNUMlN0NfXyU3QyUyMiU1RCwlNUIlMjIlMjAlMjAlMjAlMjAjIyUyME1NTU1NTU1NTU1NTU1NTU1NTU1NJTIwIyMlMjIsJTIyJTIyJTVELCU1QiUyMiUyMCUyMCUyMCUyMCMjTU1NTU1NTU1NTU1NTU1NTU1NTU1NTSMjJTIyLCUyMiUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMFJlbGVhc2UlMjAyLjYuMS4lMjBQb3dlcmVkJTIwYnklMjBqaW5rZWxhLWNvcmUlMjAyLjUuMy4lMjIlNUQsJTVCJTIyJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTVDJTVDLyUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QyU1Qy8lMjIsJTIyJTIyJTVEJTVE"))),i=["%c"],n=[];e.forEach(function(t){var e=t[0],n=t[1];i.push(e+n)}),n=n.concat(["color:#00a1d6"]),n=[i.join("\n")].concat(n),(t=console).log.apply(t,_toConsumableArray(n))};__getClientLogo()}!function(t){function e(e){for(var n,a,r=e[0],c=e[1],u=e[2],l=0,f=[];l<r.length;l++)a=r[l],s[a]&&f.push(s[a][0]),s[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);for(d&&d(e);f.length;)f.shift()();return o.push.apply(o,u||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,a=1;a<i.length;a++){var c=i[a];0!==s[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},a={3:0},s={3:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(t){var e=[];a[t]?e.push(a[t]):0!==a[t]&&{1:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,15:1,16:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1}[t]&&e.push(a[t]=new Promise(function(e,i){for(var n="css/space."+t+".9129b1d055504f069cd2c03624cb09fef426030e.css",s=r.p+n,o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=(d=o[c]).getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===n||u===s))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){var d;if((u=(d=l[c]).getAttribute("data-href"))===n||u===s)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var n=e&&e.target&&e.target.src||s,o=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete a[t],f.parentNode.removeChild(f),i(o)},f.href=s,document.getElementsByTagName("head")[0].appendChild(f)}).then(function(){a[t]=0}));var i=s[t];if(0!==i)if(i)e.push(i[2]);else{var n=new Promise(function(e,n){i=s[t]=[e,n]});e.push(i[2]=n);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=function(t){return r.p+""+t+".space.9129b1d055504f069cd2c03624cb09fef426030e.js"}(t);var u=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(l);var i=s[t];if(0!==i){if(i){var n=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+a+")",u.name="ChunkLoadError",u.type=n,u.request=a,i[1](u)}s[t]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:c})},12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="//s1.hdslb.com/bfs/static/jinkela/space/",r.oe=function(t){throw console.error(t),t};var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var d=u;o.push([196,4]),i()}({1:function(t,e,i){i.d(e,"R",function(){return n}),i.d(e,"pb",function(){return a}),i.d(e,"ab",function(){return s}),i.d(e,"Z",function(){return o}),i.d(e,"Tb",function(){return r}),i.d(e,"Eb",function(){return c}),i.d(e,"ec",function(){return u}),i.d(e,"z",function(){return l}),i.d(e,"y",function(){return d}),i.d(e,"Zb",function(){return f}),i.d(e,"xb",function(){return p}),i.d(e,"cc",function(){return m}),i.d(e,"C",function(){return h}),i.d(e,"A",function(){return v}),i.d(e,"dc",function(){return _}),i.d(e,"H",function(){return b}),i.d(e,"wb",function(){return g}),i.d(e,"V",function(){return y}),i.d(e,"vb",function(){return w}),i.d(e,"U",function(){return C}),i.d(e,"f",function(){return T}),i.d(e,"g",function(){return S}),i.d(e,"b",function(){return U}),i.d(e,"B",function(){return L}),i.d(e,"rb",function(){return M}),i.d(e,"qb",function(){return P}),i.d(e,"Ub",function(){return j}),i.d(e,"K",function(){return x}),i.d(e,"J",function(){return k}),i.d(e,"I",function(){return I}),i.d(e,"P",function(){return E}),i.d(e,"Q",function(){return A}),i.d(e,"O",function(){return $}),i.d(e,"u",function(){return N}),i.d(e,"v",function(){return J}),i.d(e,"t",function(){return V}),i.d(e,"e",function(){return D}),i.d(e,"h",function(){return O}),i.d(e,"Qb",function(){return R}),i.d(e,"Nb",function(){return F}),i.d(e,"X",function(){return B}),i.d(e,"Y",function(){return Q}),i.d(e,"W",function(){return G}),i.d(e,"tb",function(){return H}),i.d(e,"ub",function(){return W}),i.d(e,"sb",function(){return X}),i.d(e,"F",function(){return q}),i.d(e,"G",function(){return z}),i.d(e,"E",function(){return Y}),i.d(e,"k",function(){return K}),i.d(e,"M",function(){return Z}),i.d(e,"N",function(){return tt}),i.d(e,"L",function(){return et}),i.d(e,"Ob",function(){return it}),i.d(e,"Pb",function(){return nt}),i.d(e,"w",function(){return at}),i.d(e,"o",function(){return st}),i.d(e,"p",function(){return ot}),i.d(e,"n",function(){return rt}),i.d(e,"x",function(){return ct}),i.d(e,"m",function(){return ut}),i.d(e,"r",function(){return lt}),i.d(e,"s",function(){return dt}),i.d(e,"q",function(){return ft}),i.d(e,"i",function(){return pt}),i.d(e,"Xb",function(){return mt}),i.d(e,"c",function(){return ht}),i.d(e,"d",function(){return vt}),i.d(e,"Ib",function(){return _t}),i.d(e,"j",function(){return bt}),i.d(e,"Wb",function(){return gt}),i.d(e,"Kb",function(){return yt}),i.d(e,"l",function(){return wt}),i.d(e,"Vb",function(){return Ct}),i.d(e,"Gb",function(){return Tt}),i.d(e,"Hb",function(){return St}),i.d(e,"gb",function(){return Ut}),i.d(e,"hb",function(){return Lt}),i.d(e,"fb",function(){return Mt}),i.d(e,"db",function(){return Pt}),i.d(e,"eb",function(){return jt}),i.d(e,"cb",function(){return xt}),i.d(e,"bb",function(){return kt}),i.d(e,"Yb",function(){return It}),i.d(e,"ob",function(){return Et}),i.d(e,"nb",function(){return At}),i.d(e,"mb",function(){return $t}),i.d(e,"Jb",function(){return Nt}),i.d(e,"a",function(){return Jt}),i.d(e,"Mb",function(){return Vt}),i.d(e,"Rb",function(){return Dt}),i.d(e,"Sb",function(){return Ot}),i.d(e,"D",function(){return Rt}),i.d(e,"bc",function(){return Ft}),i.d(e,"Lb",function(){return Bt}),i.d(e,"T",function(){return Qt}),i.d(e,"S",function(){return Gt}),i.d(e,"Cb",function(){return Ht}),i.d(e,"Db",function(){return Wt}),i.d(e,"Bb",function(){return Xt}),i.d(e,"zb",function(){return qt}),i.d(e,"Ab",function(){return zt}),i.d(e,"yb",function(){return Yt}),i.d(e,"Fb",function(){return Kt}),i.d(e,"kb",function(){return Zt}),i.d(e,"lb",function(){return te}),i.d(e,"jb",function(){return ee}),i.d(e,"ib",function(){return ie}),i.d(e,"ac",function(){return ne});var n="GETINFO_SUCCESS",a="GETSETTINGS_SUCCESS",s="GETMYINFO_SUCCESS",o="GETMYINFO_FAILURE",r="SETSIGN_SUCCESS",c="GETWATCHHISTORY_SUCCESS",u="WATCH_VIDEO",l="FETCHNAVNUM_SUCCESS",d="FETCHNAVNUM_FAILURE",f="UPADTE_USER_STATE",p="GETUPSTAT_SUCCESS",m="UPDATE_WATCHLATER",h="FETCHTOPPHOTO_SUCCESS",v="FETCHSKIN_SUCCESS",_="UPLOADTOUTU_SUCCESS",b="GETBCOIN_SUCCESS",g="GETTOPVIDEO_SUCCESS",y="GETMASTERPIECE_SUCCESS",w="GETTOPVIDEO_FAILURE",C="GETMASTERPIECE_FAILURE",T="DELETEMASTERPIECE_SUCCESS",S="DELETETOPVIDEOS_SUCCESS",U="CLEARSELECTVIDEOS",L="FETCHSUBMITVIDEOS_START",M="GETSUBMITVIDEOS_SUCCESS",P="GETSUBMITVIDEOS_FAILURE",j="SETVIDEOSABTEST",x="GETCHANNEL_SUCCESS",k="GETCHANNELWITHARCHIVES_SUCCESS",I="GETCHANNELINFO_SUCCESS",E="GETFAV_START",A="GETFAV_SUCCESS",$="GETFAV_FAILURE",N="FETCHFAVDETAIL_START",J="FETCHFAVDETAIL_SUCCESS",V="FETCHFAVDETAIL_FAILURE",D="COPYVIDEO_SUCCESS",O="DELFAVLIST_SUCCESS",R="SETFAVLIST_SUCCESS",F="RENAMEFAV_SUCCESS",B="GETMYFAV_START",Q="GETMYFAV_SUCCESS",G="GETMYFAV_FAILURE",H="GETTOPICS_START",W="GETTOPICS_SUCCESS",X="GETTOPICS_FAILURE",q="GETALLARTICLE_START",z="GETALLARTICLE_SUCCESS",Y="GETALLARTICLE_FAILURE",K="DELINVALIDVIDEO_SUCCESS",Z="GETFAVNAV_START",tt="GETFAVNAV_SUCCESS",et="GETFAVNAV_FAILURE",it="SETALBUMNAV_SUCCESS",nt="SETFAVBANGUMINUM_SUCCESS",at="FETCHFAVTLIST_SUCCESS",st="FETCH_CREATEDLIST_START",ot="FETCH_CREATEDLIST_SUCCESS",rt="FETCH_CREATEDLIST_FAILURE",ct="FETCH_MYCREATEDLIST_SUCCESS",ut="FETCH_COLLECTEDLIST_SUCCESS",lt="FETCHFAVDETAILS_START",dt="FETCHFAVDETAILS_SUCCESS",ft="FETCHFAVDETAILS_FAILURE",pt="DELFAVPLAYLIST_SUCCESS",mt="THUMBUPORDOWN_SUCCESS",ht="COLLFAVADD_SUCCESS",vt="COLLFAVDEL_SUCCESS",_t="MOREVIDEO_SUCCESS",bt="DELFAVVIDEO_SUCCESS",gt="SHOWFAVSHARE_SUCCESS",yt="MYCOLLFAVDEL_SUCCESS",wt="DELVIDEO_SUCCESS",Ct="SHAREPLAYLIST_SUCCESS",Tt="MODALADDFAV_LOAD",St="MODALADDFAV_SUCCESS",Ut="GETPLAYLIST_START",Lt="GETPLAYLIST_SUCCESS",Mt="GETPLAYLIST_FAILURE",Pt="GETPLAYLISTINFO_START",jt="GETPLAYLISTINFO_SUCCESS",xt="GETPLAYLISTINFO_FAILURE",kt="GETPLAYLISTAUTH",It="TOGGLESPACESTATE",Et="GETRELATIONLIST_SUCCESS",At="GETRELATIONLIST_START",$t="GETRELATIONLIST_FAILURE",Nt="MOVEFROMBAN_SUCCESS",Jt="ADDATTENTION",Vt="REMOVEATTENTION",Dt="SETINDEXORDER_SUCCESS",Ot="SETPRIVACY_SUCCESS",Rt="FETCH_NUMBERS_SUCCESS",Ft="UPDATE_RELATION",Bt="RELATION_WITH_UPER",Qt="GETKNIGHT_SUCCESS",Gt="GETKNIGHT_START",Ht="GETUSERTAG_START",Wt="GETUSERTAG_SUCCESS",Xt="GETUSERTAG_FAILURE",qt="GETUSERTAGS_START",zt="GETUSERTAGS_SUCCESS",Yt="GETUSERTAGS_FAILURE",Kt="GET_ACCRELATION_SUCCESS",Zt="GETPUGV_START",te="GETPUGV_SUCCESS",ee="GETPUGV_FAILURE",ie="GETPUGVLIST_SUCCESS",ne="UPDATEPUGVNUM_SUCCESS"},132:function(t,e,i){i.d(e,"a",function(){return n});var n=[0,1,-6]},133:function(t,e,i){var n={name:"be-tags",props:{isPay:{type:Boolean,default:!1},isCoop:{type:Boolean,default:!1},isNew:{type:Boolean,default:!1},isInter:{type:Boolean,default:!1}},computed:{tagList:function(){return[{key:this.isPay,class:"pay-tag",name:"付费"},{key:this.isCoop,class:"coop-tag",name:"合作"},{key:this.isInter,class:"inter-tag",name:"互动"},{key:this.isNew,class:"new-tag",name:"NEW"}].filter(function(t){return Object.values(t)[0]}).slice(0,2)}}},a=(i(455),i(4)),s=Object(a.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.tagList.length?i("div",{staticClass:"be-tags-container"},t._l(t.tagList,function(e,n){return i("div",{key:n,class:["tag",""+e.class]},[t._v(t._s(e.name))])}),0):t._e()},[],!1,null,null,null);e.a=s.exports},18:function(t,e,i){function n(t){if(t){var e=[];for(var i in t)"_"!==i&&"ts"!==i&&"space_callback"!==i&&e.push("".concat(i,"=").concat(t[i]));return e.join("&")}return""}function a(t,e,i){return"".concat(t,"_").concat(e,"_").concat(i)}i.d(e,"a",function(){return s}),i.d(e,"c",function(){return o}),i.d(e,"d",function(){return r}),i.d(e,"b",function(){return c});var s=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=n(e),o=sessionStorage.getItem(a(i,t,s));return o?Promise.resolve(JSON.parse(o)):Promise.reject()},o=function(t,e,i){var s=a(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,t,n(e));sessionStorage.setItem(s,JSON.stringify(i))},r=function(t,e,i){var s=a(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,t,n(e)),o=sessionStorage.getItem(s);if(o){for(var r,c=JSON.parse(o),u=Object.keys(i),l=u.length;l--;)c[r=u[l]]=i[r];sessionStorage.setItem(s,JSON.stringify(c))}},c=function(t,e){var i=a(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,t,n(e));sessionStorage.removeItem(i)}},180:function(t,e,i){i.r(e),i.d(e,"setTopVideos",function(){return s}),i.d(e,"fetchTopVideos",function(){return o}),i.d(e,"deleteTopVideos",function(){return r}),i.d(e,"setMasterpiece",function(){return c}),i.d(e,"fetchMasterpiece",function(){return u}),i.d(e,"deleteMasterpiece",function(){return l});var n=i(1),a=i(0),s=function(t,e){t.commit;var i=e.aid,n=e.reason;return a.default.http.post("//api.bilibili.com/x/space/top/arc/set",{aid:i,reason:n}).then(function(t){var e=t.data,i=e.message;return 0==+e.code?Promise.resolve():(a.default.$warn("设置置顶视频失败，".concat(i)),Promise.reject())},function(t){return a.default.$warn("设置置顶视频失败，网络错误"),Promise.reject()})},o=function(t,e){var i=t.commit,s=e.mid,o=e.isOwner;return a.default.http({method:"get",url:"//api.bilibili.com/x/space/top/arc",params:{vmid:s},withCredentials:!!o}).then(function(t){var e=t.data,a=e.data;return 0==+e.code?i(n.wb,a):i(n.vb)})},r=function(t){var e=t.commit;a.default.http.post("//api.bilibili.com/x/space/top/arc/cancel").then(function(t){var i=t.data,s=i.data;0==+i.code?e(n.g):a.default.$warn("取消置顶视频失败，".concat(s))},function(t){return a.default.$warn("取消置顶视频失败，网络错误")})},c=function(t,e){t.commit;var i=e.aid,n=e.reason;return a.default.http.post("//api.bilibili.com/x/space/masterpiece/add",{aid:i,reason:n}).then(function(t){var e=t.data,i=e.message;return 0==+e.code?Promise.resolve():(a.default.$warn("设置代表作失败，".concat(i)),Promise.reject())},function(t){return a.default.$warn("设置代表作失败，网络错误"),Promise.reject()})},u=function(t,e){var i=t.commit,s=e.mid,o=e.isOwner;a.default.http({method:"get",url:"//api.bilibili.com/x/space/masterpiece",params:{vmid:s},withCredentials:!!o}).then(function(t){var e=t.data,a=e.data;0==+e.code?i(n.V,a):i(n.U)})},l=function(t,e){var i=t.commit,s=e.id;return a.default.http.post("//api.bilibili.com/x/space/masterpiece/cancel",{aid:s}).then(function(t){var e=t.data,o=e.code,r=e.message;return 0==+o?(i(n.f,s),Promise.resolve()):(a.default.$warn("取消代表作失败，".concat(r)),Promise.reject())},function(t){return a.default.$warn("取消代表作失败，网络错误"),Promise.reject()})}},181:function(t,e,i){i.r(e),i.d(e,"fetchRelationNumbers",function(){return r}),i.d(e,"fetchRelationsList",function(){return c}),i.d(e,"fetchManyInfos",function(){return u}),i.d(e,"fetchRelation",function(){return l}),i.d(e,"fetchBeRelation",function(){return d}),i.d(e,"fetchManyRelations",function(){return f}),i.d(e,"fetchFansVipInfo",function(){return p}),i.d(e,"modifyRelations",function(){return m}),i.d(e,"fetchQuietlyFollowing",function(){return h}),i.d(e,"fetchUserTag",function(){return v}),i.d(e,"getUserTagList",function(){return _}),i.d(e,"addUserTag",function(){return b}),i.d(e,"updateUserTag",function(){return g}),i.d(e,"delUserTag",function(){return y}),i.d(e,"moveUser",function(){return w}),i.d(e,"copyUser",function(){return C}),i.d(e,"updateRelationList",function(){return T}),i.d(e,"modifyRelationList",function(){return S}),i.d(e,"getKnight",function(){return U}),i.d(e,"exitKnight",function(){return L});var n=i(18),a=i(1),s=i(0),o="//api.bilibili.com/x/relation",r=function(t,e){var i=t.commit;return s.default.http.jsonp("".concat(o,"/stat"),{params:{vmid:e}}).then(function(t){var e=t.data,n=t.code,s=t.message;return 0===n?(i(a.D,e),Promise.resolve(e)):(console.log("用户关系数据获取失败，".concat(s)),i(a.D,{following:0,whisper:0,black:0,follower:0}),Promise.resolve({following:0,whisper:0,black:0,follower:0}))},function(){return s.default.$warn("获取用户关系数据失败，网络错误"),Promise.reject()})},c=function(t,e){var i=t.commit,n=e.params,r=e.type;return i(a.nb),s.default.http.jsonp("".concat(o,"/").concat(r),{params:n}).then(function(t){var e=t.code,n=t.data,s=t.message;if(0===e){var o=n.list;return i(a.ob,o&&o.length>0?o:[]),Promise.resolve()}return i(a.ob,[]),console.log("获取粉丝列表失败，".concat(s)),Promise.reject()},function(t){return console.log("获取粉丝列表失败，网络错误"),i(a.ob,[]),Promise.reject()})},u=function(t,e){t.commit;return s.default.http.post("/ajax/member/GetInfos",{mid:e}).then(function(t){var e=t.data,i=e.status,n=e.data;return i?Promise.resolve(n.cards):(console.log("批量获取用户信息失败，".concat(n)),Promise.reject())},function(t){return Promise.reject()})},l=function(t,e){t.commit;return s.default.http.jsonp(o,{params:{fid:e}}).then(function(t){var e=t.code,i=t.data,n=t.message;return 0===e?Promise.resolve(i):(console.log("单条获取用户关系失败，".concat(n)),Promise.reject())},function(t){return Promise.reject()})},d=function(t,e){t.commit;return s.default.http.jsonp("//api.bilibili.com/x/space/acc/relation",{params:{mid:e}}).then(function(t){var e=t.code,i=t.data,n=t.message;return 0===e?Promise.resolve(i):(console.log("单条获取用户被关注关系失败，".concat(n)),Promise.reject())})},f=function(t,e){t.commit;return s.default.http.jsonp("".concat(o,"/relations"),{params:{fids:e}}).then(function(t){var e=t.code,i=t.data,n=t.message;return 0===e?Promise.resolve(i):(console.log("批量获取用户关系失败，".concat(n)),Promise.reject())},function(t){return Promise.reject()})},p=function(t,e){t.commit;return s.default.http.get("/ajax/member/getMultiVipInfo",{params:{idList:e}}).then(function(t){var e=t.data,i=e.status,n=e.data;return i?Promise.resolve(n):(console.log("批量获取粉丝的会员信息失败，".concat(n)),Promise.reject())},function(t){return Promise.reject()})},m=function(t,e){var i=t.commit,c=e.mid,u=e.act,f=e.needFetchNumber,p=void 0===f||f;return s.default.http.post("".concat(o,"/modify"),{fid:c,act:u,re_src:11}).then(function(t){var e=t.data,o=e.code,f=e.message;if(Object(n.b)("//api.bilibili.com/x/space/acc/info",{mid:c},_bili_space_mid),[0,22004,22005].indexOf(o)>-1){switch(p&&setTimeout(function(){r({commit:i},_bili_space_mid)},800),c===_bili_space_mid&&setTimeout(function(){l({commit:i},c).then(function(t){var e=t.attribute;i(a.Lb,+e),i(a.Zb,[2,6].indexOf(+e)>-1?"fans":"visitor")}),d({commit:i},c).then(function(t){i(a.Fb,t)})},800),u){case 1:i(a.a,c);break;case 2:i(a.Mb,c);break;case 6:i(a.Jb,c)}return Promise.resolve()}return 22006===o?($.getScript("//static.hdslb.com/plugins/attentionLimitPopup/attentionLimitPopup.js",function(){new window.attentionLimitPopup}),Promise.reject()):(s.default.$warn(f),Promise.reject())},function(){return s.default.$warn("网络错误，请稍后重试"),Promise.reject()})},h=function(t,e){var i=t.commit,n=e.pn,r=e.ps,c=void 0===r?20:r;i(a.nb),s.default.http.jsonp("".concat(o,"/whispers"),{params:{pn:n,ps:c}}).then(function(t){var e=t.data,n=t.code,o=t.message;0==+n?i(a.ob,e.list):(s.default.$warn("获取悄悄关注列表失败，".concat(o)),i(a.mb))},function(t){s.default.$warn("获取悄悄关注列表失败，网络错误"),i(a.mb)})},v=function(t,e){var i=t.commit;i(a.nb),s.default.http.jsonp("".concat(o,"/tag"),{params:e}).then(function(t){var e=t.code,n=t.data,o=t.message;0===e?(n.forEach(function(t){t.attribute=2}),i(a.ob,n&&n.length>0?n:[])):(s.default.$warn("获取用户信息失败，".concat(o)),i(a.mb))},function(t){s.default.$warn("获取用户信息失败，网络错误"),i(a.mb)})},_=function(t){var e=t.commit;return e(a.zb),s.default.http.jsonp("".concat(o,"/tags")).then(function(t){var i=t.data,n=t.code,o=t.message;return 0==+n?(e(a.Ab,i),Promise.resolve()):(s.default.$warn("获取用户分组列表失败，".concat(o)),e(a.yb),Promise.reject())},function(t){return console.log(t),s.default.$warn("获取用户分组列表失败，网络错误"),e(a.yb),Promise.reject()})},b=function(t,e){t.commit;return s.default.http.post("".concat(o,"/tag/create"),{tag:e}).then(function(t){var e=t.data,i=e.code,n=e.message,a=e.data;return 0===i?Promise.resolve(a.tagid):(s.default.$warn("创建标签失败，".concat(n)),Promise.reject())},function(t){return s.default.$warn("创建标签失败，网络错误"),Promise.reject()})},g=function(t,e){t.commit;var i=e.tagid,n=e.name;return s.default.http.post("".concat(o,"/tag/update"),{tagid:i,name:n}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0===i?Promise.resolve("更改名称成功"):(s.default.$warn("更改名称失败，".concat(n)),Promise.reject())},function(t){return s.default.$warn("更改名称失败，网络错误"),Promise.reject()})},y=function(t,e){t.commit;return s.default.http.post("".concat(o,"/tag/del"),{tagid:e}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0===i?Promise.resolve("删除成功"):(s.default.$warn("删除频道失败，".concat(n)),Promise.reject())},function(t){return s.default.$warn("删除频道失败，网络错误"),Promise.reject()})},w=function(t,e){t.commit;var i=e.beforeTagids,n=e.afterTagids,a=e.fids;return s.default.http.post("".concat(o,"/tags/moveUsers"),{beforeTagids:i,afterTagids:n,fids:a}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0===i?Promise.resolve("移动用户成功"):(s.default.$warn("加入分组失败，".concat(n)),Promise.reject())},function(t){return s.default.$warn("加入分组失败，网络错误"),Promise.reject()})},C=function(t,e){t.commit;var i=e.fids,n=e.tagids;return s.default.http.post("".concat(o,"/tags/copyUsers"),{fids:i,tagids:n}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0===i?Promise.resolve("复制用户成功"):(s.default.$warn("复制用户失败，".concat(n)),Promise.reject())},function(t){return s.default.$warn("复制用户失败，网络错误"),Promise.reject()})},T=function(t,e){(0,t.commit)(a.bc,e)},S=function(t,e){(0,t.commit)(a.ob,e)},U=function(t,e){var i=t.commit,n=e.pn,o=e.ps,r=void 0===o?20:o;return i(a.S),s.default.http.jsonp("//api.bilibili.com/x/space/rider/list",{params:{pn:n,ps:r}}).then(function(t){var e=t.data,n=t.code,o=t.message;if(0===n){var r=e.list,c=e.page;return null===r?(i(a.T,{list:[],count:0}),Promise.resolve([])):(i(a.T,{list:r,count:c.count}),r.forEach(function(t){t.attribute=2}),Promise.resolve(r))}return s.default.$warn("请求骑士团数据失败，".concat(o)),Promise.reject()},function(){return s.default.$warn("请求骑士团数据失败，网络错误"),Promise.reject()})},L=function(t,e){t.commit;var i=e.mid;return s.default.http.post("//api.bilibili.com/x/space/rider/exit",{up_mid:i}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0===i?Promise.resolve():(s.default.$warn("退出骑士团失败，".concat(n)),Promise.reject())},function(){return s.default.$warn("退出骑士团失败，网络错误"),Promise.reject()})}},182:function(t,e,i){i.r(e),i.d(e,"fetchFavList",function(){return d}),i.d(e,"fetchMyFavList",function(){return f}),i.d(e,"delFavList",function(){return p}),i.d(e,"editFavPublic",function(){return m}),i.d(e,"editFavName",function(){return h}),i.d(e,"createFavList",function(){return v}),i.d(e,"sortFavList",function(){return _}),i.d(e,"fetchFavNavList",function(){return b}),i.d(e,"fetchFavDetail",function(){return g}),i.d(e,"fetchFavTlist",function(){return y}),i.d(e,"delVideo",function(){return w}),i.d(e,"moveVideo",function(){return C}),i.d(e,"copyVideo",function(){return T}),i.d(e,"fetchTopics",function(){return S}),i.d(e,"delTopics",function(){return U}),i.d(e,"delArticles",function(){return L}),i.d(e,"fetchArticleAllList",function(){return M}),i.d(e,"delInvalidVideo",function(){return P}),i.d(e,"delInvalidVideoState",function(){return j}),i.d(e,"fetchFavedPlaylists",function(){return x}),i.d(e,"delFavedPlaylist",function(){return k}),i.d(e,"setFavAlbumNum",function(){return I}),i.d(e,"setFavBangumiNum",function(){return E}),i.d(e,"fetchCreatedFav",function(){return A}),i.d(e,"fetchMyCreatedFav",function(){return N}),i.d(e,"fetchCollectedFav",function(){return J}),i.d(e,"fetchFavDetails",function(){return V}),i.d(e,"delFavPlayList",function(){return D}),i.d(e,"sortFavPlayLiat",function(){return O}),i.d(e,"thumbUpOrDown",function(){return R}),i.d(e,"collFavAdd",function(){return F}),i.d(e,"collFavDel",function(){return B}),i.d(e,"delFavVideo",function(){return Q}),i.d(e,"sharePlayList",function(){return G}),i.d(e,"modalAddFav",function(){return H});var n=i(12),a=i.n(n),s=i(1),o=i(0),r="//api.bilibili.com/x/v2/fav/folder",c="//api.bilibili.com/x/v2/fav/video",u="//api.bilibili.com/x/v2/fav/topic",l="//api.bilibili.com/x/article/favorites",d=function(t,e){var i=t.commit,n=e.mid,a=e.mymid;return i(s.P),o.default.http.jsonp(r,{params:{vmid:n}}).then(function(t){var e=t.data,r=void 0===e?[]:e,c=t.code,u=t.message,l={count:r.length,list:r.map(function(t){return t.name=t.name.decodeHTML(),t})};return 0==+c?(i(s.Q,l),a===n&&i(s.Y,l),Promise.resolve(l)):(i(s.O),o.default.$warn("获取用户收藏夹列表失败，".concat(u)),Promise.reject())},function(t){return i(s.O),o.default.$warn("获取用户收藏夹列表失败，网络错误"),Promise.reject()})},f=function(t,e){var i=t.commit;return i(s.X),o.default.http.jsonp(r,{params:{vmid:e}}).then(function(t){var e=t.data,n=void 0===e?[]:e,a=t.code,r=t.message,c={count:n.length,list:n.map(function(t){return t.name=t.name.decodeHTML(),t})};return 0==+a?(i(s.Y,c),Promise.resolve()):(i(s.W),o.default.$warn("获取用户收藏夹列表失败，".concat(r)),Promise.reject())},function(t){return i(s.W),o.default.$warn("获取用户收藏夹列表失败，网络错误"),Promise.reject()})},p=function(t,e){var i=t.commit;return o.default.http.post("".concat(r,"/del"),{fid:e}).then(function(t){var n=t.data,a=n.code,r=n.message;return 0==+a?(i(s.h,e),Promise.resolve()):(o.default.$warn("删除收藏夹失败，".concat(r)),Promise.reject())},function(t){return o.default.$warn("删除收藏夹失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},m=function(t,e){var i=t.commit,n=e.fid,a=e.isPublic;return o.default.http.post("".concat(r,"/public"),{fid:n,public:a}).then(function(t){var e=t.data,r=e.code,c=e.message;return 0==+r?(i(s.Qb,n,a),Promise.resolve()):(o.default.$warn("设置收藏夹公开性失败，".concat(c)),Promise.reject())},function(t){return o.default.$warn("设置收藏夹公开性失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},h=function(t,e){var i=t.commit,n=e.fid,a=e.name;return o.default.http.post("".concat(r,"/rename"),{fid:n,name:a}).then(function(t){var e=t.data,r=e.code,c=e.message;return[61001,61002].indexOf(+r)>-1?($.getScript("//static.hdslb.com/common/js/identityDialog.js",function(){IdentityDialog(r,c)}),Promise.reject()):0==+r?(i(s.Nb,n,a),Promise.resolve()):(o.default.$warn("重命名收藏夹失败，".concat(c)),Promise.reject())},function(t){return o.default.$warn("重命名收藏夹失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},v=function(t,e){t.commit;var i=e.name,n=e.isPublic;return o.default.http.post("".concat(r,"/add"),{name:i,public:n}).then(function(t){var e=t.data,i=e.code,n=e.message;return[61001,61002].indexOf(+i)>-1?($.getScript("//static.hdslb.com/common/js/identityDialog.js",function(){IdentityDialog(i,n)}),Promise.reject()):0==+i?Promise.resolve():(o.default.$warn("新建收藏夹失败，".concat(n)),Promise.reject())},function(t){return o.default.$warn("新建收藏夹失败，网络错误，网络错误"),Promise.reject()})},_=function(t,e){t.commit;return o.default.http.post("".concat(r,"/sort"),{fids:e}).then(function(t){var e=t.data;return 0==+e.code?Promise.resolve():(o.default.$warn("收藏夹排序失败，".concat(e.data)),Promise.reject())},function(t){return o.default.$warn("收藏夹排序失败，网络错误"),Promise.reject()})},b=function(t,e){var i=t.commit,n=e.mid,a=e.mymid;return i(s.M),o.default.http.jsonp("//api.bilibili.com/x/space/fav/nav",{params:{mid:n}}).then(function(t){var e=t.data,r=void 0===e?[]:e,c=t.code,u=t.message;if(0==+c){var l={count:r.archive.length,list:r.archive.map(function(t){return t.name=t.name.decodeHTML(),t}),data:r};return i(s.N,l),a===n&&i(s.Y,l),Promise.resolve(l)}return i(s.L),o.default.$warn("获取用户收藏夹列表失败，".concat(u)),Promise.reject()},function(t){return i(s.L),o.default.$warn("获取播单收藏夹列表失败，网络错误"),Promise.reject()})},g=function(t,e){var i=t.commit;return i(s.u),o.default.http.jsonp("//api.bilibili.com/x/space/fav/arc",{params:e}).then(function(t){var e=t.data,n=void 0===e?{}:e,a=t.code,r=t.message,c={count:n.total,pages:n.pagecount,vlist:n.archives.map(function(t){return t.desc=t.desc.decodeHTML(),t.title=t.title.decodeHTML(),t})};return 0==+a?(i(s.v,c),Promise.resolve(c)):11018==+a?(i(s.t),Promise.reject(11018)):(o.default.$warn("收藏夹详情获取失败！ ∑(っ °Д °;)っ，".concat(r)),Promise.reject())},function(t){return i(s.t),Promise.reject()})},y=function(t,e){var i=t.commit;return o.default.http.get("//api.bilibili.com/medialist/gateway/coll/resource/partition",{params:e,withCredentials:!0}).then(function(t){var e=t.data,n=e.data,a=void 0===n?[]:n,o=e.code,r=e.message;return 0==+o?(i(s.w,a),Promise.resolve(a)):(console.log("收藏夹分区获取失败！ ∑(っ °Д °;)っ，".concat(r)),Promise.reject())},function(t){return console.log("收藏夹分区获取失败！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},w=function(t,e){t.commit;var i=e.fid,n=e.aid,a=c,s={fid:i};return"number"==typeof n||-1===n.indexOf(",")?(a+="/del",s.aid=n):(a+="/mdel",s.aids=n),o.default.http.post(a,s).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(o.default.$warn("取消收藏失败了！ ∑(っ °Д °;)っ，".concat(n)),Promise.reject())},function(t){return o.default.$warn("取消收藏失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},C=function(t,e){t.commit;var i=e.src_media_id,n=e.tar_media_id,a=e.resources;return o.default.http.post("//api.bilibili.com/medialist/gateway/coll/resource/batch/move",{src_media_id:i,tar_media_id:n,resources:a}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(o.default.$warn("移动视频失败了！ ∑(っ °Д °;)っ，".concat(n)),Promise.reject())},function(t){return o.default.$warn("移动视频失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},T=function(t,e){t.commit;var i=e.src_media_id,n=e.tar_media_id,a=e.mid,s=e.resources;return o.default.http.post("//api.bilibili.com/medialist/gateway/coll/resource/batch/copy",{src_media_id:i,tar_media_id:n,mid:a,resources:s}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(o.default.$warn("复制视频失败了！ ∑(っ °Д °;)っ，".concat(n)),Promise.reject())},function(t){return o.default.$warn("复制视频失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},S=function(t,e){var i=t.commit;return i(s.tb),o.default.http.jsonp(u,{params:e}).then(function(t){var e=t.code,n=t.data;return 0==+e?(n.list.forEach(function(t){t.name=t.name.decodeHTML()}),i(s.ub,n)):i(s.sb)},function(t){return i(s.sb)})},U=function(t,e){t.commit;return o.default.http.post("".concat(u,"/del"),{tpid:e}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(o.default.$warn("取消收藏夹话题失败了！ ∑(っ °Д °;)っ，".concat(n)),Promise.reject())},function(t){return o.default.$warn("取消收藏夹话题失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},L=function(t,e){t.commit;return o.default.http.post("".concat(l,"/del"),{id:e}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0===i?Promise.resolve():(o.default.$warn("取消收藏夹失败了！ ∑(っ °Д °;)っ，".concat(n)),Promise.reject())},function(t){return o.default.$warn("取消收藏夹话题失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},M=function(t,e){var i=t.commit;return o.default.http.jsonp("".concat(l,"/list/all"),{params:e}).then(function(t){var e=t.code,n=t.data,a=t.message;0===e?(n.favorites.forEach(function(t){t.title=t.title.decodeHTML(),t.summary=t.summary.decodeHTML()}),i(s.G,n)):(i(s.E),o.default.$warn("获取用户专栏列表失败，".concat(a)))},function(t){i(s.E),o.default.$warn("获取用户专栏列表失败，网络错误")})},P=function(t,e){t.commit;return o.default.http.post("//api.bilibili.com/medialist/gateway/coll/resource/clean",{media_id:e}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(o.default.$warn("清除失效视频失败了！ ∑(っ °Д °;)っ，".concat(n)),Promise.reject())},function(t){return o.default.$warn("清除失效视频失败了！ ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},j=function(t,e){var i=t.commit;o.default.http.jsonp("".concat(c,"/cleaned"),{params:{fid:e}}).then(function(t){var e=t.code,n=t.data;i(s.k,0===e?n.state:2)},function(t){i(s.k,2)})},x=function(t,e){var i=t.commit;return i(s.gb),o.default.http.jsonp("//api.bilibili.com/x/playlist/fav",{params:e}).then(function(t){var e=t.code,n=t.data,a=t.message;n.list=n.list.map(function(t){return t.name=t.name.decodeHTML(),t}),0==+e?i(s.hb,n):(i(s.fb),o.default.$warn("获取播单收藏夹列表失败，".concat(a)))},function(t){i(s.sb),o.default.$warn("获取播单收藏夹列表失败，网络错误")})},k=function(t,e){t.commit;return o.default.http.post("".concat("//api.bilibili.com/x/playlist/fav","/del"),{pid:e}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(o.default.$warn("取消播单失败了！ ∑(っ °Д °;)っ，\n          ".concat(n)),Promise.reject())},function(t){return o.default.$warn("取消播单失败了！∑(っ °Д °;)っ，网络错误"),Promise.reject()})},I=function(t,e){(0,t.commit)(s.Ob,e)},E=function(t,e){(0,t.commit)(s.Pb,e)},A=function(t,e){var i=t.commit,n=e.up_mid,r=e.ps,c=e.is_space;return i(s.o),o.default.http.get("//api.bilibili.com/medialist/gateway/base/created",{params:{pn:1,ps:r||100,up_mid:n,is_space:c},withCredentials:!0}).then(function(t){var e=t.data,n=e.code,o=e.data;e.message;return 0==+n?(i(s.p,a()({},o)),Promise.resolve()):(i(s.n),Promise.reject())})},N=function(t,e){var i=t.commit,n=e.up_mid;return o.default.http.get("//api.bilibili.com/medialist/gateway/base/created",{params:{pn:1,ps:100,up_mid:n,is_space:0},withCredentials:!0}).then(function(t){var e=t.data,n=e.code,o=e.data;return 0==+n?(i(s.x,a()({},o)),Promise.resolve()):Promise.reject()})},J=function(t,e){var i=t.commit,n=e.pn,r=e.ps,c=e.up_mid,u=e.isReSet;return o.default.http.get("//api.bilibili.com/medialist/gateway/base/collected",{params:{pn:n,ps:r,up_mid:c},withCredentials:!0}).then(function(t){var e=t.data,o=e.code,c=e.data,l=void 0===c?{}:c;e.message;return 0==+o?(i(s.m,a()({},l,{pn:n,ps:r,isReSet:u})),Promise.resolve()):Promise.reject()})},V=function(t,e){var i=t.commit;return i(s.r),o.default.http.get("//api.bilibili.com/medialist/gateway/base/spaceDetail",{params:e,withCredentials:!0}).then(function(t){var e=t.data,n=e.code,a=e.data;e.message;return 0==+n?(i(s.s,a),Promise.resolve(a)):(i(s.q),Promise.reject())})},D=function(t,e){var i=t.commit;return o.default.http.post("//api.bilibili.com/medialist/gateway/base/del",{media_ids:e}).then(function(t){var n=t.data,a=n.code,r=n.message;return 0==+a?(i(s.i,e),Promise.resolve()):(o.default.$warn("删除收藏夹失败，".concat(r)),Promise.reject())})},O=function(t,e){t.commit;return o.default.http.post("//api.bilibili.com/medialist/gateway/sort/medialist",{sort:e}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(o.default.$warn("收藏夹排序失败，".concat(n)),Promise.reject())})},R=function(t,e){var i=t.commit,n=e.rid,a=e.thumb_type,r=e.type,c=e.up_mid;return o.default.http.post("//api.bilibili.com/medialist/gateway/thumb/up",{rid:n,thumb_type:a,type:r,up_mid:c}).then(function(t){var e=t.data,n=e.data,a=e.code,r=e.message;return 0==+a?(i(s.Xb,n),Promise.resolve()):(o.default.$warn("播单点赞/取消点赞失败，".concat(r)),Promise.reject())})},F=function(t,e){var i=t.commit;return o.default.http.post("//api.bilibili.com/medialist/gateway/coll/medialist/add",{media_id:e}).then(function(t){var e=t.data,n=e.code,a=e.message;return 0==+n?(i(s.c),Promise.resolve()):(o.default.$warn("播单收藏失败，".concat(a)),Promise.reject())})},B=function(t,e){var i=t.commit,n=e.id,a=e.mid,r=e.mymid;return o.default.http.post("//api.bilibili.com/medialist/gateway/coll/medialist/del",{media_id:n}).then(function(t){var e=t.data,c=e.code,u=e.message;return 0==+c?(+a==+r&&i(s.Kb,n),i(s.d),Promise.resolve()):(o.default.$warn("播单取消收藏失败，".concat(u)),Promise.reject())})},Q=function(t,e){t.commit;var i=e.resources,n=e.media_id;return o.default.http.post("//api.bilibili.com/medialist/gateway/coll/resource/batch/del",{resources:i,media_id:n}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(o.default.$warn("取消播单视频失败，".concat(n)),Promise.reject())})},G=function(t,e){t.commit;var i=e.rid,n=e.r_type,a=e.cnt_type;return o.default.http.post("//api.bilibili.com/medialist/gateway/statistics/count",{rid:i,r_type:n,cnt_type:a}).then(function(t){return 0==+t.data.code?Promise.resolve():(console.log("播单分享上报失败"),Promise.reject())})},H=function(t,e){var i=t.commit,n=e.title,a=e.privacy,r=void 0===a?0:a,c=e.isOwner;return i(s.Gb,!0),o.default.http.post("//api.bilibili.com/medialist/gateway/base/add",{title:n,privacy:r}).then(function(t){var e=t.data,n=e.code,a=e.data;return i(s.Gb,!1),0==+n?(i(s.Hb,{data:a,isOwner:c}),Promise.resolve(a)):(o.default.$warn("操作失败，请重试"),Promise.reject())}).catch(function(t){return i(s.Gb,!1),o.default.$warn("新建收藏夹失败, ".concat(t)),Promise.reject()})}},183:function(t,e,i){i.r(e),i.d(e,"favList",function(){return n}),i.d(e,"isFavListLoad",function(){return a}),i.d(e,"myFavList",function(){return s}),i.d(e,"isMyFavListLoad",function(){return o}),i.d(e,"favDetail",function(){return r}),i.d(e,"isFavDetailLoad",function(){return c}),i.d(e,"topics",function(){return u}),i.d(e,"favArticles",function(){return l}),i.d(e,"isArticleListLoad",function(){return d}),i.d(e,"isTopicLoad",function(){return f}),i.d(e,"idPlaylistListLoad",function(){return p}),i.d(e,"delInvalidVideoStateNum",function(){return m}),i.d(e,"playlists",function(){return h}),i.d(e,"favNavList",function(){return v}),i.d(e,"isFarNavListLoad",function(){return _}),i.d(e,"tlist",function(){return b}),i.d(e,"createdList",function(){return g}),i.d(e,"collectedList",function(){return y}),i.d(e,"favListDetails",function(){return w}),i.d(e,"isShowFavShare",function(){return C}),i.d(e,"isCreatedFavLoad",function(){return T}),i.d(e,"myCreatedList",function(){return S}),i.d(e,"isAddFavLoad",function(){return U}),i.d(e,"modalAddFavList",function(){return L});var n=function(t){return t.favList},a=function(t){return t.isFavListLoad},s=function(t){return t.myFavList},o=function(t){return t.isMyFavListLoad},r=function(t){return t.favDetail},c=function(t){return t.isFavDetailLoad},u=function(t){return t.topics},l=function(t){return t.articles},d=function(t){return t.isArticleListLoad},f=function(t){return t.isTopicLoad},p=function(t){return t.idPlaylistListLoad},m=function(t){return t.delInvalidVideoStateNum},h=function(t){return t.playlists},v=function(t){return t.favNavList},_=function(t){return t.isFarNavListLoad},b=function(t){return t.tlist},g=function(t){return t.createdList},y=function(t){return t.collectedList},w=function(t){return t.favListDetails},C=function(t){return t.isShowFavShare},T=function(t){return t.isCreatedFavLoad},S=function(t){return t.myCreatedList},U=function(t){return t.isAddFavLoad},L=function(t){return t.modalAddFavList}},184:function(t,e,i){var n=i(85);i.n(n).a},196:function(t,e,i){t.exports=i(456)},425:function(t,e,i){t.exports=i(129)},426:function(t,e,i){var n=i(76);i.n(n).a},427:function(t,e,i){var n=i(77);i.n(n).a},428:function(t,e,i){var n=i(78);i.n(n).a},429:function(t,e,i){var n=i(79);i.n(n).a},430:function(t,e,i){var n=i(80);i.n(n).a},431:function(t,e,i){var n=i(81);i.n(n).a},432:function(t,e,i){var n=i(82);i.n(n).a},433:function(t,e,i){var n=i(83);i.n(n).a},434:function(t,e,i){},437:function(t,e,i){var n=i(84);i.n(n).a},438:function(t,e,i){var n=i(86);i.n(n).a},442:function(t,e,i){var n=i(87);i.n(n).a},443:function(t,e,i){var n=i(88);i.n(n).a},444:function(t,e,i){var n=i(89);i.n(n).a},446:function(t,e,i){var n=i(90);i.n(n).a},447:function(t,e,i){var n=i(91);i.n(n).a},448:function(t,e,i){var n=i(92);i.n(n).a},449:function(t,e,i){var n=i(93);i.n(n).a},450:function(t,e,i){var n=i(94);i.n(n).a},452:function(t,e,i){var n=i(95);i.n(n).a},453:function(t,e,i){var n=i(96);i.n(n).a},454:function(t,e,i){var n=i(97);i.n(n).a},455:function(t,e,i){var n=i(98);i.n(n).a},456:function(t,e,i){i.r(e);var n={};i.r(n),i.d(n,"fetchMergeInfo",function(){return N}),i.d(n,"fetchInfo",function(){return J}),i.d(n,"fetchSettings",function(){return V}),i.d(n,"fetchMyInfo",function(){return D}),i.d(n,"fetchPlaylistAuth",function(){return O}),i.d(n,"fetchWatchHistory",function(){return R}),i.d(n,"fetchNavNum",function(){return F}),i.d(n,"watchVideo",function(){return B}),i.d(n,"setSign",function(){return Q}),i.d(n,"reportUper",function(){return G}),i.d(n,"getUpStat",function(){return H}),i.d(n,"toggleSpaceState",function(){return W}),i.d(n,"updateWatchlater",function(){return X});var a={};i.r(a),i.d(a,"fetchTopphoto",function(){return q}),i.d(a,"fetchSkin",function(){return z}),i.d(a,"uploadToutu",function(){return Y}),i.d(a,"setTheme",function(){return K}),i.d(a,"setVipFreeToutu",function(){return Z}),i.d(a,"setToutu",function(){return tt}),i.d(a,"fetchExpire",function(){return et}),i.d(a,"fetchBcoin",function(){return it}),i.d(a,"buyWithCoin",function(){return nt}),i.d(a,"buyWithB",function(){return at}),i.d(a,"quickBuyWithB",function(){return st});var s={};i.r(s),i.d(s,"top",function(){return re}),i.d(s,"masterpiece",function(){return ce}),i.d(s,"isTopLoad",function(){return ue}),i.d(s,"isMasterpieceLoad",function(){return le});var o={};i.r(o),i.d(o,"_bili_space_mid",function(){return fe}),i.d(o,"_bili_space_mymid",function(){return pe}),i.d(o,"_bili_space_info",function(){return me}),i.d(o,"_bili_space_notice",function(){return he}),i.d(o,"_bili_space_settings",function(){return ve}),i.d(o,"_bili_login_info",function(){return _e}),i.d(o,"_bili_space_state",function(){return be}),i.d(o,"_bili_space_is_login",function(){return ge}),i.d(o,"_bili_space_watch_history",function(){return ye}),i.d(o,"_bili_space_nav",function(){return we}),i.d(o,"playNumber",function(){return Ce}),i.d(o,"isNavLoad",function(){return Te}),i.d(o,"watchlaterAids",function(){return Se}),i.d(o,"isSpaceLoad",function(){return Ue}),i.d(o,"_bili_space_global_message",function(){return Le}),i.d(o,"isVip",function(){return Me}),i.d(o,"isVipFrozen",function(){return Pe}),i.d(o,"isVipNormal",function(){return je}),i.d(o,"isVipAnnual",function(){return xe}),i.d(o,"isFoolsDay",function(){return ke}),i.d(o,"isVipAboutToEnd",function(){return Ie});var r={};i.r(r),i.d(r,"relations",function(){return Ne}),i.d(r,"attribute",function(){return Je}),i.d(r,"relationList",function(){return Ve}),i.d(r,"knightsList",function(){return De}),i.d(r,"knightsCount",function(){return Oe}),i.d(r,"isRelationListLoad",function(){return Re}),i.d(r,"getFansTags",function(){return Fe}),i.d(r,"userTag",function(){return Be}),i.d(r,"userTagList",function(){return Qe}),i.d(r,"defaultGroupCount",function(){return Ge}),i.d(r,"accRelation",function(){return He});var c={};i.r(c),i.d(c,"fetchPlaylists",function(){return Ye}),i.d(c,"getPlaylistInfo",function(){return Ke}),i.d(c,"getPlaylistVideo",function(){return Ze}),i.d(c,"editPlaylistSort",function(){return ti}),i.d(c,"delPlaylist",function(){return ei}),i.d(c,"delPlaylistVideo",function(){return ii}),i.d(c,"updatePlaylist",function(){return ni}),i.d(c,"createPlaylist",function(){return ai}),i.d(c,"updatePlaylistVideoDesc",function(){return si}),i.d(c,"addVideos",function(){return oi}),i.d(c,"searchVideos",function(){return ri}),i.d(c,"checkVideos",function(){return ci}),i.d(c,"uploadCover",function(){return ui}),i.d(c,"getPlaylistAuth",function(){return li}),i.d(c,"installPlaylistAuth",function(){return di});var u={};i.r(u),i.d(u,"playList",function(){return fi}),i.d(u,"isPlaylistLoad",function(){return pi}),i.d(u,"playlistInfo",function(){return mi}),i.d(u,"isPlaylistInfoLoad",function(){return hi}),i.d(u,"isPlaylistAuthed",function(){return vi});var l={};i.r(l),i.d(l,"getChannelsWithArchives",function(){return gi}),i.d(l,"getChannels",function(){return yi}),i.d(l,"getChannel",function(){return wi}),i.d(l,"addChannel",function(){return Ci}),i.d(l,"removeChannel",function(){return Ti}),i.d(l,"editChannel",function(){return Si}),i.d(l,"addChannelVideos",function(){return Ui}),i.d(l,"delChannelVideos",function(){return Li}),i.d(l,"sortChannelVideos",function(){return Mi}),i.d(l,"checkDisabledVideo",function(){return Pi});var d={};i.r(d),i.d(d,"channels",function(){return ji}),i.d(d,"channelsWithArchives",function(){return xi}),i.d(d,"isChannelsLoad",function(){return ki}),i.d(d,"isChannelLoad",function(){return Ii}),i.d(d,"channel",function(){return Ei}),i.d(d,"isThereVideos",function(){return Ai});var f={};i.r(f),i.d(f,"topphoto",function(){return Gi}),i.d(f,"skin",function(){return Hi}),i.d(f,"Bcoin",function(){return Wi}),i.d(f,"isSkinLoad",function(){return Xi}),i.d(f,"isTopphotoLoad",function(){return qi}),i.d(f,"isUploadSuccess",function(){return zi});var p={};i.r(p),i.d(p,"fetchZhanshiVideos",function(){return Ki}),i.d(p,"fetchXuanzeVideos",function(){return Zi}),i.d(p,"clearSelectVideos",function(){return tn}),i.d(p,"fetchAbTestVideos",function(){return en}),i.d(p,"setAbTestVideos",function(){return nn});var m={};i.r(m),i.d(m,"submitVideos",function(){return an}),i.d(m,"isSubmitVideosLoad",function(){return sn}),i.d(m,"selectVideos",function(){return on}),i.d(m,"isAbTest",function(){return rn}),i.d(m,"AbTestModel",function(){return cn});var h={};i.r(h),i.d(h,"fetchPugv",function(){return ln}),i.d(h,"fetchPugvList",function(){return dn}),i.d(h,"delPugv",function(){return fn});var v={};i.r(v),i.d(v,"list",function(){return pn}),i.d(v,"page",function(){return mn}),i.d(v,"isLoading",function(){return hn}),i.d(v,"pugvList",function(){return vn}),i.d(v,"pugvPage",function(){return _n});i(197);var _=i(12),b=i.n(_),g=i(14),y=i(16),w=i.n(y),C=i(1),T=i(0),S=i(127),U=i.n(S),L=i(187),M=i.n(L),P=i(130),j=i.n(P),x=function(t){return t.jsonp?k(t).catch(function(e){if(t.fallbackUrl)return t.url=t.fallbackUrl,k(t)}):I(t).catch(function(e){if(t.fallbackUrl)return t.url=t.fallbackUrl,I(t)})};function k(t){return t.query.jsonp="jsonp",t.param=t.params||t.param||t.data,new Promise(function(e,i){t.url=t.query?t.url+"?"+j.a.stringify(t.query):"",t.url.indexOf("http")<0&&(t.url=window.location.protocol+t.url),M()(t.url,t,function(t,n){if(t)return i(t);var a={code:n.code,data:n};e(a)})})}function I(t){return t.type&&(t.method=t.type),t.contentType&&"post"===t.method&&(U.a.defaults.headers.post["Content-Type"]=t.contentType),t.url=t.query?t.url+"?"+j.a.stringify(t.query):t.url,U()(t)}var E=T.default.prototype.$isServer,A=i(425)("app:space.vuex.init"),N=function(t,e){var i=t.commit,n=e.mid;return x({method:"get",url:"http://api.bilibili.co/x/space/web/index",query:{mid:n},encode:!0}).then(function(t){var e=t.data,a=e.code,s=(e.status,e.data),o=e.message,r=void 0===o?"":o;if(0===a){var c=s.account,u=s.setting,l=s.archive;A("account",c),c.sign=c.sign.decodeHTML(),c.regtime=c.jointime;var d=c.official.role,f=0;0===d&&(f=-1),d>2&&(f=1),c.official_verify={type:f,desc:c.official.title,suffix:c.official.desc},c.level_info={current_level:c.level},c.vip={vipType:c.vip.type,vipStatus:c.vip.status},u.theme="default",u.toutu={l_img:c.top_photo,s_img:c.top_photo};var p=l.archives.map(function(t){return b()({},t,{created:t.pubdate,play:t.stat?t.stat.view:0})});return i(C.R,{data:c,mid:n}),i(C.pb,u),i(C.rb,{count:l.page.count,vlist:p.slice(0,10)}),""}var m=new Error(r||"404 Not Found");throw m.status=404,m})},J=function(t,e){var i=t.commit,n=e.mid,a=e.cookie,s={method:"get",url:"//api.bilibili.com/x/space/acc/info",params:{mid:n},withCredentials:!0};return E&&(s.url="http://space.bilibili.com"+s.url,s.headers={cookie:a}),T.default.http(s).then(function(t){var e=t.data,a=e.code,s=e.data;return 0==+a?(s.sign=s.sign.decodeHTML(),i(C.R,{data:s,mid:n}),Promise.resolve()):(console.warn("getinfo failed",s),Promise.reject({message:s}))},function(t){return!E&&console.warn("getinfo failed",t.stack),Promise.reject(t)})},V=function(t,e){var i=t.commit,n=e.mid,a=e.cookie,s={method:"get",url:"/ajax/settings/getSettings",params:{mid:n}};return E&&(s.url="http://space.bilibili.com"+s.url,s.headers={cookie:a,host:"space.bilibili.com"}),T.default.http(s).then(function(t){var e=t.data,n=e.status,a=e.data;return n?(i(C.pb,a),Promise.resolve()):(console.warn("getSettings failed",a),Promise.reject({message:a}))},function(t){return!E&&console.warn("getSettings failed",t.stack),Promise.reject(t)})},D=function(t,e){var i=t.commit,n=e.mid,a=e.cookie;return(E?T.default.http({method:"get",url:"http://api.bilibili.com/x/space/myinfo",headers:{referer:"http://space.bilibili.com",cookie:a}}).then(function(t){return t.data}):T.default.http.jsonp("//api.bilibili.com/x/space/myinfo")).then(function(t){var e=t.code,a=t.data;return 0===e?(i(C.ab,a),i(C.Zb,a.mid===n?"owner":"visitor"),Promise.resolve()):(i(C.Z),Promise.resolve())},function(t){return!E&&console.warn("myinfo failed, network error",t.stack),Promise.reject(t)})},O=function(t,e){var i=t.commit,n={vmid:e.vmid,jsonp:"jsonp"},a={method:"get",url:"//api.bilibili.com/x/playlist/whitelist",params:n};return E&&(a.url="http:"+a.url),(E?T.default.http(a).then(function(t){return t.data}):T.default.http.jsonp("//api.bilibili.com/x/playlist/whitelist",{params:n})).then(function(t){var e=t.code,n=t.data;return 0===e?(i(C.bb,{auth:n.power}),Promise.resolve()):(i(C.bb,{auth:!1}),Promise.resolve())},function(t){return i(C.bb,{auth:!1}),Promise.reject(t)})},R=function(t,e){var i=t.commit,n=e.mid,a=sessionStorage.getItem("".concat(n,"_watch_history"));null===a?T.default.http.get("/ajax/viewhistory/gethistory").then(function(t){var e=t.data,n=e.status,a=e.data;n&&("[object Array]"!==Object.prototype.toString.call(a)?i(C.Eb,[]):i(C.Eb,a.map(function(t){return t.aid})))}):i(C.Eb,JSON.parse(a))},F=function(t,e){var i=t.commit;return T.default.http.jsonp("//api.bilibili.com/x/space/navnum",{params:e}).then(function(t){var e=t.code,n=t.message,a=t.data;return 0===e?(i(C.z,a),Promise.resolve(a)):(console.log("请求导航栏数据出错，".concat(n)),i(C.y),Promise.reject())},function(){return console.log("请求导航栏数据出错，网络错误"),i(C.y),Promise.reject()})},B=function(t,e){(0,t.commit)(C.ec,e)},Q=function(t,e){var i=t.commit,n=e.user_sign;T.default.http.post("//api.bilibili.com/x/member/web/sign/update",{user_sign:n}).then(function(t){var e=t.data,a=e.code,s=e.message;[61001,61002].indexOf(+a)>-1?$.getScript("//static.hdslb.com/common/js/identityDialog.js",function(){IdentityDialog(a,s)}):0===a?i(C.Tb,n):T.default.$warn("设置签名失败，".concat(s))},function(t){return T.default.$warn("设置签名失败")})},G=function(t,e){t.commit;return T.default.http.post("/ajax/report/add",e).then(function(t){var e=t.data,i=e.status,n=e.data;return i?Promise.resolve():(T.default.$warn("举报失败，".concat(n)),Promise.reject())},function(t){return T.default.$warn("举报失败，网络错误"),Promise.reject()})},H=function(t,e){var i=t.commit;T.default.http.jsonp("//api.bilibili.com/x/space/upstat",{params:{mid:e}}).then(function(t){var e=t.code,n=t.data;0===e&&i(C.xb,n)})},W=function(t,e){var i=t.commit;F({commit:i},{mid:_bili_space_mid}),i(C.Yb,e)},X=function(t,e){var i=t.commit,n=e.aids;i(C.cc,n)},q=function(t,e){var i=t.commit;return T.default.http.get("/ajax/topphoto/getlist",{params:{mid:e}}).then(function(t){return t.data.status?i(C.C,t.data.data):T.default.$warn("获取头图列表失败，".concat(t.data.data))},function(t){return T.default.$warn("获取头图列表失败")})},z=function(t,e){var i=t.commit;return T.default.http.get("/ajax/skin/getlist",{params:{mid:e}}).then(function(t){return t.data.status?i(C.A,t.data.data):T.default.$warn("获取皮肤列表失败，".concat(t.data.data))},function(t){return T.default.$warn("获取皮肤列表失败")})},Y=function(t,e){var i=t.commit;return T.default.http.post("/ajax/topphoto/uploadTopPhotov2",{topphoto:e}).then(function(t){var e=t.data,n=e.code,a=e.message;return[61001,61002].indexOf(+n)>-1?($.getScript("//static.hdslb.com/common/js/identityDialog.js",function(){IdentityDialog(n,a)}),Promise.reject()):0==+n?(V({commit:i},{mid:_bili_space_mid}),i(C.dc,a),Promise.resolve("上传成功！")):(T.default.$warn("上传自定义头图失败，".concat(a)),Promise.reject(a))},function(t){return T.default.$warn("上传自定义头图失败"),Promise.reject("网络连接错误，请稍后再试")})},K=function(t,e){t.commit;return T.default.http.post("/ajax/settings/setTheme",{id:e}).then(function(t){var e=t.data,i=e.data;return e.status?Promise.resolve():(T.default.$warn("设置主题失败，".concat(i)),Promise.reject())},function(t){return T.default.$warn("设置主题失败，网络错误"),Promise.reject()})},Z=function(t,e){t.commit;return T.default.http.post("/ajax/settings/setVipFreeToutu",{id:e}).then(function(t){return t.data.status?Promise.resolve():T.default.$warn("设置免费头图失败 ".concat(t.data.data))},function(t){return T.default.$warn("设置免费头图失败，网络错误")})},tt=function(t,e){t.commit;return T.default.http.post("/ajax/settings/setToutu",{id:e}).then(function(t){return t.data.status?Promise.resolve():T.default.$warn("设置头图失败 ".concat(t.data.data))},function(t){return T.default.$warn("设置头图失败，网络错误")})},et=function(t,e,i){t.commit;return T.default.http.get("/ajax/".concat(i,"/getExpire"),{params:{pid:e}}).then(function(t){return t.data.status,Promise.resolve(t.data.data.expire)},function(t){return T.default.$warn("获取过期时间失败，网络错误")})},it=function(t){var e=t.commit;return T.default.http.get("/ajax/member/getBcoin").then(function(t){return t.data.status?(e(C.H,t.data.data.coin),Promise.resolve(t.data.data.coin)):T.default.$warn("获取B币失败 ".concat(t.data.data))},function(t){return T.default.$warn("获取B币失败，网络错误")})},nt=function(t,e){t.commit;var i=e.id,n=e.month,a=e.type;return T.default.http.post("/ajax/".concat(a,"/buyWithCoins"),{id:i,month:n}).then(function(t){return t.data.status?Promise.resolve(t.data.data):Promise.reject(t.data.data)},function(t){return T.default.$warn("支付失败，网络错误")})},at=function(t,e){t.commit;var i=e.id,n=e.month,a=e.type;return T.default.http.post("/ajax/".concat(a,"/buyWithB"),{id:i,month:n}).then(function(t){return t.data.status?Promise.resolve(t.data.data):Promise.reject(t.data.data)},function(t){return T.default.$warn("支付失败，网络错误")})},st=function(t,e){t.commit;var i=e.id,n=e.month,a=e.type;return T.default.http.post("/ajax/".concat(a,"/quickBuyWithB"),{id:i,month:n}).then(function(t){return t.data.status?Promise.resolve(t.data.data):Promise.reject(t.data.data)},function(t){return T.default.$warn("支付失败，网络错误")})},ot=Object.keys(a),rt={name:"theme",data:function(){return{activeId:0,isCroping:!1,mallState:"toutu",x:0,y:0,w:0,h:0,buying:{step:0,type:"toutu",length:3,isEditingLength:!1},productInfo:{}}},props:{mallActive:{type:Boolean,default:!1}},filters:{toutuPrice:function(t){return 0===t.price?"免费":t.is_vip&&t.vip_free?"大会员免费":t.had?t.expire&&t.expire<7300?"剩余"+t.expire:"已购买":t.price+(0===t.coin_type?"硬":"B")+"币/月"}},computed:b()({},Object(g.c)(["_bili_space_info","topphoto","isTopphotoLoad","skin","Bcoin","isSkinLoad","isUploadSuccess","_bili_login_info","isVip","isVipFrozen","isVipNormal","isVipAnnual","isVipAboutToEnd"]),{cost:function(){var t=+this.buying.length;return isNaN(t)?0:t*this.productInfo.price},thumbnail:function(){return void 0===this.productInfo.img?"":"//i0.hdslb.com/"+this.productInfo.img}}),methods:b()({},Object(g.b)([].concat(w()(ot),["fetchInfo","fetchSettings"])),{availableToutu:function(t){var e=[];return t.forEach(function(t,i){!t.had&&t.is_disable||e.push(t)}),e},preview:function(t,e,i,n){this.activeId=e,this.$emit("preview-toutu",t),"theme"===i?($("#space-body").css({"background-image":"url(//i0.hdslb.com/"+n.toWebP()+")"}),$("#app").css({"background-image":"url(//i0.hdslb.com/"+n.toWebP()+")"}),$(".h-inner").css({"background-position":"","background-size":"",transition:""})):$("#space-body").removeAttr("style"),window.scrollTo(0,0)},resetPreview:function(){$("#space-body").css({"background-image":""}),this.$emit("reset-toutu")},tab:function(t){var e=this;switch(t){case"toutu":if(this.isCroping)return;this.isTopphotoLoad||this.fetchTopphoto(_bili_space_mid),this.mallState="toutu",this.resetPreview();break;case"theme":if(this.isCroping)return void this.$confirm("您正在编辑自定义头图，确认要跳转皮肤套装？").then(function(){e.rechoose(),e.isSkinLoad||e.fetchSkin(_bili_space_mid),e.mallState="theme"});this.isSkinLoad||this.fetchSkin(_bili_space_mid),this.mallState="theme",this.resetPreview()}this.activeId=0},rechoose:function(){this.mallState="toutu",this.isCroping=!1,$(".upload-input").val(""),$(".crop-container .preview-container").children().remove(),this.resetPreview()},close:function(){var t=this;if(this.activeId>0||"crop"===this.mallState||"upload"===this.mallState){var e;switch(this.mallState){case"toutu":e="已选择的头图";break;case"theme":e="已选择的皮肤";break;case"crop":case"upload":e="当前自定义头图"}this.$confirm("".concat(e,"还未保存，确认离开？")).then(function(){t.rechoose(),t.activeId=0,t.$emit("theme-close")}).catch(function(t){console.log(t)})}else this.$emit("theme-close"),this.mallState="toutu",this.isCroping=!1,this.activeId=0},crop:function(t){var e=t.target.files[0],n=this;if(e.size>=20971520)this.$warn("图片大小不能超过20MB");else{var a=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL;a?i.e(27).then(function(){var t=[i(670),i(671)];(function(){var t,i,s=$(".h-inner"),o=a.createObjectURL(e);$("<img>").on("load",function(){var e=$(this),a=this.width,r=this.height;function c(e){if(parseInt(e.w)>0){var o=1280/e.w,c=200/e.h,u=a/t,l=r/i;s.css({"background-position":"-"+Math.round(o*e.x)+"px -"+Math.round(c*e.y)+"px","background-size":Math.round(o*t)+"px "+Math.round(c*i)+"px"}),n.x=Math.round(u*e.x),n.y=Math.round(l*e.y),n.w=Math.round(u*e.w),n.h=Math.round(l*e.h),n.isCroping=!0}}a<1280||r<200?n.$warn("你上传的图片尺寸过小！，要求宽度至少1280像素，高度至少200像素"):(n.mallState="crop",s.css({"background-image":"url("+o+")",transition:"none"}),e.addClass("crop-target"),$(".preview-container").append(e),n.isCroping=!0,$("#space-body").removeAttr("style"),setTimeout(function(){$(".crop-target").Jcrop({onChange:c,onSelect:c,aspectRatio:6.4,bgOpacity:.4,createHandles:["nw","ne","se","sw"],dragEdges:!1,allowSelect:!1,keySupport:!1},function(){var e=this.getBounds();t=e[0],i=e[1];var s=a/t,o=r/i,c=[];c=t/i>6.4?[(t-6.4*i)/2,0,(t+6.4*i)/2,i]:[0,(i-t/6.4)/2,t,(i+t/6.4)/2],this.setSelect(c),n.x=s*c[0],n.y=o*c[1],n.w=(c[2]-c[0])*s,n.h=(c[3]-c[1])*o})},0),$("#toutu-scroll-container").hide().siblings(".edit-container").show())}).attr("src",o)}).apply(null,t)}).catch(i.oe):this.$warn("对不起，你的浏览器不支持图片自定义上传，请选择Chrome等现代浏览器~")}},upload:function(){var t=this;if(this.w<1280)this.$warn("你上传的图片尺寸过小！，要求宽度至少1280像素，高度至少200像素");else{var e=$('<canvas width="1280" height="200"></canvas>')[0],i=e.getContext("2d"),n=document.querySelector(".crop-target");this.mallState="upload",this.isCroping=!1,i.drawImage(n,this.x,this.y,this.w,this.h,0,0,1280,200);var a=e.toDataURL().replace("data:image/png;base64,","");this.uploadToutu(a).then(function(e){t.rechoose(),t.$emit("theme-close"),$(".h-inner").css({"background-size":"","background-position":"",transition:""}),t.activeId=0},function(e){t.rechoose(),t.$emit("theme-close"),$(".h-inner").css({"background-size":"","background-position":"",transition:""}),t.activeId=0})}},handleSetToutu:function(t){var e=this;switch(this.mallState){case"toutu":default:this.setToutu(t).then(function(t){e.fetchSettings({mid:_bili_space_mid}),e.stopBuying(),e.$emit("theme-close")});break;case"theme":this.setTheme(t).then(function(t){e.fetchInfo({mid:_bili_space_mid}),e.stopBuying(),e.$emit("theme-close")})}},handleBuy:function(t,e){switch(e){case"skin":this.$set(this.productInfo,"id",t.id),this.$set(this.productInfo,"type",t.s_type),this.$set(this.productInfo,"name",t.s_name),this.$set(this.productInfo,"had",t.had),this.$set(this.productInfo,"expire",t.expire),this.$set(this.productInfo,"price",t.price),this.$set(this.productInfo,"vip_free",0),this.$set(this.productInfo,"disabled",t.is_disable),this.$set(this.productInfo,"img",t.s_img);break;case"topphoto":default:this.$set(this.productInfo,"id",t.id),this.$set(this.productInfo,"type",t.coin_type),this.$set(this.productInfo,"name",t.product_name),this.$set(this.productInfo,"had",t.had),this.$set(this.productInfo,"expire",t.expire),this.$set(this.productInfo,"price",t.price),this.$set(this.productInfo,"vip_free",t.vip_free),this.$set(this.productInfo,"disabled",t.is_disable),this.$set(this.productInfo,"img",t.thumbnail_img)}1===this.productInfo.type&&this.fetchBcoin(),this.buying.type=e,this.buying.step=1},selectLength:function(t){this.buying.length=t,this.buying.isEditingLength=!1},editLength:function(){this.buying.length=void 0,this.buying.isEditingLength=!0,setTimeout(function(){document.querySelector(".theme-buy-custom-length").focus()},10)},stopBuying:function(){this.buying.type="",this.buying.step=0,this.productInfo={},this.buying.length=3,this.buying.isEditingLength=!1},doBuy:function(){var t=this,e=this.productInfo,i=this.buying;0===this.productInfo.type&&Number(i.length)>0?this.buyWithCoin({id:e.id,month:Number(i.length),type:i.type}).then(function(n){t.fetchExpire(e.id,i.type).then(function(e){t.$set(t.productInfo,"new_expire",e),t.buySucceed()})},function(e){t.$set(t.productInfo,"failure_reason",e),t.buyFail()}):this.Bcoin>this.cost?this.quickBuyWithB({id:e.id,month:Number(i.length),type:i.type}).then(function(n){t.fetchExpire(e.id,i.type).then(function(e){t.$set(t.productInfo,"new_expire",e),t.buySucceed()})},function(e){t.$set(t.productInfo,"failure_reason",e),t.buyFail()}):this.buyWithB({id:e.id,month:Number(i.length),type:i.type}).then(function(e){new payPopup({sum:t.cost,payOrderNo:e.order_no,type:1,hasbpticket:1},function(){this.buySucceed()})},function(e){t.$set(t.productInfo,"failure_reason",e),t.buyFail()})},buySucceed:function(){this.buying.step=2,"toutu"===this.mallState?this.fetchTopphoto(_bili_space_mid):"theme"===this.mallState&&this.fetchSkin(_bili_space_mid),this.activeId=0},buyFail:function(t){this.buying.step=3},rebuy:function(){this.buying.step=1}}),watch:{mallState:function(t){this.mallActive&&("toutu"===t?rec("space_clothes_coverPage_show"):"theme"===t&&rec("space_clothes_skinPage_show"))}}},ct=(i(426),i(4)),ut=Object(ct.a)(rt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"t",class:{"theme-show":t.mallActive},attrs:{id:"space-theme"}},[i("div",{attrs:{id:"theme-header"}},[i("div",{staticClass:"wrapper"},[i("div",{staticClass:"theme-topright"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isVipAboutToEnd,expression:"isVipAboutToEnd"}],staticClass:"theme-ann"},[i("span",{staticClass:"theme-ann-icon icon"}),i("span",{staticClass:"theme-ann-text"},[t._v("大会员剩余时间：\n            "),i("var",[t._v(t._s(t._bili_login_info.vip.expire>=1?t._bili_login_info.vip.expire:"不足一"))]),t._v("天")])]),i("span",{staticClass:"icon theme-close",on:{click:t.close}})]),i("div",{staticClass:"theme-tabs clearfix"},[i("span",{staticClass:"tab theme-tab",class:{active:"toutu"===t.mallState||"crop"===t.mallState||"upload"===t.mallState},attrs:{for:"theme-panel"},on:{click:function(e){return t.tab("toutu")}}},[t._v("头图")]),i("span",{staticClass:"tab theme-tab",class:{active:"theme"===t.mallState},attrs:{for:"theme-panel"},on:{click:function(e){return t.tab("theme")}}},[t._v("皮肤套装")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"toutu"===t.mallState||"crop"===t.mallState||"upload"===t.mallState,expression:"mallState === 'toutu' || mallState === 'crop' || mallState === 'upload'"}],staticClass:"theme-panel"},[i("div",{staticClass:"wrapper theme-panel-inner clearfix"},[i("be-scrollbar",{directives:[{name:"show",rawName:"v-show",value:"toutu"===t.mallState,expression:"mallState === 'toutu'"}],staticClass:"theme-list",attrs:{source:t.availableToutu(t.topphoto),name:"toutu"}},[i("ul",{staticClass:"theme-list-inner clearfix",attrs:{id:"toutu-list"}},[t.isVipNormal?i("li",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_diyCover_click",expression:"'space_clothes_diyCover_click'"}],staticClass:"upload-toutu toutu-item"},[i("div",{staticClass:"upload-content"},[i("div",{staticClass:"upload-icon"}),i("div",{staticClass:"upload-tips u-tips1"},[t._v("自定义头图")]),i("div",{staticClass:"upload-tips u-tips2"},[t._v("推荐尺寸为2048*320，支持jpg、png图片")])]),i("input",{ref:"upload",staticClass:"upload-input",attrs:{type:"file",accept:"image/png, image/jpeg"},on:{change:t.crop}})]):t._e(),t._l(t.availableToutu(t.topphoto),function(e){return i("li",{directives:[{name:"show",rawName:"v-show",value:e.had||!e.is_disable,expression:"toutu.had || !toutu.is_disable"},{name:"rep",rawName:"v-rep",value:"space_clothes_cover_click",expression:"'space_clothes_cover_click'"}],staticClass:"item toutu-item",class:{active:t.activeId===e.id},style:{backgroundImage:"url(//i0.hdslb.com/"+e.l_img+")"},on:{click:function(i){return t.preview(e.l_img,e.id,"toutu")}}},[i("div",{staticClass:"toutu-detail"},[i("div",{staticClass:"toutu-meta"},[i("div",{staticClass:"toutu-title"},[t._v(t._s(e.product_name))]),i("div",{staticClass:"toutu-price"},[t._v(t._s(t._f("toutuPrice")(e)))]),i("div",{staticClass:"toutu-action"},[0===e.price||e.is_vip&&e.vip_free?i("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_cover_use_click",expression:"'space_clothes_cover_use_click'"}],staticClass:"toutu-btn use",on:{click:function(i){return t.handleSetToutu(e.id,e.vip_free)}}},[t._v("使用")]):[e.had?i("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_cover_use_click",expression:"'space_clothes_cover_use_click'"}],staticClass:"toutu-btn use",on:{click:function(i){return t.handleSetToutu(e.id,e.vip_free)}}},[t._v("使用")]):t._e(),e.had&&!e.is_disable?i("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_cover_buy_click space_clothes_skinDetails_click",expression:"'space_clothes_cover_buy_click space_clothes_skinDetails_click'"}],staticClass:"toutu-btn buy",on:{click:function(i){return t.handleBuy(e,"topphoto")}}},[t._v("续费")]):t._e(),e.had?t._e():i("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_cover_buy_click space_clothes_skinDetails_click",expression:"'space_clothes_cover_buy_click space_clothes_skinDetails_click'"}],staticClass:"toutu-btn buy",on:{click:function(i){return t.handleBuy(e,"topphoto")}}},[t._v("购买")])]],2)])]),t.isVip&&1===e.vip_free?i("span",{directives:[{name:"show",rawName:"v-show",value:t.activeId!==e.id,expression:"activeId !== toutu.id"}],staticClass:"vip-icon"}):t._e(),i("span",{staticClass:"selected-icon"})])})],2)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"crop"===t.mallState||"upload"===t.mallState,expression:"mallState === 'crop' || mallState === 'upload'"}],staticClass:"edit-container"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"crop"===t.mallState,expression:"mallState === 'crop'"}],staticClass:"crop-container"},[i("div",{staticClass:"preview-container"}),i("div",{staticClass:"option-pane"},[i("span",{staticClass:"rechoose",on:{click:t.rechoose}},[t._v("重新选择")]),i("span",{staticClass:"upload-size"},[t._v("推荐头图大小为：2048x320")])]),i("be-button-group",[i("be-button",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_diyCover_confirm_click",expression:"'space_clothes_diyCover_confirm_click'"}],attrs:{type:"primary"},nativeOn:{click:function(e){return t.upload(e)}}},[t._v("确定")]),i("be-button",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_diyCover_back_Bclick",expression:"'space_clothes_diyCover_back_Bclick'"}],nativeOn:{click:function(e){return t.rechoose(e)}}},[t._v("返回")])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:"upload"===t.mallState,expression:"mallState === 'upload'"}],staticClass:"uploading-container"},[t._m(0)])])],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:"theme"===t.mallState,expression:"mallState === 'theme'"}],staticClass:"theme-panel"},[i("div",{staticClass:"wrapper theme-panel-inner clearfix"},[t.isSkinLoad?i("be-scrollbar",{staticClass:"theme-list",attrs:{source:t.skin,id:"theme-scroll-container"}},[i("ul",{staticClass:"theme-list-inner clearfix"},t._l(t.skin,function(e){return i("li",{directives:[{name:"show",rawName:"v-show",value:e.had||!e.is_disable,expression:"theme.had || !theme.is_disable"},{name:"rep",rawName:"v-rep",value:"space_clothes_skin_click",expression:"'space_clothes_skin_click'"}],staticClass:"item theme-item-outer",on:{click:function(i){return t.preview(e.toutu,e.id,"theme",e.bgimg)}}},[i("div",{staticClass:"item theme-item",class:{active:t.activeId===e.id},style:{backgroundImage:"url(//i0.hdslb.com/"+e.s_img+")"}},[i("div",{staticClass:"theme-item-active-icon icon"}),i("div",{staticClass:"theme-name"},[t._v(t._s(e.s_name))]),i("div",{staticClass:"theme-price"},[e.expire?i("span",[t._v("剩余"+t._s(t._f("format_expiretime")(e.expire)))]):i("span",[t._v(t._s(e.price)+t._s(0===e.s_type?"硬":"B")+"币/月")])]),i("div",{staticClass:"theme-action"},[e.had?[i("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_skin_use_click space_clothes_skinDetails_click",expression:"'space_clothes_skin_use_click space_clothes_skinDetails_click'"}],staticClass:"theme-btn use",on:{click:function(i){return t.handleSetToutu(e.id)}}},[t._v("使用")]),e.is_disable?t._e():i("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_skinDetails_click",expression:"'space_clothes_skinDetails_click'"}],staticClass:"theme-btn renew",on:{click:function(i){return t.handleBuy(e,"skin")}}},[t._v("续费")])]:i("span",{staticClass:"theme-btn buy",on:{click:function(i){return t.handleBuy(e,"skin")}}},[t._v("购买")])],2)])])}),0)]):t._e()],1)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.buying.step>0,expression:"buying.step > 0"}],staticClass:"theme-buy-layer",attrs:{id:"theme-buy-layer"}},[i("div",{staticClass:"theme-buy-layer-wrapper",attrs:{id:"theme-buy-layer-wrapper"}},[i("div",{staticClass:"theme-buy-close",attrs:{action:"close"},on:{click:t.stopBuying}}),i("div",{directives:[{name:"show",rawName:"v-show",value:1===t.buying.step,expression:"buying.step === 1"}],staticClass:"theme-buy-step",attrs:{id:"theme-buy-select-length"}},[i("div",{staticClass:"theme-buy-header"},[i("img",{staticClass:"theme-buy-preview",attrs:{src:t.thumbnail}}),i("p",{staticClass:"theme-buy-name"},[t._v(t._s(t.productInfo.product_name))]),t.productInfo.expire>0?i("p",{staticClass:"theme-buy-current-expire-time"},[t._v("剩余"+t._s(t._f("format_expiretime")(t.productInfo.expire)))]):t._e()]),i("div",{staticClass:"theme-buy-body"},[i("p",{staticClass:"theme-buy-a"},[t._v("购买月份")]),i("div",{staticClass:"theme-buy-list clearfix"},[i("div",{staticClass:"theme-buy-item",class:{active:3===t.buying.length},on:{click:function(e){return t.selectLength(3)}}},[t._v("3个月")]),i("div",{staticClass:"theme-buy-item",class:{active:2===t.buying.length},on:{click:function(e){return t.selectLength(2)}}},[t._v("2个月")]),i("div",{staticClass:"theme-buy-item",class:{active:1===t.buying.length},on:{click:function(e){return t.selectLength(1)}}},[t._v("1个月")]),i("div",{staticClass:"theme-buy-item custom"},[t.buying.isEditingLength?i("input",{directives:[{name:"model",rawName:"v-model",value:t.buying.length,expression:"buying.length"}],staticClass:"theme-buy-custom-length",attrs:{type:"text"},domProps:{value:t.buying.length},on:{input:function(e){e.target.composing||t.$set(t.buying,"length",e.target.value)}}}):i("span",{staticClass:"hideit",on:{click:t.editLength}},[t._v("自定义")])])]),i("div",{staticClass:"theme-buy-price"},[0===t.productInfo.type?i("div",[t._v("你的余额为 "+t._s(t._bili_space_info.coins)+" 硬币，需要支付\n              "),i("var",[t._v(t._s(t.cost))]),t._v(" 硬币")]):i("div",[i("span",{staticClass:"theme-bb-span"},[t._v("你的余额为\n                "),i("span",{staticClass:"theme-bb"},[t._v(t._s(t.Bcoin))]),t._v(" B币，")]),t._v("需要支付\n              "),i("var",[t._v(t._s(t.cost))]),t._v(" B币\n            ")])])]),i("div",{staticClass:"theme-buy-footer"},[0===t.productInfo.type&&t._bili_space_info.coins>=t.cost||1===t.productInfo.type?i("a",{directives:[{name:"rep",rawName:"v-rep",value:"space_clothes_skin_confirm_click",expression:"'space_clothes_skin_confirm_click'"}],staticClass:"theme-buy-layer-btn theme-buy-submit-btn",on:{click:t.doBuy}},[t._v("确认"+t._s(t.productInfo.expire>0?"续费":"购买"))]):i("span",{staticClass:"theme-buy-layer-btn theme-buy-submit-btn disabled"},[t._v("硬币余额不足")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:2===t.buying.step,expression:"buying.step === 2"}],staticClass:"theme-buy-step",attrs:{id:"theme-buy-success"}},[i("div",{staticClass:"theme-buy-body"},[i("div",{staticClass:"theme-buy-success-icon"}),i("div",{staticClass:"theme-buy-result-title"},[t._v("恭喜，支付成功！")]),i("div",{staticClass:"theme-buy-result-info"},[t._v("\n            你已成功\n            "),0===t.productInfo.expire?i("span",{staticClass:"theme-buy-action-type",attrs:{id:"theme-buy-gm"}},[t._v("购买")]):i("span",{staticClass:"theme-buy-action-type",attrs:{id:"theme-buy-xf"}},[t._v("续费")]),i("span",{staticClass:"theme-buy-g-name"},[t._v(t._s(t.productInfo.name))])]),i("div",{staticClass:"theme-buy-result-info"},[i("span",{staticClass:"theme-buy-expire-time"},[t._v(t._s(t._f("format_date")(t.productInfo.new_expire)))]),t._v(" 到期")])]),i("be-button-group",{staticClass:"theme-buy-footer"},[i("be-button",{staticClass:"theme-buy-layer-btn",attrs:{type:"primary"},nativeOn:{click:function(e){return t.handleSetToutu(t.productInfo.id)}}},[t._v("立即使用")]),i("be-button",{staticClass:"theme-buy-layer-btn",nativeOn:{click:function(e){return t.stopBuying(e)}}},[t._v("确认")])],1)],1),i("div",{directives:[{name:"show",rawName:"v-show",value:3===t.buying.step,expression:"buying.step === 3"}],staticClass:"theme-buy-step",attrs:{id:"theme-buy-fail"}},[i("div",{staticClass:"theme-buy-body"},[i("div",{staticClass:"theme-buy-fail-icon"}),i("div",{staticClass:"theme-buy-result-title"},[t._v("支付未完成")]),i("div",{staticClass:"theme-buy-result-info"},[t._v("你还没有完成购买\n            "),i("span",{staticClass:"theme-buy-g-name"},[t._v(t._s(t.productInfo.name))]),t._v(" 哦")]),i("div",{staticClass:"theme-buy-result-info"},[t._v("原因：\n            "),i("span",{staticClass:"theme-buy-order-id"},[t._v(t._s(t.productInfo.failure_reason))])]),i("div",{staticClass:"theme-buy-fail-bg"})]),i("be-button-group",{staticClass:"theme-buy-footer"},[i("be-button",{staticClass:"theme-buy-layer-btn",attrs:{type:"primary"},nativeOn:{click:function(e){return t.rebuy(e)}}},[t._v("重新支付")])],1)],1)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"uploading"},[e("div",{staticClass:"upload-content"},[e("div",{staticClass:"loading-icon loading"},[e("img",{attrs:{src:"//static.hdslb.com/spacev2/2/img/loading.png"}})]),e("div",{staticClass:"loading-text"},[this._v("上传中...")])])])}],!1,null,null,null).exports,lt={name:"notice",props:["content","link"],computed:{noticLink:function(){return this.link?this.link:"javascript:;"}}},dt=(i(427),{name:"common-header",data:function(){return{incr:null,decr:null,frame:0,themeShow:!1,previewToutuImg:"",modeChanging:!1,hasEditedSign:!1,edittingSign:"",report:{show:!1,checked:[],items:[{id:1,text:"头像违规"},{id:2,text:"昵称违规"},{id:3,text:"签名违规"}]}}},components:{vTheme:ut,notice:Object(ct.a)(lt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"h-notice"},[i("i",{staticClass:"icon-notice"}),i("a",{class:{linkType:t.link},attrs:{target:t.link?"_blank":"",href:t.noticLink}},[t._v(t._s(t.content))]),t.link?i("i",{staticClass:"link"}):t._e()])},[],!1,null,"597c641a",null).exports},mounted:function(){this.edittingSign=this._bili_space_info.sign,this.avatar||(this._bili_space_info.face&&this.isNavLoad?this.avatar=this._bili_space_info.face.toWebP():this.avatar="//static.hdslb.com/images/member/noface.gif")},methods:b()({},Object(g.d)(["GET_ACCRELATION_SUCCESS"]),Object(g.b)(["toggleSpaceState","setSign","reportUper","fetchTopphoto","fetchRelationsList","fetchMyInfo","modifyRelations","fetchBeRelation"]),{handleDropdownSelect:function(t){switch(t){case"setGroup":this.handleSetGroup();break;case"unfollow":this.handleUnfollow();break;case"ban":this.handleBan();break;case"silently":this.handleSilentlyFollow();break;case"report":this.handleReportUper()}},handleSetGroup:function(){var t=this;$.getScript("//static.hdslb.com/common/js/followGroupDialog.js",function(){window.followGroupDialog(_bili_space_mid,t._bili_space_info.name,{title:"设置分组",onSubmitError:function(e){$(".follow-dialog-wrap").remove(),t.$warn("加入分组失败，".concat(e))},onLoadTagsError:function(e){t.$warn("获取所有标签列表失败，".concat(e))},onLoadRelationError:function(e){t.$warn("获取标签列表失败，".concat(e))},onAddTagError:function(e){t.$warn("添加分组失败，".concat(e))},onSubmitSuccess:function(){setTimeout(function(){t.fetchBeRelation(_bili_space_mid).then(function(e){t.GET_ACCRELATION_SUCCESS(e)})},800),t.$toast("加入分组成功(ง •̀_•́)ง")}})})},handleUnfollow:function(){var t=this;_bili_space_mid!==this._bili_login_info.mid?(rec("space_alert_unsubscribe_confirm"),this.modifyRelations({mid:_bili_space_mid,act:1===this.attribute?4:2}).then(function(){"owner"!==t._bili_space_state&&"fans"===t.$route.name&&setTimeout(function(){t.fetchRelationsList({params:{vmid:_bili_space_mid,pn:1,ps:20},type:"followers"})},800),t.$toast("取消关注成功！")})):this.$warn("不能取消关注你自己哦~")},handleBan:function(){var t=this;_bili_space_mid===_bili_space_mymid?this.$toast("你无法拉黑自己哦"):this.attribute>=128?this.removeFromBan():this.$confirm("拉黑该用户之后，将自动解除关注关系，并禁止他关注我以及与我互动").then(function(){t.modifyRelations({mid:_bili_space_mid,act:5}).then(function(){setTimeout(function(){t.fetchMyInfo({vmid:t._bili_space_mymid,mid:t._bili_space_mid})},800),t.$toast("添加黑名单成功！")})})},handleSilentlyFollow:function(){var t=this,e=this.attribute;1===e?rec("unvisible_follow_cancel"):rec("unvisible_follow_click"),this.modifyRelations({mid:_bili_space_mid,act:1===e?4:3}).then(function(){t.$toast(1===e?"取消悄悄关注成功！":"悄悄关注成功！")},function(t){console.log(t)})},handleReportUper:function(){this.report.show=!0},handleCheckReport:function(t){var e=this.report.checked.indexOf(t);e>-1?this.report.checked.splice(e,1):this.report.checked.push(t)},removeFromBan:function(){var t=this;this.modifyRelations({mid:_bili_space_mid,act:6}).then(function(){t.$toast("移除黑名单成功！")})},handleFollow:function(){if(0===this._bili_login_info.mid){var t=this;$.getScript("https://static.hdslb.com/account/bili_quick_login.js",function(){window.UserStatus.quickLogin(function(){t.fetchBeRelation(_bili_space_mid).then(function(e){var i=e.be_relation,n=e.relation;(i&&2==+i.attribute||0==+n.attribute)&&(t.modifyRelations({mid:_bili_space_mid,act:1}).then(function(){t.$toast("关注成功！")}),rec(t.isAbTest?"space_followButton_click_".concat(t.AbTestModel):"space_followButton_click")),setTimeout(function(){window.location.reload()},500)}).catch(function(){window.location.reload()})})})}else _bili_space_mid===this._bili_login_info.mid?this.$warn("你时时刻刻都在关注你自己~"):(this.modifyRelationsEvent(),rec(this.isAbTest?"space_followButton_click_".concat(this.AbTestModel):"space_followButton_click"))},modifyRelationsEvent:function(){var t=this;this.modifyRelations({mid:_bili_space_mid,act:1}).then(function(){"owner"!==t._bili_space_state&&"fans"===t.$route.name&&setTimeout(function(){t.fetchRelationsList({params:{vmid:_bili_space_mid,pn:1,ps:20},type:"followers"})},800),t.handleSetGroup()})},changeSpaceMode:function(t){switch(this.toggleSpaceState(t),t){case"visitor":rec("space_switchNewVisitorViewButton_click");break;case"fans":rec("space_switchFansViewButton_click")}this.modeChanging=!0,this.$router.push({name:"index"})},closeGuestMode:function(){_bili_space_mid===_bili_space_mymid&&(this.modeChanging=!this.modeChanging,this.toggleSpaceState("owner"),"index"===this.$route.name?window.location.reload():this.$router.push({name:"index"}))},themeTriggerEnter:function(t){var e=this;clearInterval(this.incr),this.decr=setInterval(function(){t.target.style.backgroundPosition=-58*e.frame+++"px 0px",e.frame>=10&&clearInterval(e.decr)},1e3/60)},themeTriggerLeave:function(t){var e=this;clearInterval(this.decr),this.incr=setInterval(function(){t.target.style.backgroundPosition=-58*--e.frame+"px 0px",e.frame<=0&&clearInterval(e.incr)},1e3/60)},themeToggle:function(){this.themeShow=!this.themeShow,!1===this.isTopphotoLoad&&this.fetchTopphoto(_bili_space_mid)},editSign:function(){this.edittingSign!==this._bili_space_info.sign&&this.setSign({user_sign:this.edittingSign})},previewToutu:function(t){this.previewToutuImg=t},resetToutu:function(){var t=this,e=this._bili_space_info,i=this._bili_space_settings,n=e.theme.id?e.theme.top_photo:i.toutu.l_img;this.previewToutuImg="//static.hdslb.com/images/transparent.gif",this.$nextTick(function(){t.previewToutuImg="",void 0!==n&&$(".h-inner").css({"background-size":"","background-position":"",transition:""})})},confirm:function(){var t=this,e=this.report.checked;0!==e.length?(this.report.show=!1,this.reportUper({mid:_bili_space_mid,reason:e.join(",")}).then(function(){t.$toast("举报成功！")})):this.$warn("请至少选择一项作为举报内容")},cancel:function(){this.report.show=!1}}),computed:b()({},Object(g.c)(["_bili_space_mid","_bili_space_mymid","_bili_space_is_login","_bili_space_info","_bili_space_settings","_bili_space_state","_bili_login_info","isNavLoad","isVip","isVipFrozen","isVipNormal","isVipAnnual","isFoolsDay","isTopphotoLoad","attribute","accRelation","_bili_space_notice","AbTestModel","isAbTest"]),{curState:function(){switch(this._bili_space_state){case"owner":return"我自己";case"fans":return"粉丝";case"visitor":return"游客"}},silentlyFollowPrefix:function(){switch(this.attribute){case 1:return"取消";case 2:return"转为";default:return""}},toutu:function(){var t=this._bili_space_settings,e=this.previewToutuImg.length>0?this.previewToutuImg:"default"===t.theme?t.toutu.l_img:t.theme.toutu;return void 0!==e&&this.isNavLoad?"//static.hdslb.com/images/transparent.gif"===e?"//static.hdslb.com/images/transparent.gif":-1!==e.indexOf("http")?"url(".concat(e.toWebP("100Q"),")"):"url(//i0.hdslb.com/"+e.toWebP("100Q")+")":""},avatar:function(){return this._bili_space_info.face&&this.isNavLoad?String(this._bili_space_info.face).replace(/https?:/,""):"//static.hdslb.com/images/member/noface.gif"},gender:function(){var t="";switch(this._bili_space_info.sex){case"男":t="male";break;case"女":t="female";break;default:t=""}return t},authType:function(){var t=this._bili_space_info.official.role,e="";return[1,2,7].includes(t)?e+="personal-auth":[3,4,5,6].includes(t)?e+="organization-auth":this.isFoolsDay?e+="fools-vip":this.isVipNormal&&(e+="no-auth"),e},authTitle:function(){var t=this._bili_space_info.official.role;return[1,2,7].includes(t)?"个人认证":[3,4,5,6].includes(t)?"机构认证":this.isVipNormal?this.isVipAnnual?this.isFoolsDay?"年度小会员":"年度大会员":this.isFoolsDay?"小会员":"大会员":void 0},vipName:function(){return this.isVipNormal?this.isVipAnnual?this.isFoolsDay?"年度小会员":"年度大会员":this.isFoolsDay?"小会员":"大会员":""},vipClass:function(){var t="";return this.isFoolsDay&&(t+="fools-day"),t},btnState:function(){var t=this.accRelation,e=t.relation,i=t.beRelation;return i&&2==+i.attribute?"关注":0===this._bili_login_info.mid?"关注":this._bili_login_info.mid===this._bili_space_mid&&"owner"!==this._bili_space_state?"关注":1===e.special&&6!==e.attribute?"特别关注":{0:"关注",1:"已关注",2:"已关注",6:"已互粉"}[e.attribute]},specialBtn:function(){var t=this.accRelation.relation;return 1===t.special&&6!==t.attribute},isFollowBack:function(){var t=this.accRelation.beRelation;return t&&2==+t.attribute}})}),ft=(i(428),Object(ct.a)(dt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"h"},[i("div",{staticClass:"wrapper"},[i("div",{directives:[{name:"show",rawName:"v-show",value:1===t._bili_space_info.silence,expression:"_bili_space_info.silence === 1"}],staticClass:"h-forbid"},[t._m(0)]),t._bili_space_notice.content?i("notice",{attrs:{content:t._bili_space_notice.content,link:t._bili_space_notice.url}}):t._e(),i("div",{staticClass:"h-inner",style:{backgroundImage:t.toutu}},[i("div",{staticClass:"h-gradient"}),i("div",{staticClass:"h-user"},[i("div",{staticClass:"h-info clearfix"},[i("div",{staticClass:"h-avatar"},[i("img",{attrs:{src:t._f("coversize")(t.avatar,"64x64"),id:"h-avatar"}}),"owner"===t._bili_space_state?i("a",{directives:[{name:"rep",rawName:"v-rep",value:"avatar_update_click",expression:"'avatar_update_click'"}],staticClass:"avatar-cover",attrs:{target:"_blank",href:"https://account.bilibili.com/account/face/upload"}},[t._v("更换头像")]):t._e(),i("span",{staticClass:"user-auth-subscript avatar-m",class:t.authType,attrs:{title:t.authTitle}})]),i("div",{staticClass:"h-basic"},[i("div",{},[i("span",{attrs:{id:"h-name"}},[t._v(t._s(t._bili_space_info.name))]),i("span",{directives:[{name:"show",rawName:"v-show",value:""!==t._bili_space_info.description,expression:"_bili_space_info.description !== ''"}],staticClass:"icon",attrs:{id:"h-ceritification"}}),i("span",{staticClass:"icon gender",class:t.gender,attrs:{id:"h-gender"}}),i("a",{staticClass:"h-level m-level",attrs:{href:"//www.bilibili.com/html/help.html#k",target:"_blank",lvl:t._bili_space_info.level}}),i("a",{directives:[{name:"show",rawName:"v-show",value:t.isVipNormal,expression:"isVipNormal"}],staticClass:"h-vipType",class:t.vipClass,attrs:{href:"//account.bilibili.com/account/big",target:"_blank"}},[t._v(t._s(t.vipName))]),t._bili_space_info.fans_badge?i("a",{directives:[{name:"rep",rawName:"v-rep",value:"fans_medal_click",expression:"'fans_medal_click'"}],staticClass:"h-fans-icon",attrs:{href:"//www.bilibili.com/blackboard/help.html#粉丝勋章",target:"_blank"}},[i("span",{staticClass:"h-fans-text"},[t._v("粉")]),t._m(1)]):t._e()]),i("div",{staticClass:"h-basic-spacing"},[i("h4",{directives:[{name:"show",rawName:"v-show",value:!t.isNavLoad||"owner"!==t._bili_space_state,expression:"!isNavLoad || _bili_space_state !== 'owner'"}],staticClass:"h-sign",attrs:{title:t._bili_space_info.sign}},[t._v("\n                "+t._s(t._bili_space_info.sign)+"\n              ")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.edittingSign,expression:"edittingSign"},{name:"show",rawName:"v-show",value:t.isNavLoad&&"owner"===t._bili_space_state,expression:"isNavLoad && _bili_space_state === 'owner'"}],attrs:{id:"h-sign",type:"text",placeholder:"编辑个性签名",maxlength:"60"},domProps:{value:t.edittingSign},on:{blur:t.editSign,input:function(e){e.target.composing||(t.edittingSign=e.target.value)}}})])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:"owner"===t._bili_space_state,expression:"_bili_space_state === 'owner'"},{name:"rep",rawName:"v-rep",value:"space_clothes_click",expression:"'space_clothes_click'"}],staticClass:"space-theme-trigger icon",attrs:{title:"更换皮肤"},on:{mouseenter:t.themeTriggerEnter,mouseleave:t.themeTriggerLeave,click:t.themeToggle}}),"owner"===t._bili_space_state?i("be-dropdown",{directives:[{name:"show",rawName:"v-show",value:!t.modeChanging,expression:"!modeChanging"}],staticClass:"h-version",on:{select:t.changeSpaceMode}},[i("div",{staticClass:"h-v-btn popup-select",attrs:{slot:"trigger"},slot:"trigger"},[t._v("\n          视角：\n          "),i("span",{staticClass:"h-version-state"},[t._v(t._s(t.curState))]),i("span",{staticClass:"h-role-icon d-arrow d-arrow-dark"})]),i("be-dropdown-menu",{attrs:{slot:"menu"},slot:"menu"},[i("be-dropdown-item",{attrs:{name:"visitor"}},[t._v("新访客")]),i("be-dropdown-item",{attrs:{name:"fans"}},[t._v("我的粉丝")])],1)],1):t._e(),"owner"!==t._bili_space_state?i("div",{staticClass:"h-action"},[0===t.attribute?i("span",{staticClass:"h-f-btn h-follow",on:{click:t.handleFollow}},[i("i",{class:{"icon-back-follow":t.isFollowBack}}),t._v(t._s(t.btnState)+"\n        ")]):t._e(),[2,6].indexOf(t.attribute)>-1?i("be-dropdown",{staticClass:"h-f-btn h-unfollow",class:{special:t.specialBtn},attrs:{trigger:"hover"},on:{select:t.handleDropdownSelect}},[i("div",{attrs:{slot:"trigger"},slot:"trigger"},[i("i",{staticClass:"h-f-icon"}),t._v(t._s(t.btnState)+"\n            "),i("span",{staticClass:"icon icon-arrow"})]),i("be-dropdown-menu",{attrs:{slot:"menu"},slot:"menu"},[i("be-dropdown-item",{attrs:{name:"setGroup"}},[t._v("设置分组")]),i("be-dropdown-item",{attrs:{name:"unfollow"}},[t._v("取消关注")])],1)],1):t._e(),1===t.attribute?i("span",{staticClass:"h-f-btn h-unfollow",on:{click:t.handleUnfollow}},[i("i",{staticClass:"h-f-icon"}),t._v("已悄悄关注\n        ")]):t._e(),t.attribute>=128?i("span",{staticClass:"h-f-btn h-unfollow",on:{click:t.removeFromBan}},[i("i",{staticClass:"h-f-icon"}),t._v("移除黑名单\n        ")]):t._e(),i("a",{directives:[{name:"rep",rawName:"v-rep",value:"space_chatButton_click",expression:"'space_chatButton_click'"}],staticClass:"h-f-btn h-message",attrs:{href:"//message.bilibili.com/#whisper/mid"+t._bili_space_info.mid,target:"_blank"}},[t._v("发消息")]),i("be-dropdown",{staticClass:"h-add-to-black",attrs:{trigger:"hover"},on:{select:t.handleDropdownSelect}},[i("be-dropdown-menu",{attrs:{slot:"menu"},slot:"menu"},[i("be-dropdown-item",{attrs:{name:"ban"}},[t._v(t._s(t.attribute>=128?"移除":"加入")+"黑名单")]),i("be-dropdown-item",{attrs:{name:"silently"}},[t._v(t._s(t.silentlyFollowPrefix)+"悄悄关注")]),i("be-dropdown-item",{attrs:{name:"report"}},[t._v("个人信息举报")])],1)],1)],1):t._e()],1)],1),i("transition",{attrs:{name:"zoom"}},["owner"!==t._bili_space_state&&t.modeChanging?i("div",{staticClass:"h-guest-hint"},[t._v("\n      这是我的空间在"+t._s("fans"===t._bili_space_state?"我的粉丝":"新访客")+"眼中的样子\n      "),i("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_finsihButton_click",expression:"'space_finsihButton_click'"}],staticClass:"h-v-host",on:{click:t.closeGuestMode}},[t._v("关闭预览")])]):t._e()]),t.isNavLoad?i("v-theme",{attrs:{"mall-active":t.themeShow},on:{"theme-close":function(e){t.themeShow=!1},"preview-toutu":t.previewToutu,"reset-toutu":t.resetToutu}}):t._e(),i("modal",{attrs:{show:t.report.show},on:{confirm:t.confirm,cancel:t.cancel}},[i("template",{slot:"title"},[t._v("个人信息举报")]),i("div",{staticClass:"report-popup",attrs:{slot:"body"},slot:"body"},[i("p",{staticClass:"report-popup-tip"},[t._v("举报内容（可多选）")]),i("ul",{staticClass:"report-popup-list clearfix"},t._l(t.report.items,function(e){return i("li",{staticClass:"report-popup-item",class:{checked:t.report.checked.indexOf(e.id)>-1},on:{click:function(i){return t.handleCheckReport(e.id)}}},[i("em",{staticClass:"report-popup-item-checkbox"}),i("span",{staticClass:"report-popup-item-text"},[t._v(t._s(e.text))])])}),0)])],2)],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"f-wrap"},[e("i",{staticClass:"f-icon"}),e("span",{staticClass:"f-txt"},[this._v("该账号封禁中")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fans-hover-tip"},[e("span",{staticClass:"tip-inner"},[this._v("已开通专属粉丝勋章")])])}],!1,null,null,null).exports),pt={data:function(){return{keyword:"",activePage:"index",currentPage:"index"}},mounted:function(){this.activePage=this.currentPage=this.getPath(this.$route)},methods:{slideTo:function(t){this.activePage=t},slideOut:function(){this.activePage=this.currentPage},getPath:function(t){var e=t.path.split("/")[2];return e&&""!==e?e:"index"},activeSearch:function(t){this.doSearch()},deactiveSearch:function(){var t=this;setTimeout(function(){t.keyword=""},200)},doSearch:function(){var t=this.keyword;0!==t.length&&(window._search_keyword=t,rec("space_index_searchButton_click"),this.$router.push({name:"video",query:{keyword:t}}))},clickSetting:function(){var t="";switch(this.$route.name){case"index":case"follow":case"fans":case"ban":case"404":t="index";break;case"video":t="video";break;case"channelList":case"channelDetail":t="channel";break;case"favlist":t="favlist";break;case"bangumi":case"subscribe":case"cinema":t="subs";break;case"qzIndex":case"qzThreads":case"qzReplys":case"qzFav":t="qz";break;case"setting":t="settings"}rec("space_navigation_settings_click",{refertab:t})},navRec:function(t){var e=this.$route.name,i=this._bili_space_nav,n={};switch(e){case"index":case"follow":case"fans":case"ban":case"playlist":case"404":n.refertab="index";break;case"video":n.refertab="video";break;case"channelList":case"channelDetail":n.refertab="channel";break;case"favlist":n.refertab="favlist";break;case"bangumi":case"subscribe":case"cinema":n.refertab="subs";break;case"qzIndex":case"qzThreads":case"qzReplys":case"qzFav":n.refertab="qz";break;case"setting":n.refertab="settings"}switch(t){case"videoPage":n.tabnum=i.video;break;case"channelPage":n.tabnum="owner"===this._bili_space_state?i.channel.master:i.channel.guest;break;case"favlist":n.tabnum="owner"===this._bili_space_state?i.favourite.master:this._bili_space_settings.privacy.fav_video?i.favourite.guest:-1}"pugv"===t?rec("space_pugv_click",{up_mid:this._bili_space_mid}):rec("space_navigation_".concat(t,"_click"),n)}},filters:{overK:function(t){return void 0===t?0:t<1e3?t:"999+"},likeTitle:function(t){var e=String(t).replace(/\d{1,3}(?=(\d{3})+$)/g,function(t){return t+","});return"截止昨天，视频、动态、专栏累计获赞".concat(e)}},computed:b()({},Object(g.c)(["_bili_space_mid","_bili_space_info","_bili_space_state","_bili_space_settings","_bili_space_nav","isNavLoad","relations","isPlaylistAuthed","playNumber"]),{isTabShow:function(){var t={},e=this._bili_space_settings.privacy,i=this._bili_space_state;return t.video="owner"===i||1===e.channel||1===e.submited_video,t.subs="owner"===i||1===e.bangumi||1===e.tags,t.fav="owner"===i||1===e.fav_video,t.qz="owner"===i||1===e.groups,t.setting="owner"===i,t},subscribeLink:function(){var t=this._bili_space_nav,e=this._bili_space_settings.privacy,i=+t.bangumi,n=(t.tag,+t.cinema),a=this._bili_space_mid;return"owner"!==this._bili_space_state?e.bangumi&&i>0?"/".concat(a,"/bangumi"):e.bangumi&&n>0?"/".concat(a,"/cinema"):"/".concat(a,"/subs"):"/".concat(a,0!==i?"/bangumi":0!==n?"/cinema":"/subs")}}),watch:{$route:function(t){var e=this.getPath(t);this.activePage=this.currentPage=e}}},mt={name:"common-nav",mixins:[pt],data:function(){return{cursorStyle:{width:"0px",left:"0px"}}},mounted:function(){this.fetchRelationNumbers(_bili_space_mid),this.getUpStat(_bili_space_mid),this.getCursorStyle()},methods:b()({},Object(g.b)(["fetchRelationNumbers","getUpStat"]),{getCursorStyle:function(){var t=this;this.$nextTick(function(){if(void 0!==t.activePage){var e=document.querySelector("#navigator .n-btn.n-"+t.activePage);t.cursorStyle.width=e.clientWidth+"px",t.cursorStyle.left=e.offsetLeft+"px"}})}}),watch:{_bili_space_nav:function(t){t&&this.getCursorStyle()},isNavLoad:function(t){t&&this.getCursorStyle()},activePage:function(t){this.getCursorStyle()}}},ht=(i(429),Object(ct.a)(mt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n",attrs:{id:"navigator"}},[i("div",{staticClass:"wrapper"},[i("div",{staticClass:"n-inner clearfix",on:{mouseleave:t.slideOut}},[i("div",{staticClass:"n-tab-links"},[i("router-link",{staticClass:"n-btn n-index n-fans n-404",class:{active:["index","","fans","404"].indexOf(t.currentPage)>-1},attrs:{to:{name:"index"}},nativeOn:{mouseover:function(e){return t.slideTo("index")},click:function(e){return t.navRec("index")}}},[i("span",{staticClass:"iconfont icon-ic_home"}),i("span",{staticClass:"n-text"},[t._v("主页")])]),i("router-link",{staticClass:"n-btn n-dynamic",class:{active:["dynamic"].indexOf(t.currentPage)>-1},attrs:{to:{name:"dynamic"}},nativeOn:{mouseover:function(e){return t.slideTo("dynamic")},click:function(e){return t.navRec("dynamicPage")}}},[i("span",{staticClass:"iconfont icon-ic_following"}),i("span",{staticClass:"n-text"},[t._v("动态")])]),i("router-link",{staticClass:"n-btn n-video n-audio n-article n-album",class:{active:["video","audio","article","album"].indexOf(t.currentPage)>-1},attrs:{to:{name:"video"}},nativeOn:{mouseover:function(e){return t.slideTo("video")},click:function(e){return t.navRec("videoPage")}}},[i("span",{staticClass:"iconfont icon-ic_video"}),i("span",{staticClass:"n-text"},[t._v("投稿")]),i("span",{staticClass:"n-num"},[t._v(t._s(t._f("overK")(t._bili_space_nav.video+t._bili_space_nav.article+t._bili_space_nav.album+t._bili_space_nav.audio)))])]),t.isPlaylistAuthed?i("router-link",{staticClass:"n-btn n-playlist",class:{active:["playlist"].indexOf(t.currentPage)>-1},attrs:{to:{name:"playlistList"}},nativeOn:{mouseover:function(e){return t.slideTo("playlist")},click:function(e){return t.navRec("playlistPage")}}},[i("span",{staticClass:"iconfont icon-ic_playlist"}),i("span",{staticClass:"n-text"},[t._v("播单")]),i("span",{staticClass:"n-num"},[t._v(t._s(t._f("overK")(t._bili_space_nav.playlist)))])]):t._e(),i("router-link",{staticClass:"n-btn n-channel",class:{active:["channel"].indexOf(t.currentPage)>-1},attrs:{to:{name:"channelList"}},nativeOn:{mouseover:function(e){return t.slideTo("channel")},click:function(e){return t.navRec("channelPage")}}},[i("span",{staticClass:"iconfont icon-ic_channel"}),i("span",{staticClass:"n-text"},[t._v("频道")]),i("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")("owner"===t._bili_space_state?t._bili_space_nav.channel.master:t._bili_space_nav.channel.guest))+"\n          ")])]),t._bili_space_nav.pugv?i("router-link",{staticClass:"n-btn n-pugv",class:{active:["pugv"].indexOf(t.currentPage)>-1},attrs:{to:{name:"pugv"}},nativeOn:{mouseover:function(e){return t.slideTo("pugv")},click:function(e){return t.navRec("pugv")}}},[i("span",{staticClass:"iconfont icon-ic_class1"}),i("span",{staticClass:"n-text"},[t._v("课程")]),i("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")(t._bili_space_nav.pugv))+"\n          ")])]):t._e(),t.isTabShow.fav?i("router-link",{staticClass:"n-btn n-favlist",class:{active:["favlist"].indexOf(t.currentPage)>-1},attrs:{to:{name:"fav"}},nativeOn:{mouseover:function(e){return t.slideTo("favlist")},click:function(e){return t.navRec("favlist")}}},[i("span",{staticClass:"iconfont icon-ic_collect"}),i("span",{staticClass:"n-text"},[t._v("收藏")]),i("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")("owner"===t._bili_space_state?t._bili_space_nav.favourite.master:t._bili_space_nav.favourite.guest))+"\n          ")])]):t._e(),t.isTabShow.subs?i("router-link",{staticClass:"n-btn n-bangumi n-subs n-cinema",class:{active:["bangumi","subs","cinema"].indexOf(t.currentPage)>-1},attrs:{to:{path:t.subscribeLink}},nativeOn:{mouseover:function(e){return t.slideTo("bangumi")},click:function(e){return t.navRec("subs")}}},[i("span",{staticClass:"iconfont icon-ic_sub"}),i("span",{staticClass:"n-text"},[t._v("订阅")])]):t._e(),t.isTabShow.setting?i("router-link",{staticClass:"n-btn n-setting",class:{active:["setting"].indexOf(t.currentPage)>-1},attrs:{to:{name:"setting"}},nativeOn:{mouseover:function(e){return t.slideTo("setting")},click:function(e){return t.clickSetting(e)}}},[i("span",{staticClass:"iconfont icon-ic_setting"}),i("span",{staticClass:"n-text"},[t._v("设置")])]):t._e()],1),i("div",{staticClass:"clearfix g-search search-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"搜索视频"},domProps:{value:t.keyword},on:{blur:t.deactiveSearch,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doSearch(e)},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),i("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_TopViedoWindow_searchViedo_click",expression:"'space_TopViedoWindow_searchViedo_click'"}],staticClass:"icon search-btn",on:{click:t.activeSearch}})]),i("div",{staticClass:"n-statistics"},[i("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"space_top_fans_click",expression:"'space_top_fans_click'"}],staticClass:"n-data n-gz",attrs:{to:{name:"follow"},title:t._f("separate")(t.relations.following)}},[i("p",{staticClass:"n-data-k"},[t._v("关注数")]),i("p",{staticClass:"n-data-v space-attention",attrs:{id:"n-gz"}},[t._v(t._s(t._f("toWan")(t.relations.following)))])]),i("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"space_top_fans_click",expression:"'space_top_fans_click'"}],staticClass:"n-data n-fs",attrs:{to:{name:"fans"},title:t._f("separate")(t.relations.follower)}},[i("p",{staticClass:"n-data-k"},[t._v("粉丝数")]),i("p",{staticClass:"n-data-v space-fans",attrs:{id:"n-fs"}},[t._v(t._s(t._f("toWan")(t.relations.follower)))])]),t.playNumber.likes>0?i("div",{staticClass:"n-data n-bf",attrs:{title:t._f("likeTitle")(t.playNumber.likes)}},[i("p",{staticClass:"n-data-k"},[t._v("获赞数")]),i("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.likes)))])]):t._e(),t.playNumber.archive.view>0?i("div",{staticClass:"n-data n-bf",attrs:{title:t._f("separate")(t.playNumber.archive.view)}},[i("p",{staticClass:"n-data-k"},[t._v("播放数")]),i("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.archive.view)))])]):t._e(),t.playNumber.article.view>0?i("div",{staticClass:"n-data n-bf",attrs:{title:t._f("separate")(t.playNumber.article.view)}},[i("p",{staticClass:"n-data-k"},[t._v("阅读数")]),i("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.article.view)))])]):t._e()],1)]),i("div",{staticClass:"n-cursor",style:t.cursorStyle})])])},[],!1,null,null,null).exports);function vt(t,e){t.setAttribute("class",e)}var _t=function(t,e){return t.className.split(" ").indexOf(e.trim())>-1},bt=function(t,e){var i=t.className.split(" ");return e=e.trim(),_t(t,e)||vt(t,1===i.length?e:[].concat(w()(i),[e]).join(" ")),t},gt=function(t,e){var i=t.className.split(" "),n=i.indexOf(e.trim());return _t(t,e)&&(i.splice(n,1),vt(t,i.join(" "))),t},yt={name:"common-fixed-nav",mixins:[pt],data:function(){return{cursorStyle:{width:"0px",left:"0px"},avatar:"//static.hdslb.com/images/member/noface.gif"}},mounted:function(){var t=this,e=document.getElementById("navigator"),i=this.$el,n=e.getBoundingClientRect(),a=n.height,s=n.top;window.addEventListener("scroll",function(){window.pageYOffset>s+a?bt(i,"fixed"):gt(i,"fixed")}),this.getCursorStyle(),this.$bus.$on("hideFixedNav",function(){gt(i,"fixed"),t.isForceHide=!0}).$on("showFixedNav",function(){bt(i,"fixed"),t.isForceHide=!1}),this.isNavLoad&&this._bili_space_info.face?this.avatar=this._bili_space_info.face.toWebP():this.avatar="//static.hdslb.com/images/member/noface.gif"},methods:{getCursorStyle:function(){var t=this;this.$nextTick(function(){if(void 0!==t.activePage){var e=document.querySelector("#navigator-fixed .n-btn.n-"+t.activePage);t.cursorStyle.width=e.clientWidth+"px",t.cursorStyle.left=e.offsetLeft+"px"}})}},computed:{},watch:{_bili_space_nav:function(t){t&&this.getCursorStyle()},isNavLoad:function(t){t&&this.getCursorStyle()},activePage:function(t){this.getCursorStyle()}}},wt=(i(430),Object(ct.a)(yt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"n n-fix",attrs:{id:"navigator-fixed"}},[i("div",{staticClass:"wrapper"},[i("div",{staticClass:"n-inner clearfix",on:{mouseleave:t.slideOut}},[i("div",{staticClass:"n-tab-links"},[i("router-link",{staticClass:"n-btn n-index n-fans n-404",class:{active:["index","","fans","404"].indexOf(t.currentPage)>-1},attrs:{to:{name:"index"}},nativeOn:{mouseover:function(e){return t.slideTo("index")},click:function(e){return t.navRec("index")}}},[i("span",{staticClass:"n-avatar"},[i("img",{attrs:{src:t._f("coversize")(t.avatar,"48x48"),alt:t._bili_space_info.name}})]),i("span",{staticClass:"n-text",staticStyle:{display:"inline-block"},attrs:{title:t._bili_space_info.name}},[t._v(t._s(t._bili_space_info.name))])]),i("router-link",{staticClass:"n-btn n-dynamic",class:{active:["dynamic"].indexOf(t.currentPage)>-1},attrs:{to:{name:"dynamic"}},nativeOn:{mouseover:function(e){return t.slideTo("dynamic")},click:function(e){return t.navRec("dynamicPage")}}},[i("span",{staticClass:"iconfont icon-ic_following"}),i("span",{staticClass:"n-text"},[t._v("动态")])]),i("router-link",{staticClass:"n-btn n-video n-audio n-article n-album",class:{active:["video","audio","article","album"].indexOf(t.currentPage)>-1},attrs:{to:{name:"video"}},nativeOn:{mouseover:function(e){return t.slideTo("video")},click:function(e){return t.navRec("videoPage")}}},[i("span",{staticClass:"iconfont icon-ic_video"}),i("span",{staticClass:"n-text"},[t._v("投稿")]),i("span",{staticClass:"n-num"},[t._v(t._s(t._f("overK")(t._bili_space_nav.video+t._bili_space_nav.article+t._bili_space_nav.album+t._bili_space_nav.audio)))])]),t.isPlaylistAuthed?i("router-link",{staticClass:"n-btn n-playlist",class:{active:["playlist"].indexOf(t.currentPage)>-1},attrs:{to:{name:"playlistList"}},nativeOn:{mouseover:function(e){return t.slideTo("playlist")},click:function(e){return t.navRec("playlistPage")}}},[i("span",{staticClass:"iconfont icon-ic_playlist"}),i("span",{staticClass:"n-text"},[t._v("播单")]),i("span",{staticClass:"n-num"},[t._v(t._s(t._f("overK")(t._bili_space_nav.playlist)))])]):t._e(),i("router-link",{staticClass:"n-btn n-channel",class:{active:["channel"].indexOf(t.currentPage)>-1},attrs:{to:{name:"channelList"}},nativeOn:{mouseover:function(e){return t.slideTo("channel")},click:function(e){return t.navRec("channelPage")}}},[i("span",{staticClass:"iconfont icon-ic_channel"}),i("span",{staticClass:"n-text"},[t._v("频道")]),i("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")("owner"===t._bili_space_state?t._bili_space_nav.channel.master:t._bili_space_nav.channel.guest))+"\n          ")])]),t._bili_space_nav.pugv?i("router-link",{staticClass:"n-btn n-pugv",class:{active:["pugv"].indexOf(t.currentPage)>-1},attrs:{to:{name:"pugv"}},nativeOn:{mouseover:function(e){return t.slideTo("pugv")},click:function(e){return t.navRec("pugv")}}},[i("span",{staticClass:"iconfont icon-ic_class1"}),i("span",{staticClass:"n-text"},[t._v("课程")]),i("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")(t._bili_space_nav.pugv))+"\n          ")])]):t._e(),t.isTabShow.fav?i("router-link",{staticClass:"n-btn n-favlist",class:{active:["favlist"].indexOf(t.currentPage)>-1},attrs:{to:{name:"fav"}},nativeOn:{mouseover:function(e){return t.slideTo("favlist")},click:function(e){return t.navRec("favlist")}}},[i("span",{staticClass:"iconfont icon-ic_collect"}),i("span",{staticClass:"n-text"},[t._v("收藏")]),i("span",{staticClass:"n-num"},[t._v("\n            "+t._s(t._f("overK")("owner"===t._bili_space_state?t._bili_space_nav.favourite.master:t._bili_space_nav.favourite.guest))+"\n          ")])]):t._e(),t.isTabShow.subs?i("router-link",{staticClass:"n-btn n-bangumi n-subs n-cinema",class:{active:["bangumi","subs","cinema"].indexOf(t.currentPage)>-1},attrs:{to:{path:t.subscribeLink}},nativeOn:{mouseover:function(e){return t.slideTo("bangumi")},click:function(e){return t.navRec("subs")}}},[i("span",{staticClass:"iconfont icon-ic_sub"}),i("span",{staticClass:"n-text"},[t._v("订阅")])]):t._e(),t.isTabShow.setting?i("router-link",{staticClass:"n-btn n-setting",class:{active:["setting"].indexOf(t.currentPage)>-1},attrs:{to:{name:"setting"}},nativeOn:{mouseover:function(e){return t.slideTo("setting")},click:function(e){return t.clickSetting(e)}}},[i("span",{staticClass:"iconfont icon-ic_setting"}),i("span",{staticClass:"n-text"},[t._v("设置")])]):t._e()],1),i("div",{staticClass:"clearfix g-search search-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:"搜索视频"},domProps:{value:t.keyword},on:{blur:t.deactiveSearch,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doSearch(e)},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),i("span",{directives:[{name:"rep",rawName:"v-rep",value:"space_TopViedoWindow_searchViedo_click",expression:"'space_TopViedoWindow_searchViedo_click'"}],staticClass:"icon search-btn",on:{click:t.activeSearch}})]),i("div",{staticClass:"n-statistics"},[i("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"space_top_fans_click",expression:"'space_top_fans_click'"}],staticClass:"n-data n-gz",attrs:{to:{name:"follow"},title:t._f("separate")(t.relations.following)}},[i("p",{staticClass:"n-data-k"},[t._v("关注数")]),i("p",{staticClass:"n-data-v space-attention",attrs:{id:"n-gz"}},[t._v(t._s(t._f("toWan")(t.relations.following)))])]),i("router-link",{directives:[{name:"rep",rawName:"v-rep",value:"space_top_fans_click",expression:"'space_top_fans_click'"}],staticClass:"n-data n-fs",attrs:{to:{name:"fans"},title:t._f("separate")(t.relations.follower)}},[i("p",{staticClass:"n-data-k"},[t._v("粉丝数")]),i("p",{staticClass:"n-data-v space-fans",attrs:{id:"n-fs"}},[t._v(t._s(t._f("toWan")(t.relations.follower)))])]),t.playNumber.likes>0?i("div",{staticClass:"n-data n-bf",attrs:{title:t._f("likeTitle")(t.playNumber.likes)}},[i("p",{staticClass:"n-data-k"},[t._v("获赞数")]),i("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.likes)))])]):t._e(),t.playNumber.archive.view>0?i("div",{staticClass:"n-data n-bf",attrs:{title:t._f("separate")(t.playNumber.archive.view)}},[i("p",{staticClass:"n-data-k"},[t._v("播放数")]),i("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.archive.view)))])]):t._e(),t.playNumber.article.view>0?i("div",{staticClass:"n-data n-bf",attrs:{title:t._f("separate")(t.playNumber.article.view)}},[i("p",{staticClass:"n-data-k"},[t._v("阅读数")]),i("p",{staticClass:"n-data-v",attrs:{id:"n-bf"}},[t._v(t._s(t._f("toWan")(t.playNumber.article.view)))])]):t._e()],1)]),i("div",{staticClass:"n-cursor",style:t.cursorStyle})])])},[],!1,null,null,null).exports),Ct=null,Tt={name:"to-top",data:function(){return{keyframes:0,isVisible:!1,isClick:!1,lastTrace:0}},mounted:function(){var t=$(window).height(),e=$(".to-top"),i=this;$(window).off("scroll.toTop").on("scroll.toTop",function(){var n=$(window).scrollTop();n-i.lastTrace>0?(i.isClick&&(e.removeClass("transition"),i.$nextTick(function(){e.removeClass("fly")}),clearInterval(Ct)),n>=t/2&&(!i.isVisible&&e.stop().fadeIn(100),i.isVisible=!0,i.keyframes=0,e.css("background-position-x","-40px")),i.isClick=!1):n<t/2&&(i.isVisible&&e.stop().fadeOut(100),i.isVisible=!1),i.lastTrace=n})},methods:{fly:function(){if(!this.isClick){var t=this,e=$(".to-top");this.isClick=!0,Ct=setInterval(function(){t.keyframes++,e.css({"background-position-x":-(143*t.keyframes+40)+"px"}),5===t.keyframes&&(e.addClass("transition"),t.$nextTick(function(){e.addClass("fly")})),6===t.keyframes&&(t.keyframes=0,clearInterval(Ct),$("html, body").stop().animate({scrollTop:0},"fast"))},50)}}}},St=(i(431),Object(ct.a)(Tt,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"to-top",on:{click:this.fly}})},[],!1,null,null,null).exports),Ut={props:{id:{}},mounted:function(){window.addEventListener("message",this.handleShare,!1)},destroyed:function(){window.removeEventListener("message",this.handleShare,!1)},computed:b()({},Object(g.c)(["favListDetails"])),methods:b()({},Object(g.b)(["sharePlayList"]),{handleShare:function(t){var e=t.data;"dynamic-share-close"===e?this.$store.commit("SHOWFAVSHARE_SUCCESS",!1):"dynamic-share-succeed"===e&&(this.sharePlayList({rid:this.favListDetails.info.id,r_type:11,cnt_type:1}),this.$store.commit("SHAREPLAYLIST_SUCCESS"))}})},Lt=(i(432),Object(ct.a)(Ut,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"fav-share"},[e("div",{staticClass:"mask"}),e("iframe",{staticClass:"share-iframe",attrs:{name:"fav-share",width:"610",height:"425",src:"//t.bilibili.com/share/card/index?type=4300&rid="+this.favListDetails.info.id+"&repost_code=20000",frameborder:"0"}})])},[],!1,null,null,null).exports),Mt=null,Pt=null,jt={name:"app",mounted:function(){var t,e=this,n=this._bili_space_state;this.fetchNavNum({mid:this._bili_space_mid}).then(function(t){var i=t.video,a=e._bili_space_settings,s="owner"===n?t.channel.master:t.channel.guest,o="owner"===n?t.favourite.master:a.privacy.fav_video?t.favourite.guest:-1,r="owner"===n||a.privacy.tags?0:-1,c="owner"===n||a.privacy.groups?0:-1;rec("space_navigation_show",{tabstates:"video/".concat(i,"|channel/").concat(s,"|favlist/").concat(o,"|subs/").concat(r,"|qz/").concat(c)})}),"owner"!==n&&i.e(28).then(function(){var t=[i(668),i(669)];(function(t,i){Mt=t,Pt=i,e.startDanmu()}).apply(null,t)}).catch(i.oe),(t=new Image).onload=function(){window.supportWebP=t.width>0&&t.height>0},t.onerror=function(){window.supportWebP=!1},t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",this.$bus.$on("watchlater",function(t){e.$store.commit(C.cc,t)}),$.ajax({url:"//static.hdslb.com/cashier/dist/js/payPlugin.js",cache:!0,dataType:"script"}),window.rec=function(t,e){var i=e||t;window.spaceReport[t]=i}},methods:b()({},Object(g.b)(["fetchNavNum","fetchRelation"]),{startDanmu:function(){"owner"!==this._bili_space_state?(Pt&&new Pt({video:".fakeDanmu-item",cover:".fakeDanmu-item .cover"}),Mt&&new Mt({video:".fakeDanmu-item",cover:".fakeDanmu-item .cover",ready:function(){rec("space_thumbnail_preview")}})):$("body").off(".preview")}}),watch:{_bili_space_state:function(){this.startDanmu()}},metaInfo:function(){var t=this._bili_space_info,e=t.name,i=t.sign,n=t.official;return{title:"".concat(e,"的个人空间 - 哔哩哔哩 ( ゜- ゜)つロ 乾杯~ Bilibili"),meta:[{name:"keywords",content:"".concat(e,",B站,弹幕,字幕,AMV,MAD,MTV,ANIME,动漫,动漫音乐,游戏,游戏解说,ACG,galgame,动画,番组,新番,初音,洛天依,vocaloid")},{name:"description",content:"".concat(e,"，").concat(i,"，").concat(n.desc,"，bilibili是国内知名的视频弹幕网站，这里有最及时的动漫新番，最棒的ACG氛围，最有创意的Up主。大家可以在这里找到许多欢乐。")}]}},computed:b()({},Object(g.c)(["_bili_space_mid","_bili_space_mymid","_bili_login_info","_bili_space_info","_bili_space_settings","_bili_space_state","isNavLoad","isShowFavShare"]),{bgimg:function(){return this.isNavLoad?void 0!==this._bili_space_settings.theme.bgimg?{backgroundImage:"url(//i0.hdslb.com/"+this._bili_space_settings.theme.bgimg.toWebP()+")"}:void 0:""}}),components:{CommonHeader:ft,CommonNav:ht,CommonFixedNav:wt,toTop:St,favShare:Lt}},xt=(i(433),Object(ct.a)(jt,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:[t._bili_space_state],style:t.bgimg,attrs:{id:"app"}},[i("common-header"),t.isNavLoad?i("common-nav"):t._e(),t.isNavLoad?i("common-fixed-nav"):t._e(),t.isNavLoad?i("div",{staticClass:"s-space"},[i("router-view")],1):t._e(),i("to-top"),t.isShowFavShare?i("fav-share"):t._e()],1)},[],!1,null,null,null).exports),kt=(i(434),i(131));T.default.use(kt.a);var It=new kt.a({fallback:!1,mode:"history",routes:[{path:"/:v(v)?/:mid(\\d+)",alias:"/index",name:"index",component:function(t){return i.e(5).then(function(){var e=[i(672)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/bangumi",name:"bangumi",component:function(t){return Promise.all([i.e(2),i.e(21)]).then(function(){var e=[i(683)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/cinema",name:"cinema",component:function(t){return Promise.all([i.e(2),i.e(31)]).then(function(){var e=[i(693)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/subs",name:"subscribe",component:function(t){return i.e(26).then(function(){var e=[i(684)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/video",name:"video",component:function(t){return i.e(14).then(function(){var e=[i(685)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/audio",name:"audio",component:function(t){return i.e(13).then(function(){var e=[i(676)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/article",name:"article",component:function(t){return i.e(12).then(function(){var e=[i(688)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/dynamic",name:"dynamic",component:function(t){return Promise.all([i.e(29),i.e(16)]).then(function(){var e=[i(690)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/favlist",name:"fav",component:function(t){return Promise.all([i.e(0),i.e(6),i.e(10)]).then(function(){var e=[i(673)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/setting",name:"setting",component:function(t){return i.e(25).then(function(){var e=[i(682)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/playlist",component:function(t){return i.e(19).then(function(){var e=[i(678)];t.apply(null,e)}.bind(this)).catch(i.oe)},children:[{path:"index",name:"playlistList",component:function(t){return i.e(24).then(function(){var e=[i(686)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"edit",component:function(t){return i.e(23).then(function(){var e=[i(694)];t.apply(null,e)}.bind(this)).catch(i.oe)},children:[{path:"info",name:"playlistEditInfo",component:function(t){return i.e(9).then(function(){var e=[i(679)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"video",name:"playlistEditVideo",component:function(t){return i.e(7).then(function(){var e=[i(674)];t.apply(null,e)}.bind(this)).catch(i.oe)}}]},{path:"create",name:"playlistCreate",component:function(t){return i.e(8).then(function(){var e=[i(692)];t.apply(null,e)}.bind(this)).catch(i.oe)}}]},{path:"/:v(v)?/:mid(\\d+)/channel",component:function(t){return i.e(18).then(function(){var e=[i(689)];t.apply(null,e)}.bind(this)).catch(i.oe)},children:[{path:"index",name:"channelList",component:function(t){return i.e(22).then(function(){var e=[i(681)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"detail",name:"channelDetail",component:function(t){return i.e(15).then(function(){var e=[i(675)];t.apply(null,e)}.bind(this)).catch(i.oe)}}]},{path:"/:v(v)?/:mid(\\d+)/fans",component:function(t){return i.e(30).then(function(){var e=[i(677)];t.apply(null,e)}.bind(this)).catch(i.oe)},children:[{path:"fans",name:"fans",component:function(t){return i.e(1).then(function(){var e=[i(680)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"follow",name:"follow",component:function(t){return i.e(1).then(function(){var e=[i(680)];t.apply(null,e)}.bind(this)).catch(i.oe)}}]},{path:"/:v(v)?/:mid(\\d+)/album",name:"album",component:function(t){return Promise.all([i.e(0),i.e(17),i.e(11)]).then(function(){var e=[i(691)];t.apply(null,e)}.bind(this)).catch(i.oe)}},{path:"/:v(v)?/:mid(\\d+)/pugv",name:"pugv",component:function(t){return i.e(20).then(function(){var e=[i(687)];t.apply(null,e)}.bind(this)).catch(i.oe)}}]});It.afterEach(function(t,e){T.default.prototype.$isServer||(null!==e.name&&window.reportObserver.sendPV(),e.name!==t.name&&window.scrollTo(0,0))});var Et=It,At=i(176),$t=i.n(At),Nt=i(132);function Jt(t){if(t<=0)return 0;if("--"===t)return"--";var e=Number(t);return e>99999999?Math.round(e/1e7)/10+"亿":e>9999?Math.round(e/1e3)/10+"万":e}function Vt(t){return t&&"undefined"!==t?"number"==typeof t?t:t.replace(/&amp;|&#38;/g,"&").replace(/&lt;|&#60;/g,"<").replace(/&gt;|&#62;/g,">").replace(/&quot;|&#34;/g,'"').replace(/&nbsp;|&#160;/g," ").replace(/&hellip;/g,"…").replace(/&mdash;/g,"—").replace(/&#039;/g,"'").replace(/&#39;/g,"'").replace(/&ldquo;/g,"“").replace(/&rdquo;/g,"”").replace(/&lsquo;/g,"‘").replace(/&rsquo;/g,"’"):""}function Dt(t){return 1===String(t).length?"0"+t:t}Array.prototype.toObject||(Array.prototype.toObject=function(t,e){var i={};return this.forEach(function(n,a){var s=n[t];i[s]=void 0===e?n:n[e]}),i}),Date.now||(Date.now=function(){return(new Date).getTime()}),String.prototype.startWith||(String.prototype.startWith=function(t){return 0===this.indexOf(t)}),Array.prototype.remove||(Array.prototype.remove=function(t){for(var e=this.length,i=0;i<e;i++)if(this[i]===t)return this.splice(i,1)}),Number.prototype.format_date=function(){var t=new Date(1e3*this);return t.getFullYear()+"年"+(t.getMonth()+1)+"月"+t.getDate()+"日"},Number.prototype.toWan=function(){return Jt(this)},String.prototype.max=function(t){if(!t)return this;var e=String(this);return e.length>t?e.slice(0,t)+"...":this},String.prototype.contains=function(t){return this.indexOf(t)>-1},String.prototype.toWebP=function(t){if(void 0===this)return"";var e=String(this).replace(/https?:/,""),i=e;return e.startWith("/")||(i="/"+e),window.supportWebP&&i.contains("/bfs/")&&!i.contains(".gif")?e+"@"+(t||"100Q")+".webp":this},String.prototype.separate=function(){return this.replace(/\d{1,3}(?=(\d{3})+$)/g,function(t){return t+","})},String.prototype.decodeHTML||(String.prototype.decodeHTML=function(){return Vt(this)}),String.prototype.coversize=function(t){if(void 0===this)return"";var e=this.replace(/https?:/,""),i=e;i.startWith("/")||(i="/"+i);if(i.indexOf("noface")>-1||i.indexOf("transparent")>-1||i.indexOf("//activity.hdslb.com/")>-1||/\.gif$/.test(i))return e;t=t||"380x240";var n=".jpg";e.indexOf(".jpg")>-1?n=".jpg":e.indexOf(".png")>-1&&(n=".png");var a=!1;if(i.indexOf("/group1/")>-1||i.indexOf("/bfs/")>-1){if((a=/_\d+x\d+\.(jpg|jpeg|png)/.exec(e))&&(e=e.replace(a[0],"")),window.supportWebP&&i.indexOf("/bfs/")>-1&&".gif"!==n){var s=t.split("x")[0],o=t.split("x")[1];e+="@"+s+"w_"+o+"h_100Q_1c.webp"}else e+="_"+t+n;return e}return t=t.replace("x","_"),(a=/\.com\/(\d+_\d+)\//.exec(e))?e.replace(a[1],t):e.replace(".com",".com/"+t)},T.default.filter("format_date",function(t){var e=new Date(1e3*t);return e.getFullYear()+"年"+(e.getMonth()+1)+"月"+e.getDate()+"日"}),T.default.filter("toWebP",function(t,e){if(void 0===t)return"";t=t.replace(/https?:/,"");var i=String(t),n=i;return i.startWith("/")||(n="/"+i),window.supportWebP&&n.contains("/bfs/")&&!n.contains(".gif")?i+"@"+(e||"100Q")+".webp":t}),T.default.filter("separate",function(t){return String(t).replace(/\d{1,3}(?=(\d{3})+$)/g,function(t){return t+","})}),T.default.filter("toWan",Jt),T.default.filter("tohttps",function(t){return void 0===t?"":t.replace(/https?:/,"")}),T.default.filter("coversize",function(t,e){return void 0===t?"":t.coversize(e)}),T.default.filter("viewCountShorten",function(t){return"--"===t||-1===t?"--":(t=Number(t),isNaN(t)?0:Jt(t))}),T.default.filter("format_pubdate",function(t,e){if(!t)return"0000-00-00";var i,n=/(\d{4})-(\d{2})-(\d{2})\s(\d{2}):(\d{2})(?::(\d{2}))?/.exec(t);if(n)i=new Date(n[1],parseInt(n[2])-1,n[3],n[4],n[5],n[6]);else if("Invalid Date"===(i=new Date(1e3*t)).toString())return String(t);return(e="string"==typeof e?e+"于":"")+$t()(i)}),T.default.filter("format_expiretime",function(t){var e=new Date(1e3*t),i=Date.now(),n=Math.floor((e-i)/864e5);return n>1?n+"天":"不足一天"}),T.default.filter("highlightSearchKeyword",function(t){return void 0===window._search_keyword?t:(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),""!==window._search_keyword&&(t=t.replace(new RegExp("("+window._search_keyword+")","gi"),'<span class="search-keyword-highlight">$1</span>')),t)}),T.default.filter("videoStatus",function(t){return t>=0||-6===t?"":"disabled"}),T.default.filter("videoDuration",function(t){var e=Dt(parseInt(t/3600)),i=Dt(parseInt(t%3600/60)),n=Dt(parseInt(t%3600%60));return isNaN(i)||isNaN(n)?"00:00":t<3600?i+":"+n:e+":"+i+":"+n}),T.default.filter("decodeHTML",function(t){return Vt(t)}),T.default.filter("decodeTitle",function(t){return function(t){return t&&"undefined"!==t?"number"==typeof t?t:t.replace(/</g,"&lt;"):""}(t)}),T.default.filter("trimSpaceReturn",function(t){return function(t){return t&&"undefined"!==t?"number"==typeof t?t:t.replace(/\s/g,""):""}(t)}),T.default.filter("videoValidLink",function(t,e,i){return-1===Nt.a.indexOf(i)?"javascript:;":T.default.prototype.$transformLink(t,e)}),T.default.filter("favVideoValidLink",function(t,e,i,n){var a=n&&12===n?"//www.bilibili.com/audio/au"+t:T.default.prototype.$transformLink(t,e);return 1===i?"javascript:;":a});var Ot=i(188),Rt=i.n(Ot),Ft=i(177),Bt=i.n(Ft),Qt=new T.default,Gt=i(129)("jsonp"),Ht=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(i,n){var a=[],s=e.params||{};s.jsonp="jsonp";for(var o=Object.keys(s),r=0,c=o;r<c.length;r++){var u=c[r];a.push("".concat(u,"=").concat(s[u]))}e.param=a.join("&")+"&callback";var l,d,f=e.prefix||"__jp",p=e.name||f+Wt++,m=e.param||"callback",h=null!=e.timeout?e.timeout:6e4,v=encodeURIComponent,_=document.getElementsByTagName("script")[0]||document.head;function b(){l.parentNode&&l.parentNode.removeChild(l),window[p]=Xt,d&&clearTimeout(d)}h&&(d=setTimeout(function(){b(),n("400")},h)),window[p]=function(t){Gt("jsonp got",t),b(),i(t)},t=(t+=(~t.indexOf("?")?"&":"?")+m+"="+v(p)).replace("?&","?"),Gt('jsonp req "%s"',t),(l=document.createElement("script")).src=t,l.onerror=function(){n("400")},_.parentNode.insertBefore(l,_)})},Wt=0;function Xt(){}var qt,zt,Yt,Kt,Zt,te,ee,ie,ne,ae=i(3),se=i.n(ae),oe=i(180),re=function(t){return t.top},ce=function(t){return t.masterpiece},ue=function(t){return t.isLoad.top},le=function(t){return t.isLoad.masterpiece},de={state:{top:{},masterpiece:[],isLoad:{top:!1,masterpiece:!1},isSet:{top:!1,masterpiece:!1}},getters:s,actions:oe,mutations:(qt={},se()(qt,C.wb,function(t,e){t.top=e,t.isLoad.top=!0}),se()(qt,C.V,function(t,e){t.masterpiece=e,t.isLoad.masterpiece=!0}),se()(qt,C.vb,function(t){t.top={},t.isLoad.top=!0}),se()(qt,C.U,function(t){t.isLoad.masterpiece=!0}),se()(qt,C.f,function(t,e){var i=t.masterpiece,n=[];i.forEach(function(t,i){t.aid!==e&&n.push(t)}),t.masterpiece=n}),se()(qt,C.g,function(t){t.top={}}),qt)},fe=function(t){return+t._bili_space_mid},pe=function(t){return+t._bili_login_info.mid},me=function(t){return t._bili_space_info},he=function(t){return t._bili_space_notice},ve=function(t){return t._bili_space_settings},_e=function(t){return t._bili_login_info},be=function(t){return t._bili_space_state},ge=function(t){return t._bili_space_is_login},ye=function(t){return t._bili_space_watch_history},we=function(t){return t._bili_space_nav},Ce=function(t){return t.playNumber},Te=function(t){return t.nav_load},Se=function(t){return t.watchlaterAids},Ue=function(t){return t._bili_init_state.space_info_success&&t._bili_init_state.space_settings_success},Le=function(t){return t._bili_space_global_message},Me=function(t){return 0!==t._bili_space_vip.type},Pe=function(t){var e=t._bili_space_vip;return 0!==e.type&&2===e.status},je=function(t){var e=t._bili_space_vip;return 0!==e.type&&1===e.status},xe=function(t){var e=t._bili_space_vip;return 2===e.type&&1===e.status},ke=function(t){var e=t._bili_space_vip;return 0!==e.type&&1===e.status&&1===e.theme_type},Ie=function(t){var e=t._bili_login_info.vip,i=e.type,n=e.status,a=e.expire;return 1===n&&0!==i&&a<8},Ee={_bili_space_info:{level_info:{},official:{},theme:{},toutu:{},silence:0,fans_badge:!1,uname:"哔哩哔哩",sign:"非常努力地加载页面 (。・`ω´・)"},_bili_space_settings:{privacy:{bangumi:0,article:0,tags:0,fav_video:0,coins_video:0,groups:0,played_game:0,channel:0,submited_video:0,user_info:0},index_order_01:[{id:0,name:""}],index_order_02:[{id:0,name:""}],theme:"default",theme_preview_img_path:"",toutu:{sid:0,s_img:"",l_img:"",thumbnail_img:"",android_img:"",iphone_img:"",ipad_img:"",platform:1}},_bili_login_info:{birthday:"1900-00-00",coins:0,face:"",identification:0,jointime:"1465189421",level:0,maxstow:0,mid:0,mobile_verified:0,official_verify:{type:0,desc:"1"},rank:0,s_face:"",scores:0,security_level:1,sex:1,sign:"非常努力地加载页面 (。・`ω´・)",spacesta:2,telephone:"",name:"哔哩哔哩",vip:{}}},Ae={actions:n,getters:o,state:{_bili_guest_mode:!1,_bili_space_state:"loading",_bili_space_is_login:!1,_bili_space_info:Ee._bili_space_info,_bili_space_vip:{},_bili_space_notice:{id:0,content:"",url:""},_bili_space_mid:0,_bili_space_settings:Ee._bili_space_settings,_bili_login_info:Ee._bili_login_info,_bili_init_state:{space_info_success:!1,space_settings_success:!1},_bili_space_watch_history:[],_bili_space_nav:{bangumi:0,channel:{master:0,guest:0},favourite:{master:0,guest:0},tag:0,video:0,article:0,playlist:0},nav_load:!1,playNumber:{article:{view:0},archive:{view:0},likes:0},watchlaterAids:[]},mutations:(zt={},se()(zt,C.R,function(t,e){var i=e.data,n=e.mid;1===i.silence&&(i.sign=""),t._bili_space_mid=n,t._bili_space_info=i,t._bili_space_vip=i.vip,t._bili_space_notice=i.sys_notice,t._bili_init_state.space_info_success=!0,t.nav_load=!0}),se()(zt,C.pb,function(t,e){var i=[],n=[];e.index_order.forEach(function(t,e){+t.id>20?n.push(t):6!=+t.id&&i.push(t)}),t._bili_space_settings=e,t._bili_space_settings.index_order_01=i,t._bili_space_settings.index_order_02=n,t._bili_init_state.space_settings_success=!0}),se()(zt,C.ab,function(t,e){e.vip.expire=Math.floor((e.vip.due_date-Date.now())/1e3/3600/24),t._bili_login_info=e,t._bili_space_is_login=!0}),se()(zt,C.Z,function(t){t._bili_login_info=Ee._bili_login_info,t._bili_space_is_login=!1,t._bili_space_state="visitor"}),se()(zt,C.Zb,function(t,e){t._bili_space_state=e}),se()(zt,C.z,function(t,e){t._bili_space_nav=e,t.nav_load=!0}),se()(zt,C.y,function(t){t.nav_load=!0}),se()(zt,C.Eb,function(t,e){sessionStorage.setItem("".concat(t._bili_login_info.mid,"_watch_history"),JSON.stringify(e)),t._bili_space_watch_history=e}),se()(zt,C.ec,function(t,e){t._bili_space_watch_history.push(e),sessionStorage.setItem("".concat(t._bili_login_info.mid,"_watch_history"),JSON.stringify(t._bili_space_watch_history))}),se()(zt,C.Yb,function(t,e){t._bili_space_state=e}),se()(zt,C.a,function(t,e){e===+t._bili_space_info.mid&&(t._bili_space_state="fans")}),se()(zt,C.Mb,function(t,e){e===+t._bili_space_info.mid&&(t._bili_space_state="visitor")}),se()(zt,C.Jb,function(t,e){t._bili_space_state="visitor"}),se()(zt,C.Tb,function(t,e){t._bili_space_info.sign=e}),se()(zt,C.Rb,function(t,e){var i=t._bili_space_settings.index_order.toObject("id"),n=[],a=[],s=e.split(",").map(function(t,e){return i[t]});s.forEach(function(t,e){console.log(t.id),+t.id>20?a.push(t):6!=+t.id&&n.push(t)}),t._bili_space_settings.order=s,t._bili_space_settings.index_order_01=n,t._bili_space_settings.index_order_02=a}),se()(zt,C.Sb,function(t,e){var i=Object.getOwnPropertyNames(e)[0];t._bili_space_settings.privacy[i]=e[i]}),se()(zt,C.xb,function(t,e){t.playNumber=e}),se()(zt,C.cc,function(t,e){t.watchlaterAids=e}),zt)},$e=i(181),Ne=function(t){return t.relations},Je=function(t){return t.attribute},Ve=function(t){return t.relationList},De=function(t){return t.knightsList},Oe=function(t){return t.knightsCount},Re=function(t){return t.isRelationListLoad},Fe=function(t){return t.tags},Be=function(t){return t.userTag},Qe=function(t){return t.userTagList},Ge=function(t){return t.defaultGroupCount},He=function(t){return t.accRelation},We={actions:$e,getters:r,state:{relations:{following:0,whisper:0,black:0,follower:0},knightsList:[],knightsCount:0,relationList:[],defaultGroupCount:0,attribute:0,isFansListLoad:!1,userTag:[],userTagList:[],isLoad:!1,isUserTaglistLoad:!1,isKnightLoad:!1,isRelationListLoad:!1,accRelation:{relation:{},beRelation:{}}},mutations:(Yt={},se()(Yt,C.D,function(t,e){t.relations=e}),se()(Yt,C.ob,function(t,e){t.relationList=e,t.isRelationListLoad=!0}),se()(Yt,C.nb,function(t){t.isRelationListLoad=!1}),se()(Yt,C.mb,function(t){t.relationList=[],t.isRelationListLoad=!0}),se()(Yt,C.bc,function(t,e){var i=e.mid,n=e.attribute,a=t.relationList.findIndex(function(t){return t.mid===i});t.relationList[a].attribute=n}),se()(Yt,C.Lb,function(t,e){t.attribute=e}),se()(Yt,C.Db,function(t,e){t.relationList=e,t.isLoad=!0}),se()(Yt,C.Cb,function(t){t.isLoad=!1}),se()(Yt,C.Bb,function(t){t.isLoad=!0}),se()(Yt,C.zb,function(t){t.isUserTaglistLoad=!1}),se()(Yt,C.Ab,function(t,e){t.userTagList=e,t.isUserTaglistLoad=!0;var i=t.userTagList.find(function(t){return 0===t.tagid});i&&(t.defaultGroupCount=i.count)}),se()(Yt,C.yb,function(t){t.isUserTaglistLoad=!0}),se()(Yt,C.S,function(t){t.isRelationListLoad=!1}),se()(Yt,C.T,function(t,e){e.list;var i=e.count;t.knightsCount=i,t.isRelationListLoad=!0}),se()(Yt,C.Fb,function(t,e){var i=e.relation,n=e.be_relation;t.accRelation.relation=i,t.accRelation.beRelation=n}),Yt)},Xe={actions:{fetchArticle:function(t,e){t.commit;return T.default.http.jsonp("//api.bilibili.com/x/space/article",{params:e}).then(function(t){var e=t.code,i=t.message,n=t.data;return 0===e?Promise.resolve(n):(T.default.$warn("获取用户专栏列表失败，".concat(i)),Promise.reject())},function(){return T.default.$warn("获取用户专栏列表失败，网络错误"),Promise.reject()})},fetchArticleLists:function(t,e){t.commit;return T.default.http.jsonp("//api.bilibili.com/x/article/up/lists",{params:e}).then(function(t){var e=t.code,i=t.message,n=t.data;return 0===e?Promise.resolve(n):(T.default.$warn("获取用户专栏文集失败, ".concat(i)),Promise.reject())},function(){return T.default.$warn("获取用户专栏文集失败，网络错误"),Promise.reject()})}}},qe={actions:{fetchBangumi:function(t,e){t.commit;return T.default.http.get("/ajax/Bangumi/getList",{params:e}).then(function(t){var e=t.data,i=e.status,n=e.data;return i?Promise.resolve(n):(console.log("获取用户订阅番剧失败，".concat(n)),Promise.reject())},function(t){T.default.$warn("获取用户订阅番剧失败，网络错误"),Promise.reject()})},fetchBangumiIds:function(t,e){t.commit;return T.default.http.get("/ajax/bangumi/myList",{params:e}).then(function(t){var e=t.data,i=e.status,n=e.data;return i?Promise.resolve(n):Promise.reject()},function(t){return Promise.reject()})}}},ze="//api.bilibili.com/x/playlist",Ye=function(t,e){var i=t.commit;i(C.gb),T.default.http.jsonp(ze,{params:e}).then(function(t){var e=t.code,n=t.data,a=t.message;0==+e?(n.list.forEach(function(t){t.name=t.name.decodeHTML(),t.description=t.description.decodeHTML()}),i(C.hb,n)):(i(C.fb),T.default.$warn("请求播单列表失败，".concat(a)))},function(t){i(C.fb),T.default.$warn("请求播单列表失败，网络错误")})},Ke=function(t,e){var i=t.commit;return i(C.db),T.default.http.jsonp("".concat(ze,"/info"),{params:e}).then(function(t){var e=t.code,n=t.data,a=t.message;return 0==+e?(n.name=n.name.decodeHTML(),n.description=n.description.decodeHTML(),i(C.eb,n),Promise.resolve(n)):(i(C.cb),T.default.$warn("请求播单信息失败，".concat(a)),Promise.reject())},function(t){return i(C.cb),T.default.$warn("请求播单信息失败，网络错误"),Promise.reject()})},Ze=function(t,e){t.commit;return T.default.http.jsonp("".concat(ze,"/video"),{params:e}).then(function(t){var e=t.code,i=t.data,n=t.message;return 0==+e?(i.list=i.list.map(function(t){return t.desc=t.desc.decodeHTML(),t.title=t.title.decodeHTML(),t.play_desc=t.play_desc.decodeHTML(),t}),Promise.resolve(i.list)):(T.default.$warn("请求播单视频列表失败，".concat(n)),Promise.resolve([]))},function(t){return T.default.$warn("请求播单视频列表失败，网络错误"),Promise.resolve([])})},ti=function(t,e){t.commit;var i=e.pid,n=e.aid,a=e.sort;return T.default.http.post("".concat(ze,"/video/sort"),{pid:i,aid:n,sort:a}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(T.default.$message("更改视频排序失败，请刷新后重试（".concat(n,"）"),"更改视频排序失败",{cancelButton:{show:!1},confirmButton:{text:"知道啦"}}),Promise.reject())},function(t){return T.default.$message("设置播单视频排序失败 ∑(っ °Д °;)っ，网络错误","更改视频排序失败",{cancelButton:{show:!1},confirmButton:{text:"知道啦"}}),Promise.reject()})},ei=function(t,e){t.commit;return T.default.http.post("".concat(ze,"/del"),{pid:e}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(T.default.$warn("删除播单失败，".concat(n)),Promise.reject())},function(t){return T.default.$warn("删除播单失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},ii=function(t,e){t.commit;var i=e.pid,n=e.aids;return T.default.http.post("".concat(ze,"/video/del"),{pid:i,aids:n}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(T.default.$warn("删除播单视频失败，".concat(n)),Promise.reject())},function(t){return T.default.$warn("删除播单视频失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},ni=function(t,e){t.commit;return T.default.http.post("".concat(ze,"/update"),e).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(T.default.$warn("更新播单失败，".concat(n)),Promise.reject())},function(t){return T.default.$warn("更新播单失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},ai=function(t,e){t.commit;return T.default.http.post("".concat(ze,"/add"),e).then(function(t){var e=t.data,i=e.code,n=e.message,a=e.data;return 0==+i?Promise.resolve(a.pid):(T.default.$warn("新建播单失败，".concat(n)),Promise.reject())},function(t){return T.default.$warn("新建播单失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},si=function(t,e){t.commit;var i=e.pid,n=e.aid,a=e.desc;return T.default.http.post("".concat(ze,"/video/desc/edit"),{pid:i,aid:n,desc:a}).then(function(t){var e=t.data,i=e.code,n=e.message;return 0==+i?Promise.resolve():(T.default.$warn("更新视频描述失败，".concat(n)),Promise.reject())},function(t){return T.default.$warn("更新视频描述失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},oi=function(t,e){t.commit;return T.default.http.post("".concat(ze,"/video/add"),e).then(function(t){var e=t.data,i=e.code,n=e.data,a=e.message;return 0==+i?Promise.resolve(n):(T.default.$warn("添加视频失败，".concat(a)),Promise.reject(a))},function(){return T.default.$warn("添加视频失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},ri=function(t,e){t.commit;return T.default.http.jsonp("".concat(ze,"/video/search"),{params:e}).then(function(t){var e=t.code,i=t.data,n=t.message;return 0==+e?Promise.resolve(i):(T.default.$warn("搜索视频失败，".concat(n)),Promise.reject(n))},function(){return T.default.$warn("搜索视频失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},ci=function(t,e){t.commit;return T.default.http.post("".concat(ze,"/video/check"),e).then(function(t){var e=t.data,i=e.code,n=e.data,a=e.message;return 0==+i?Promise.resolve(n):(T.default.$warn("校验视频失败，".concat(a)),Promise.reject(a))},function(){return T.default.$warn("校验视频失败 ∑(っ °Д °;)っ，网络错误"),Promise.reject()})},ui=function(t,e){t.commit;return T.default.http.post("//member.bilibili.com/x/vu/web/cover/up",{jsonp:"jsonp",cover:e}).then(function(t){var e=t.data,i=e.code,n=e.data,a=e.msg;return 0==+i?Promise.resolve(n):Promise.reject(a||"上传失败")},function(){return Promise.reject("上传失败，网络错误")})},li=function(t,e){var i=t.commit,n=e.vmid;T.default.http.jsonp("".concat(ze,"/whitelist"),{params:{vmid:n}}).then(function(t){var e=t.code,n=t.data,a=t.message;0===e?n.power?i(C.bb,{auth:!0}):i(C.bb,{auth:!1}):(console.warn("播单白名单获取失败，"+a),i(C.bb,{auth:!1}))},function(){console.warn("播单白名单获取失败，网络错误"),i(C.bb,{auth:!1})})},di=function(t,e){(0,t.commit)(C.bb,{auth:e})},fi=function(t){return t.playList},pi=function(t){return t.isPlaylistLoad},mi=function(t){return t.playlistInfo},hi=function(t){return t.isPlaylistInfoLoad},vi=function(t){return t.isPlaylistAuthed},_i={state:{playList:{page:{num:0,size:0,total:0},list:[]},playlistInfo:{name:"",cover:"",description:"",owner:{name:""},stat:{view:0}},isPlaylistLoad:!1,isPlaylistInfoLoad:!1,isPlaylistAuthed:!1},getters:u,actions:c,mutations:(Kt={},se()(Kt,C.hb,function(t,e){null===e.list?t.playList={page:e.page,list:[]}:t.playList=e,t.isPlaylistLoad=!0}),se()(Kt,C.gb,function(t){t.isPlaylistLoad=!1}),se()(Kt,C.fb,function(t){t.isPlaylistLoad=!0}),se()(Kt,C.eb,function(t,e){t.playlistInfo=e,t.isPlaylistInfoLoad=!0}),se()(Kt,C.db,function(t){t.isPlaylistInfoLoad=!1}),se()(Kt,C.cb,function(t){t.isPlaylistInfoLoad=!0}),se()(Kt,C.bb,function(t,e){t.isPlaylistAuthed=!1}),Kt)},bi="//api.bilibili.com/x/space/channel/",gi=function(t,e){var i=t.commit,n=e.mid,a=e.guest,s=void 0!==a&&a;T.default.http.jsonp("".concat(bi,"index"),{params:{mid:n,guest:s}}).then(function(t){var e=t.code,n=t.data,a=t.message;0===e?i(C.J,n):console.log("获取频道列表失败，".concat(a))},function(){T.default.$warn("获取频道列表失败，网络错误")})},yi=function(t,e){var i=t.commit,n=e.mid,a=e.guest,s=void 0!==a&&a;T.default.http.jsonp("".concat(bi,"list"),{params:{mid:n,guest:s}}).then(function(t){var e=t.code,n=t.data;0===e&&i(C.K,n)})},wi=function(t,e){var i=t.commit;T.default.http.jsonp("".concat(bi,"video"),{params:e}).then(function(t){var e=t.code,n=t.data;0===e&&i(C.I,n.list)})},Ci=function(t,e){var i=t.commit,n=e.name,a=e.intro,s=void 0===a?"":a;return T.default.http.post("".concat(bi,"add"),{name:n,intro:s}).then(function(t){var e=t.data,n=e.code,a=e.message,s=e.data;return 0===n?(F({commit:i},{mid:_bili_space_mid}),Promise.resolve(s.cid)):(T.default.$warn("添加频道失败，".concat(a)),Promise.reject())},function(t){return T.default.$warn("添加视频失败，网络错误"),Promise.reject()})},Ti=function(t,e){var i=t.commit;return T.default.http.post("".concat(bi,"del"),e).then(function(t){var e=t.data,n=e.code,a=e.message;return 0===n?(F({commit:i},{mid:_bili_space_mid}),Promise.resolve()):(T.default.$warn("删除频道失败，".concat(a)),Promise.reject())},function(t){return T.default.$warn("删除视频失败，网络错误"),Promise.reject()})},Si=function(t,e){t.commit;return T.default.http.post("".concat(bi,"edit"),e).then(function(t){var e=t.data,i=e.code,n=e.message;return 0===i?Promise.resolve():(T.default.$warn("编辑频道失败，".concat(n)),Promise.reject())},function(t){return T.default.$warn("编辑视频失败，网络错误"),Promise.reject()})},Ui=function(t,e){t.commit;return T.default.http.post("".concat(bi,"video/add"),e).then(function(t){var e=t.data,i=e.code,n=e.data,a=e.message;if(0===i){var s=n.length;return s>0&&T.default.$info("添加视频完成，共有 ".concat(s," 个视频添加失败")),Promise.resolve()}return T.default.$warn("添加频道视频失败，".concat(a)),Promise.reject()},function(t){return T.default.$warn("添加频道视频失败，网络错误"),Promise.reject()})},Li=function(t,e){t.commit;return T.default.http.post("".concat(bi,"video/del"),e).then(function(t){var e=t.data,i=e.code,n=e.message;return 0===i?Promise.resolve():(T.default.$warn("删除频道视频失败，".concat(n)),Promise.reject())},function(t){return T.default.$warn("删除频道视频失败，网络错误"),Promise.reject()})},Mi=function(t,e){t.commit;return T.default.http.post("".concat(bi,"video/sort"),e).then(function(t){var e=t.data,i=e.code,n=e.message;return 0===i?Promise.resolve():(T.default.$warn("排序失败，".concat(n)),Promise.reject())},function(t){return T.default.$warn("排序失败，网络错误"),Promise.reject()})},Pi=function(t,e){t.commit;var i=e.cid;return T.default.http.jsonp("".concat(bi,"video/check"),{params:{cid:i}}).then(function(t){var e=t.code;return 0===e?Promise.resolve():53005===e?(T.default.$warn("操作视频失败，请先清理频道里的失效视频"),Promise.reject()):(T.default.$warn("操作视频失败，服务器或网络错误，请稍后重试"),Promise.reject())},function(){return T.default.$warn("操作视频失败，服务器或网络错误，请稍后重试"),Promise.reject()})},ji=function(t){return t.channels},xi=function(t){return t.channelsWithArchives},ki=function(t){return t.isChannelsLoad},Ii=function(t){return t.isChannelLoad},Ei=function(t){return t.channel},Ai=function(t){var e=t.channels,i=t.channelsWithArchives;return(0!==e.count||0!==i.length)&&(0===i.length?e.list:i).some(function(t){return t.count>0})},$i={state:{channels:{count:0,list:[]},channelsWithArchives:[],cid:"",channel:{archives:[],cid:0,name:"频道",intro:"",mtime:1481268141,count:0},isChannelsLoad:!1,isChannelLoad:!1,isMoreChannelVideoLoad:!0,isUploading:!1},getters:d,actions:l,mutations:(Zt={},se()(Zt,C.K,function(t,e){t.channels=e,t.isChannelsLoad=!0}),se()(Zt,C.J,function(t,e){t.channelsWithArchives=e,t.isChannelsLoad=!0}),se()(Zt,C.I,function(t,e){t.channel=e,t.isChannelLoad=!0}),Zt)},Ni=i(18),Ji={method:"get",url:"//api.bilibili.com/x/space/coin/video",withCredentials:!0},Vi={actions:{fetchCoinVideos:function(t,e){t.commit;return Object(Ni.a)("//api.bilibili.com/x/space/coin/video",{mid:e},_bili_space_mid).then(function(t){return Promise.resolve(t)},function(){return Ji.params={vmid:e},T.default.http(Ji).then(function(t){var i=t.data,n=i.code,a=i.data;return 0==+n?(Object(Ni.c)("//api.bilibili.com/x/space/coin/video",{mid:e},a,_bili_space_mid),Promise.resolve(a)):Promise.reject()},function(t){return Promise.reject()})})}}},Di=i(182),Oi={state:{favList:{count:0,list:[{cover:[]}]},myFavList:{count:0,list:[{cover:[]}]},favDetail:{pages:0,count:0,vlist:[],tlist:[]},topics:{page:0,total:0,pagesize:0,list:[]},articles:{favorites:[{stats:{},image_urls:[]}],page:{pn:1,ps:16,total:0}},playlists:{page:{},list:[]},favNavList:{defaultFav:{},fav:[],archive:[],visitor:[],playlist:0,topic:0,article:0,album:0,movie:0,pugv:0,arc:0},createdList:{list:[],pn:1,ps:16,count:0},collectedList:{list:[],pn:1,ps:16,count:0},myCreatedList:{list:[],pn:1,ps:20,count:0},modalAddFavList:[],favListDetails:{info:{cnt_info:{},upper:{}},medias:[]},tlist:[],idPlaylistListLoad:!1,isFavDetailLoad:!1,isFavListLoad:!1,isMyFavListLoad:!1,isArticleListLoad:!1,isFarNavListLoad:!1,isTopicLoad:!1,delInvalidVideoStateNum:2,isShowFavShare:!1,isCreatedFavLoad:!1,isAddFavLoad:!1},getters:i(183),actions:Di,mutations:(te={},se()(te,C.F,function(t){t.isArticleListLoad=!1}),se()(te,C.G,function(t,e){t.articles=e,t.isArticleListLoad=!0}),se()(te,C.E,function(t){t.isArticleListLoad=!0}),se()(te,C.P,function(t){t.isFavListLoad=!1}),se()(te,C.Q,function(t,e){t.favList=e,t.isFavListLoad=!0}),se()(te,C.O,function(t){t.isFavListLoad=!0}),se()(te,C.gb,function(t){t.idPlaylistListLoad=!1}),se()(te,C.hb,function(t,e){t.playlists.page=e.page,t.playlists.list=e.list,t.idPlaylistListLoad=!0}),se()(te,C.fb,function(t){t.idPlaylistListLoad=!0}),se()(te,C.k,function(t,e){t.delInvalidVideoStateNum=e}),se()(te,C.X,function(t){t.isMyFavListLoad=!1}),se()(te,C.Y,function(t,e){t.myFavList=e,t.isMyFavListLoad=!0}),se()(te,C.W,function(t){t.isMyFavListLoad=!0}),se()(te,C.tb,function(t,e){t.isTopicLoad=!1}),se()(te,C.ub,function(t,e){t.topics=e,t.isTopicLoad=!0}),se()(te,C.sb,function(t,e){t.isTopicLoad=!1}),se()(te,C.u,function(t){t.isFavDetailLoad=!1}),se()(te,C.v,function(t,e){t.favDetail=e,t.isFavDetailLoad=!0}),se()(te,C.t,function(t){t.favDetail={pages:0,count:0,vlist:[],tlist:[]},t.isFavDetailLoad=!0}),se()(te,C.h,function(t,e){var i=t.favList.list,n=t.favList.count,a=i.findIndex(function(t){return t.fid===e});void 0!==a&&(t.favList.list=[].concat(w()(i.slice(0,a)),w()(i.slice(a+1))),t.favList.count=n-1)}),se()(te,C.Qb,function(t,e,i){t.favList.list.forEach(function(n,a){n.fid===e&&(t.favList.list[a].state=0===i?2:3)})}),se()(te,C.Nb,function(t,e,i){t.favList.list.forEach(function(n,a){n.fid===e&&(t.favList.list[a].name=i)})}),se()(te,C.l,function(t,e){var i=e.split(","),n=[];t.favDetail.vlist.forEach(function(t,e){-1===i.indexOf(String(t.aid))&&n.push(t)}),t.favDetail.count-=i.length,t.favDetail.vlist=n}),se()(te,C.e,function(t,e){var i=e.tar_media_id,n=e.resources,a=t.createdList.list,s=n.split(",").length;a.map(function(t){t.id===i&&(t.media_count=t.media_count+s)}),t.createdList.list=a}),se()(te,C.Ib,function(t,e){var i=e.src_media_id,n=e.tar_media_id,a=e.resources,s=t.createdList.list,o=a.split(",").length;s.map(function(t){t.id===i&&(t.media_count=t.media_count-o),t.id===n&&(t.media_count=t.media_count+o)}),t.createdList.list=s}),se()(te,C.j,function(t,e){var i=e.resources,n=e.media_id,a=t.createdList.list,s=i.split(",").length;a.map(function(t){t.id===n&&(t.media_count=t.media_count-s)}),t.createdList.list=a}),se()(te,C.M,function(t){t.isFarNavListLoad=!1}),se()(te,C.N,function(t,e){var i=e.data,n=i.album,a=i.archive,s=i.article,o=i.playlist,r=i.topic,c=i.movie,u=i.pugv,l=i.arc;t.favNavList.archive=a,t.favNavList.playlist=o,t.favNavList.topic=r,t.favNavList.article=s,t.favNavList.album=n,t.favNavList.movie=c,t.favNavList.pugv=u,t.favNavList.arc=l,t.isFarNavListLoad=!0}),se()(te,C.L,function(t){t.isFarNavListLoad=!0}),se()(te,C.ac,function(t,e){t.favNavList.pugv=e}),se()(te,C.Ob,function(t,e){t.favNavList.album=e}),se()(te,C.Pb,function(t,e){t.favNavList.movie=e}),se()(te,C.w,function(t,e){t.tlist=e}),se()(te,C.o,function(t){t.isCreatedFavLoad=!1}),se()(te,C.p,function(t,e){var i=e.list,n=void 0===i?[]:i,a=e.pn,s=e.ps,o=e.count;t.createdList.list=n,t.createdList.pn=a,t.createdList.ps=s,t.createdList.count=o,t.isCreatedFavLoad=!0,t.modalAddFavList=w()(n)}),se()(te,C.n,function(t){t.isCreatedFavLoad=!0}),se()(te,C.m,function(t,e){var i=e.list,n=void 0===i?[]:i,a=e.pn,s=e.ps,o=e.count,r=e.isReSet,c=void 0!==r&&r;t.collectedList.list=n&&!c?[].concat(w()(t.collectedList.list),w()(e.list)):w()(n),t.collectedList.pn=a,t.collectedList.ps=s,t.collectedList.count=o}),se()(te,C.r,function(t){t.isFavDetailLoad=!1}),se()(te,C.s,function(t,e){t.favListDetails.info=e.info,t.favListDetails.medias=e.medias?e.medias:[],t.isFavDetailLoad=!0}),se()(te,C.q,function(t){t.isFavDetailLoad=!0}),se()(te,C.i,function(t,e){var i=t.createdList.list,n=t.createdList.count,a=i.findIndex(function(t){return t.id===e});void 0!==a&&(t.createdList.list=[].concat(w()(i.slice(0,a)),w()(i.slice(a+1))),t.createdList.count=n-1,t.modalAddFavList=[].concat(w()(i.slice(0,a)),w()(i.slice(a+1))))}),se()(te,C.Xb,function(t,e){t.favListDetails.info.cnt_info.thumb_up=e.likes,t.favListDetails.info.like_state=e.like_state}),se()(te,C.c,function(t){var e=t.favListDetails.info.cnt_info.collect;t.favListDetails.info.cnt_info.collect=e+1,t.favListDetails.info.fav_state=1}),se()(te,C.d,function(t){var e=t.favListDetails.info.cnt_info.collect;t.favListDetails.info.cnt_info.collect=e-1,t.favListDetails.info.fav_state=0}),se()(te,C.Kb,function(t,e){var i=t.collectedList.list,n=t.collectedList.count,a=i.findIndex(function(t){return t.id===e});void 0!==a&&(t.collectedList.list=[].concat(w()(i.slice(0,a)),w()(i.slice(a+1))),t.collectedList.count=n-1)}),se()(te,C.Wb,function(t,e){t.isShowFavShare=e}),se()(te,C.x,function(t,e){var i=e.list,n=void 0===i?[]:i,a=e.pn,s=e.ps,o=e.count;t.myCreatedList.list=n,t.myCreatedList.pn=a,t.myCreatedList.ps=s,t.myCreatedList.count=o}),se()(te,C.Vb,function(t){var e=t.favListDetails.info.cnt_info.share;t.favListDetails.info.cnt_info.share=e+1}),se()(te,C.Gb,function(t,e){t.isAddFavLoad=e}),se()(te,C.Hb,function(t,e){var i=t.createdList.list,n=t.modalAddFavList,a=t.myCreatedList.list;e.isOwner?(i.splice(1,0,e.data),n.push(e.data),t.createdList.list=i,t.modalAddFavList=n):(a.push(e.data),t.myCreatedList.list=a)}),te)},Ri="//api.bilibili.com/x/space/lastplaygame",Fi={actions:{getNotice:function(t,e){t.commit;return T.default.http.get("//api.bilibili.com/x/space/notice",{params:{mid:e}}).then(function(t){var e=t.data,i=e.code,n=e.data;return 0==+i?Promise.resolve(n):Promise.reject()},function(t){return Promise.reject()})},setNotice:function(t,e){t.commit;T.default.http.post("//api.bilibili.com/x/space/notice/set",{notice:e}).then(function(t){var e=t.data,i=e.code,n=e.message;if(!([61001,61002].indexOf(+i)>-1))return 0==+i?Promise.resolve():(T.default.$warn("修改公告失败，".concat(n)),Promise.reject());$.getScript("//static.hdslb.com/common/js/identityDialog.js",function(){IdentityDialog(i,n)})},function(t){return T.default.$warn("修改公告失败，网络错误"),Promise.reject()})},getLastPlay:function(t,e){t.commit;var i={method:"get",url:Ri,params:{mid:e},withCredentials:!0};return Object(Ni.a)(Ri,{mid:e},_bili_space_mid).then(function(t){return Promise.resolve(t)},function(){return T.default.http(i).then(function(t){var i=t.data,n=i.code,a=i.data;return 0==+n?(Object(Ni.c)(Ri,{mid:e},a,_bili_space_mid),Promise.resolve(a)):Promise.reject()},function(t){return Promise.reject()})})},getRoomInfo:function(t,e){t.commit;return T.default.http.get("//api.live.bilibili.com/room/v1/Room/getRoomInfoOld",{params:{mid:e}}).then(function(t){var e=t.data,i=e.code,n=e.data;return 0===i&&n.roomStatus?Promise.resolve(n):Promise.reject()},function(t){return Promise.reject()})},getElecInfo:function(t,e){t.commit;return T.default.http.jsonp("//elec.bilibili.com/api/query.rank.do",{params:{mid:e,type:"jsonp"}}).then(function(t){var e=t.code,i=t.data;return 0===e?Promise.resolve(i):Promise.reject()},function(t){return Promise.reject()})},getShop:function(t){t.commit;return T.default.http.jsonp("//api.bilibili.com/x/space/shop").then(function(t){var e=t.code,i=t.data;return 0===e?Promise.resolve(i):Promise.reject()},function(t){return Promise.reject()})}}},Bi={actions:{fetchPersonalTags:function(t,e){t.commit;return T.default.http.get("/ajax/member/getTags",{params:{mids:e}}).then(function(t){var e=t.data,i=e.status,n=e.data;return i?Promise.resolve(n):Promise.reject()},function(t){return Promise.reject()})},setPersonalTags:function(t,e){t.commit;var i=e.tags;return T.default.http.post("/ajax/member/setTags",{tags:i}).then(function(t){var e=t.data,i=e.status,n=e.data;return i?Promise.resolve():(T.default.$warn("设置标签失败，".concat(n)),Promise.reject())},function(t){return T.default.$warn("设置标签失败，网络错误"),Promise.reject()})},setIndexOrder:function(t,e){var i=t.commit;T.default.http.post("/ajax/settings/setIndexOrder",{index_order:e}).then(function(t){var n=t.data,a=n.status,s=n.data;a?i(C.Rb,e):T.default.$warn("设置模块排序失败，".concat(s))},function(t){T.default.$warn("设置模块排序失败，网络错误")})},setPrivacy:function(t,e){var i=t.commit;T.default.http.post("/ajax/settings/setPrivacy",e).then(function(t){var n=t.data,a=n.status,s=n.data;a?i(C.Sb,e):T.default.$warn("设置模块公开性失败，".concat(s))},function(t){T.default.$warn("设置模块公开性失败，网络错误")})}}},Qi={actions:{fetchTags:function(t,e){t.commit;return T.default.http.get("/ajax/tags/getSubList",{params:{mid:e}}).then(function(t){var e=t.data,i=e.status,n=e.data;return i?Promise.resolve(n):(console.error("获取订阅标签失败，".concat(n)),Promise.reject())},function(){return console.error("获取订阅标签失败，网络错误"),Promise.reject()})},unSubTag:function(t,e){var i=t.commit;return T.default.http.post("/ajax/tags/cancelSub",{tag_id:e}).then(function(t){var e=t.data,n=e.status,a=e.data;return n?(F({commit:i},{mid:_bili_space_mid}),Promise.resolve()):(T.default.$warn("取消订阅标签失败，".concat(a)),Promise.reject())},function(t){return T.default.$warn("取消订阅标签失败，网络错误"),Promise.reject()})}}},Gi=function(t){return t.topphoto},Hi=function(t){return t.skin},Wi=function(t){return t.bcoin},Xi=function(t){return t.isSkinLoad},qi=function(t){return t.isTopphotoLoad},zi=function(t){return t.isUploadSuccess},Yi={state:{skin:[],topphoto:[],bcoin:0,isSkinLoad:!1,isTopphotoLoad:!1,isUploadSuccess:!1},getters:f,actions:a,mutations:(ee={},se()(ee,C.C,function(t,e){t.topphoto=e,t.isTopphotoLoad=!0}),se()(ee,C.A,function(t,e){t.skin=e,t.isSkinLoad=!0}),se()(ee,C.dc,function(t,e){t.isUploadSuccess=!0}),se()(ee,C.H,function(t,e){t.bcoin=e}),ee)},Ki=function(t,e){var i=t.commit;return i(C.B),T.default.http.get("//api.bilibili.com/x/space/arc/search",{params:e,withCredentials:!0}).then(function(t){var e=t.data,n=e.data;return 0==+e.code?(i(C.rb,n),Promise.resolve()):(i(C.qb),Promise.reject())},function(){return i(C.qb),Promise.reject()})},Zi=function t(e,i){var n=e.commit;return T.default.http.get("//api.bilibili.com/x/space/arc/search",{params:i,withCredentials:!0}).then(function(e){var a=e.data,s=a.data,o=s.list,r=s.page;if(0==+a.code){var c=i.pn,u=Math.ceil(r.count/r.ps);return i.check_id?o.vlist.length>1?Promise.resolve({vlist:o.vlist,pages:u,count:r.count,pn:r.pn}):c<u?(i.pn++,t({commit:n},i)):Promise.resolve({vlist:o.vlist,pages:u,count:r.count,pn:r.pn}):Promise.resolve({vlist:o.vlist,pages:u,count:r.count,pn:r.pn})}return T.default.$warn("获取用户投稿视频失败"),Promise.reject()},function(){return T.default.$warn("获取用户投稿视频失败"),Promise.reject()})},tn=function(t){(0,t.commit)(C.b)},en=function(t,e){t.commit;var i=e.mid;return T.default.http.get("//api.bilibili.com/x/space/abtest",{params:{mid:i},withCredentials:!0}).then(function(t){var e=t.data,i=e.code,n=e.data;return 0==+i?Promise.resolve(n):Promise.reject()})},nn=function(t,e){(0,t.commit)(C.Ub,e)},an=function(t){return t.submitVideos},sn=function(t){return t.isSubmitVideosLoad},on=function(t){return t.selectVideos},rn=function(t){return t.isAbTest},cn=function(t){return t.AbTestModel},un=(ie={},se()(ie,C.rb,function(t,e){var i=e.list,n=e.page;t.submitVideos.pages=Math.ceil(n.count/n.ps),t.submitVideos.count=n.count,t.submitVideos.tlist=i.tlist,t.submitVideos.vlist=i.vlist,t.isSubmitVideosLoad=!0}),se()(ie,C.qb,function(t){t.isSubmitVideosLoad=!0}),se()(ie,C.B,function(t){t.isSubmitVideosLoad=!1}),se()(ie,C.b,function(t){t.selectVideos={pages:0,count:0,tlist:[],vlist:[]}}),se()(ie,C.Ub,function(t,e){var i=e.isAb,n=e.model;t.isAbTest=i,t.AbTestModel=n}),ie),ln=function(t,e){var i=t.commit;i(C.kb),T.default.http.get("//api.bilibili.com/pugv/app/web/season/page",{params:e}).then(function(t){var e=t.data,n=e.code,a=e.data,s=a.items,o=a.page;0==+n?(i(C.kb),i(C.lb,{items:s,page:o})):i(C.jb)}).catch(function(){i(C.jb)})},dn=function(t,e){var i=t.commit;T.default.http.get("//api.bilibili.com/pugv/app/web/favorite/page",{params:e}).then(function(t){var e=t.data,n=e.code,a=e.data,s=a.items,o=a.page;0==+n&&i(C.ib,{items:s,page:o})})},fn=function(t,e){t.commit;var i=e.season_id;return T.default.http.post("//api.bilibili.com/pugv/app/web/favorite/del",{season_id:i}).then(function(t){return Promise.resolve(t.data)}).catch(function(){return console.log("请求取消课程收藏失败，网络错误"),Promise.reject()})},pn=function(t){return t.list},mn=function(t){return t.page},hn=function(t){return t.isLoading},vn=function(t){return t.pugvList},_n=function(t){return t.pugvPage},bn={init:Ae,top:de,relation:We,article:Xe,bangumi:qe,playlist:_i,channel:$i,coin:Vi,fav:Oi,rightcol:Fi,settings:Bi,tag:Qi,theme:Yi,video:{state:{submitVideos:{pages:0,count:0,tlist:[],vlist:[]},selectVideos:{pages:0,count:0,tlist:[],vlist:[]},isAbTest:!1,AbTestModel:"",isSubmitVideosLoad:!1},getters:m,actions:p,mutations:un},audio:{actions:{fetchAudio:function(t,e){t.commit;return T.default.http.get("//api.bilibili.com/audio/music-service/web/song/upper",{params:e}).then(function(t){var e=t.data,i=e.code,n=e.msg,a=e.data;return 0===i?Promise.resolve(null===a?{data:[],curPage:0,pageCount:0}:a):(T.default.$warn("获取用户音频列表失败，".concat(n)),Promise.reject())},function(){return T.default.$warn("获取用户音频列表失败，网络错误"),Promise.reject()})}}},album:{actions:{fetchAlbum:function(t,e){t.commit;return T.default.http.jsonp("//api.bilibili.com/x/space/album/index",{params:e}).then(function(t){var e=t.code,i=t.message,n=t.data;return 0===e?Promise.resolve(n):(T.default.$warn("获取用户相簿列表失败，".concat(i)),Promise.reject())},function(){return T.default.$warn("获取用户相簿列表失败，网络错误"),Promise.reject()})}}},pugv:{state:{list:[],page:{num:1,size:15,total:0},pugvList:[],pugvPage:{num:1,size:10,total:0},isLoading:!1},actions:h,getters:v,mutations:(ne={},se()(ne,C.kb,function(t){t.isLoading=!t.isLoading}),se()(ne,C.lb,function(t,e){var i=e.items,n=e.page;t.list=i,t.page=n}),se()(ne,C.jb,function(t){t.isLoading=!1}),se()(ne,C.ib,function(t,e){var i=e.items,n=e.page;t.pugvList=i,t.pugvPage=n}),ne)}};T.default.use(g.a);var gn,yn=new g.a.Store({modules:bn,strict:!1}),wn=[],Cn=[],Tn="@@clickoutsideContext",Sn=0;function Un(t,e,i){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!(i&&i.context&&n.target&&a.target)||t.contains(n.target)||t.contains(a.target)||t===n.target||i.context.popperElm&&(i.context.popperElm.contains(n.target)||i.context.popperElm.contains(a.target))||(e.expression&&t[Tn].methodName&&i.context[t[Tn].methodName]?i.context[t[Tn].methodName]():t[Tn].bindingFn&&t[Tn].bindingFn())}}var Ln=i(189),Mn=i.n(Ln),Pn={name:"be-input",data:function(){return{currentValue:this.value}},props:{value:{type:[String,Number],default:""},type:{type:String,default:"input"},rows:{type:Number,default:4},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},placeholder:{type:String,default:"请输入内容"},maxlength:void 0,required:Boolean},watch:{value:function(t){this.currentValue=t}},methods:{handleInput:function(t){this.currentValue=t.target.value,this.$emit("input",this.currentValue),this.$emit("change",this.currentValue)},handleFocus:function(){this.$emit("focus",this.currentValue)},handleBlur:function(){this.$emit("blur",this.currentValue)}}},jn=(i(437),Object(ct.a)(Pn,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"be-input":"input"===t.type,"be-textarea":"textarea"===t.type,"is-diabled":t.disabled,"be-input--append":t.$slots.append||t.maxlength}},["input"===t.type?i("input",t._b({staticClass:"be-input_inner",domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur}},"input",t.$props,!1)):t._e(),"textarea"===t.type?i("textarea",t._b({staticClass:"be-textarea_inner",attrs:{rows:t.rows},domProps:{value:t.currentValue},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur}},"textarea",t.$props,!1)):t._e(),t.maxlength?i("div",{staticClass:"be-input-word-counter"},[t._v(t._s(t.currentValue.length)+"/"+t._s(t.maxlength))]):t._e(),t.$slots.append?t._t("append"):t._e()],2)},[],!1,null,null,null).exports),xn={name:"modal",data:function(){return{visible:!1}},props:{name:{type:String,default:""},show:{type:Boolean,default:!1},title:{type:String,default:"提示"},body:{type:String,default:"这是一段内容"},mask:{type:Boolean,default:!0},cancelButton:{type:Object,default:function(){return{show:!0,type:"default",text:"取消"}}},confirmButton:{type:Object,default:function(){return{show:!0,type:"primary",text:"确定"}}}},mounted:function(){this.$slots.body||this.body||console.log("Modal至少需要输入一个内容！")},methods:{cancel:function(t){this.$emit("cancel",{name:this.name})},confirm:function(t){this.$emit("confirm",{name:this.name})}},computed:{styles:function(){var t={};return t.width=this.pWidth+"px",t}}},kn=(i(184),Object(ct.a)(xn,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal-container"},[t.mask?i("div",{staticClass:"modal-mask"}):t._e(),i("div",{staticClass:"modal-wrapper",style:t.styles},[i("div",{staticClass:"modal"},[i("div",{staticClass:"modal-header"},[i("i",{staticClass:"modal-header-close iconfont icon-ic_close",on:{click:t.cancel}}),i("div",{staticClass:"modal-title"},[t.$slots.title?t._t("title"):i("p",[t._v(t._s(t.title))])],2)]),i("div",{staticClass:"modal-body"},[t.$slots.body?t._t("body"):i("p",[t._v(t._s(t.body))])],2),i("be-button-group",{staticClass:"modal-footer"},[t.confirmButton.show?i("be-button",{attrs:{type:t.confirmButton.type},nativeOn:{click:function(e){return t.confirm(e)}}},[t._v(t._s(t.confirmButton.text))]):t._e(),t.cancelButton.show?i("be-button",{attrs:{type:t.cancelButton.type},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v(t._s(t.cancelButton.text))]):t._e()],1)],1)])])])},[],!1,null,null,null).exports),In={name:"be-toast",data:function(){return{text:"",show:!1}},methods:{destroyElement:function(){this.$destroy(),document.body.removeChild(this.$el)}},mounted:function(){var t=this;setTimeout(function(){t.show=!1,t.$el.addEventListener("transitionend",t.destroyElement)},2e3)}},En=(i(438),Object(ct.a)(In,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"be-toast"},[this._v(this._s(this.text))])])},[],!1,null,null,null).exports),An=T.default.extend(En),$n=function(t){var e=new An({data:{text:t}});e.vm=e.$mount(),document.body.appendChild(e.vm.$el),e.show=!0},Nn=i(185),Jn=i.n(Nn),Vn={name:"modal",data:function(){return{show:!1,title:"提示",body:"",cancelButton:{show:!0,type:"default",text:"取消"},confirmButton:{show:!0,type:"primary",text:"确定"}}},mounted:function(){this.body||(this.body="操作失败",console.warn("请至少提供一个body参数"))},methods:{cancel:function(t){this.show=!1,this.$el.addEventListener("transitionend",this.destroyMessage),this.$emit("cancel")},confirm:function(t){this.show=!1,this.$emit("confirm")},destroyMessage:function(){this.$destroy(),this.$el.parentNode.removeChild(this.$el)}}},Dn=Object(ct.a)(Vn,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"modal-container"},[i("div",{staticClass:"modal-mask"}),i("div",{staticClass:"modal-wrapper",staticStyle:{width:"400px"}},[i("div",{staticClass:"modal"},[i("div",{staticClass:"modal-header"},[i("i",{staticClass:"modal-header-close iconfont icon-ic_close",on:{click:t.cancel}}),i("div",{staticClass:"modal-title"},[i("p",[t._v(t._s(t.title))])])]),i("div",{staticClass:"modal-body",domProps:{innerHTML:t._s(t.body)}}),i("be-button-group",{staticClass:"modal-footer"},[t.confirmButton.show?i("be-button",{attrs:{type:t.confirmButton.type},nativeOn:{click:function(e){return t.confirm(e)}}},[t._v(t._s(t.confirmButton.text))]):t._e(),t.cancelButton.show?i("be-button",{attrs:{type:t.cancelButton.type},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v(t._s(t.cancelButton.text))]):t._e()],1)],1)])])])},[],!1,null,null,null).exports,On=T.default.extend(Dn),Rn=function(t,e,i){var n={body:t};"object"===Jn()(e)&&(i=e,e=void 0),e&&(n.title=e);var a=new On({data:n});if(i){var s=i,o=s.cancelButton,r=s.confirmButton;o&&(a.cancelButton=Object.assign(a.cancelButton,o)),r&&(a.confirmButton=Object.assign(a.confirmButton,r))}return a.vm=a.$mount(),document.body.appendChild(a.vm.$el),a.show=!0,new Promise(function(t,e){a.vm.$on("confirm",t),a.vm.$on("cancel",e)})},Fn={warn:"错误提示",info:"信息提示",confirm:"确认提示"};["warn","info","confirm"].forEach(function(t){Rn[t]=function(e){return Rn(e,Fn[t])}});var Bn=Rn,Qn=i(190),Gn=i.n(Qn),Hn="//api.bilibili.com/x/space/acc/info",Wn=function(t){return T.default.http.jsonp("//api.bilibili.com/x/relation",{params:{fid:t}}).then(function(t){var e=t.code,i=t.data,n=t.message;return 0===e?Promise.resolve(i):(console.log("单条获取用户关系失败，".concat(n)),Promise.reject())},function(t){return Promise.reject()})},Xn=function(t){return T.default.http.jsonp("//api.bilibili.com/x/relation/stat",{params:{vmid:t}}).then(function(t){var e=t.data,i=t.code,n=t.message;return 0===i?Promise.resolve(e):(console.log("用户关系数据获取失败，".concat(n)),Promise.resolve({following:0,whisper:0,black:0,follower:0}))},function(){return console.log("获取用户关系数据失败，网络错误"),Promise.reject()})},qn=function(t,e){return T.default.http.post("//api.bilibili.com/x/relation/modify",{fid:t,act:e,re_src:11}).then(function(e){var i=e.data,n=i.code,a=i.message;return Object(Ni.b)(Hn,{mid:t},_bili_space_mid),[0,22004,22005].indexOf(n)>-1?Promise.resolve():22006===n?($.getScript("//static.hdslb.com/plugins/attentionLimitPopup/attentionLimitPopup.js",function(){new window.attentionLimitPopup}),Promise.reject({code:n,message:a})):(T.default.$warn(a),Promise.reject({code:n,message:a}))},function(){return Promise.reject({code:404,message:"网络错误"})})},zn=i(191),Yn={name:"card",data:function(){return{popper:null,timer:null,isLoaded:!1,isRendered:!1,data:{numbers:{},level:0,official:{},vip:{}},target:null,popperOptions:{},myMid:0,targetMid:0,upMid:0}},mounted:function(){var t=this;document.body.appendChild(this.$el),this.popper=new zn.a(this.target,this.$el,this.popperOptions),this.$nextTick(function(){this.popper.scheduleUpdate()}),this.isRendered=!0,this.unbind(),function(t,e){return Object(Ni.a)(Hn,{mid:t},_bili_space_mid,t).then(function(t){return Promise.resolve(t)},function(){return T.default.http({method:"get",url:Hn,params:{mid:t},withCredentials:!0}).then(function(i){var n=i.data,a=n.data;if(0==+n.code){var s=a;return e?Promise.all([Wn(t),Xn(t)]).then(function(e){var i=Gn()(e,2),n=i[0],a=i[1];return s.numbers=a,s.attribute=n.attribute,Object(Ni.c)(Hn,{mid:t},s,_bili_space_mid,t),Promise.resolve(s)}):Xn(t).then(function(e){return s.numbers=e,s.attribute=0,Object(Ni.c)(Hn,{mid:t},s,_bili_space_mid,t),Promise.resolve(s)})}return Promise.reject()},function(t){return Promise.reject()})})}(this.targetMid,!!this.myMid).then(function(e){t.data=e,t.isLoaded=!0,t.popper.scheduleUpdate()},function(){t.isLoaded=!0})},methods:{unbind:function(){var t=this.target,e=this.$el;t.addEventListener("mouseleave",this.destroyElement),e.addEventListener("mouseleave",this.destroyElement),t.addEventListener("mouseenter",this.clearTimer),e.addEventListener("mouseenter",this.clearTimer)},destroyElement:function(){var t=this,e=this.$el,i=this.target;this.timer=setTimeout(function(){t.isRendered=!1,e.addEventListener("transitionend",function(){i.removeEventListener("mouseenter",t.clearTimer),e.removeEventListener("mouseenter",t.clearTimer),t.$destroy(),e.parentNode.removeChild(e)})},300)},clearTimer:function(){clearTimeout(this.timer),this.timer=null},handleFollow:function(){var t=this,e=this.targetMid,i=this.myMid,n=this;0===i?$.getScript("https://static.hdslb.com/account/bili_quick_login.js",function(){window.UserStatus.quickLogin(function(){(function(t){return T.default.http.jsonp("//api.bilibili.com/x/space/acc/relation",{params:{mid:t}}).then(function(t){var e=t.code,i=t.data,n=t.message;return 0===e?Promise.resolve(i):(console.log("单条获取用户被关注关系失败，".concat(n)),Promise.reject())})})(e).then(function(t){var i=t.be_relation,a=t.relation;(i&&2==+i.attribute||0==+a.attribute)&&qn(e,1).then(function(){n.$toast("关注成功")}),setTimeout(function(){window.location.reload()},500)}).catch(function(){window.location.reload()})})}):e===i?this.$emit("error",{code:2,message:"你时时刻刻都在关注你自己哦~"}):qn(e,1).then(function(){t.data.attribute=2,t.$emit("follow-success")},function(e){t.$emit("error",e)})},handleUnfollow:function(){var t=this,e=this.targetMid;e===this.myMid?this.$emit("error",{code:3,message:"你不能取消关注你自己哦~"}):qn(e,2).then(function(){t.data.attribute=0,t.$emit("unfollow-success")},function(e){t.$emit("error",e)})},unfollowEnter:function(t){t.target.innerText="取消关注"},unfollowLeave:function(t){t.target.innerText="已关注"}},computed:{cover:function(){var t=this.data,e=t.theme,i=t.top_photo;return e&&e.id?"//i0.hdslb.com/"+e.bg_img.toWebP():void 0===i?"":i.toWebP()},sexClass:function(){return"男"===this.data.sex?"male":"女"===this.data.sex?"female":"unknown"},vipRedNameCheck:function(){var t=this.data.vip,e=t.status,i=t.type,n=t.theme_type;return 0!==i&&1===e&&1===n?"this-is-fools":1===e&&2===i?"this-is-vip":void 0}},filters:{userDesc:function(t){if(void 0===t||0===t.length)return"no-desc"}}},Kn=(i(442),Object(ct.a)(Yn,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isRendered,expression:"isRendered"}],ref:"card",attrs:{id:"id-card"}},[t.isLoaded?[i("div",{staticClass:"idc-theme-img",style:{backgroundImage:"url("+t.cover+")"}}),i("div",{staticClass:"idc-info clearfix"},[i("a",{staticClass:"idc-avatar-container",attrs:{href:"//space.bilibili.com/"+t.data.mid+"/",target:"_blank"}},[i("img",{staticClass:"idc-avatar",attrs:{alt:t.data.name,src:t._f("coversize")(t.data.face,"54x54")}}),[1,2,7].includes(t.data.official.role)?i("span",{staticClass:"user-auth-subscript avatar-m personal-auth",attrs:{"data-user-auth":"",title:"个人认证"}}):t._e(),[3,4,5,6].includes(t.data.official.role)?i("span",{staticClass:"user-auth-subscript avatar-m organization-auth",attrs:{"data-user-auth":"",title:"企业/团体认证"}}):t._e()]),i("div",{staticClass:"idc-content"},[i("div",[i("a",{staticClass:"idc-username",attrs:{href:"//space.bilibili.com/"+t.data.mid+"/",target:"_blank"}},[i("b",{staticClass:"idc-uname vip-name-check",class:t.vipRedNameCheck,attrs:{title:t.data.name}},[t._v(t._s(t.data.name))])]),i("span",{staticClass:"gender idc-gender icon",class:t.sexClass}),i("a",{staticClass:"m-level idc-m-level",attrs:{lvl:t.data.level,href:"//www.bilibili.com/html/help.html#k",target:"_blank"}})]),i("div",{staticClass:"idc-meta"},[i("span",{staticClass:"idc-meta-item"},[t._v("关注 "+t._s(t._f("toWan")(t.data.numbers.following)))]),i("span",{staticClass:"idc-meta-item"},[t._v("粉丝 "+t._s(t._f("toWan")(t.data.numbers.follower)))])])]),i("div",{staticClass:"tag-list idc-tag-list"}),0!==t.data.official.role?i("div",{staticClass:"idc-auth-description",class:t._f("userDesc")(t.data.official.title)},[t._v("\n          "+t._s(t._f("decodeHTML")(t.data.official.title))+"\n        ")]):i("div",{staticClass:"idc-sign"},[t._v(t._s(t._f("decodeHTML")(t.data.sign)))])]),i("be-button-group",{staticClass:"idc-action"},[-1===[2,6].indexOf(t.data.attribute)?i("be-button",{staticClass:"idc-btn",attrs:{type:"primary"},nativeOn:{click:function(e){return t.handleFollow(e)}}},[t._v("+关注")]):i("be-button",{staticClass:"idc-btn",attrs:{type:"ghost"},on:{mouseenter:t.unfollowEnter,mouseleave:t.unfollowLeave},nativeOn:{click:function(e){return t.handleUnfollow(e)}}},[t._v("已关注")]),i("be-button",{staticClass:"idc-btn",attrs:{href:"//message.bilibili.com/#whisper/mid"+t.data.mid+"/"}},[t._v("发消息")])],1)]:i("div",{staticClass:"idc-laoding-text"},[t._v("正在加载中，请稍后...")])],2)])},[],!1,null,null,null).exports),Zn=T.default.extend(Kn),ta=function(){},ea=function(t){var e=t.target,i=t.targetMid,n=t.popperOptions,a=t.myMid,s=t.upMid,o=t.followSuccess,r=void 0===o?ta:o,c=t.unfollowSuccess,u=void 0===c?ta:c,l=t.error,d=void 0===l?ta:l,f=new Zn({data:{target:e,targetMid:i,popperOptions:Object.assign({placement:"right-start"},n),myMid:a,upMid:s}});f.vm=f.$mount(),f.vm.$on("follow-success",r),f.vm.$on("unfollow-success",u),f.vm.$on("error",d)},ia=0,na={name:"be-tab",data:function(){return{uid:ia++,currentValue:"",left:0,width:0}},props:{tabs:{type:Array,default:function(){return[{link:"",active:!1,text:""}]}},value:{type:[String,Number],default:""}},mounted:function(){var t=this.$refs[this.activeTab.name][0];this.width=t.clientWidth,this.left=t.offsetLeft},methods:{handleChange:function(t){this.currentValue=t.target.value,this.$emit("input",this.currentValue)}},computed:{activeTab:function(){var t=this;return this.tabs.find(function(e){return e.name===t.value})}},watch:{currentValue:function(t){var e=this.$refs[t][0];this.width=e.clientWidth,this.left=e.offsetLeft}}},aa=(i(443),Object(ct.a)(na,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"be-tab"},[i("ul",{staticClass:"be-tab-inner clearfix"},t._l(t.tabs,function(e,n){return i("li",{key:n,ref:e.name,refInFor:!0,staticClass:"be-tab-item",class:{"is-active":e.name===t.value}},[i("input",{staticClass:"be-tab-input",attrs:{type:"radio",name:"be-tab-"+t.uid},domProps:{value:e.name},on:{change:t.handleChange}}),i("span",[t._v(t._s(e.alias))])])}),0),i("div",{staticClass:"be-tab-cursor",style:{transform:"translateX("+t.left+"px)",width:t.width+"px"}})])},[],!1,null,null,null).exports),sa={name:"be-tooltip",data:function(){return{left:0,top:0,show:!1,text:"呦吼~",target:null}},mounted:function(){var t=this.$el,e=this.target;t.ownerDocument.defaultView.addEventListener("scroll",this.getPosition),e.addEventListener("mouseenter",this.startTooltip),e.addEventListener("mouseleave",this.destroyElement)},methods:{getPosition:function(){if(this.show&&null!==this.target){var t=this.target,e=t.getBoundingClientRect();this.left=e.left+(t.clientWidth-this.$el.clientWidth)/2,this.top=e.top-t.clientHeight-10}},destroyElement:function(){var t=this,e=this.$el,i=this.target;this.show=!1,e.addEventListener("transitionend",function(){i.removeEventListener("mouseenter",t.startTooltip),i.removeEventListener("mouseleave",t.destroyElement),e.parentNode.removeChild(e),t.$destroy()})},startTooltip:function(){this.show=!0,this.$nextTick(this.getPosition)}},watch:{show:function(t){t&&this.startTooltip()}}},oa=(i(444),Object(ct.a)(sa,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"be-tooltip",style:{left:this.left+"px",top:this.top+"px"}},[this._v(this._s(this.text))])])},[],!1,null,null,null).exports),ra=T.default.extend(oa),ca=function(t,e){var i=new ra({data:{target:e,text:t}});return i.vm=i.$mount(),document.body.appendChild(i.vm.$el),i.show=!0,i},ua=i(192),la=(i(445),{name:"be-scrollbar",props:{source:{type:Array,required:!0,default:function(){return[]}},options:{type:Object,default:function(){return{suppressScrollX:!0}}}},data:function(){return{ps:null}},mounted:function(){this.ps=new ua.a(this.$refs.scrollbar,this.options)},beforeDestroy:function(){this.ps.destroy(),this.ps=null},methods:{psXReachStart:function(){this.$emit("ps-x-reach-start")},psYReachStart:function(){this.$emit("ps-y-reach-start")},psXReachEnd:function(){this.$emit("ps-x-reach-end")},psYReachEnd:function(){this.$emit("ps-y-reach-end")}},watch:{source:{deep:!0,handler:function(){this.$nextTick(this.ps.update)}}}}),da=(i(446),Object(ct.a)(la,function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"scrollbar",staticClass:"be-scrollbar",on:{"ps-y-reach-end":this.psYReachEnd,"ps-x-reach-end":this.psXReachEnd,"ps-y-reach-start":this.psYReachStart,"ps-x-reach-start":this.psXReachStart}},[this._t("default")],2)},[],!1,null,null,null).exports),fa={name:"be-switch",props:{value:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},onLabel:String,offLabel:String,name:String},methods:{handleChange:function(){this.$emit("input",!this.value),this.$emit("change",{val:!this.value,name:this.name})}}},pa=(i(447),Object(ct.a)(fa,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"be-switch-container",class:{"is-checked":t.value}},[i("input",{ref:"checkbox",staticClass:"be-switch-input",attrs:{type:"checkbox",disabled:t.disabled},domProps:{value:t.value},on:{change:t.handleChange}}),t._m(0),t.onLabel&&t.offLabel?i("div",{staticClass:"be-switch-label"},[i("span",[t._v(t._s(t.value?t.onLabel:t.offLabel))])]):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"be-switch"},[e("i",{staticClass:"be-switch-cursor"})])}],!1,null,null,null).exports),ma={name:"be-button",props:{type:{type:String,default:"default"},size:{type:String,default:"default"},fontColor:{type:String,default:""},icon:{type:String,default:""},color:{type:String,default:""},disabled:{type:Boolean,default:!1}},computed:{iconClass:function(){var t=[];return this.icon?(t.push(this.icon),t):t},btnClass:function(){var t=[];switch(this.type){case"primary":t.push("primary");break;case"default":t.push("default");break;case"ghost":t.push("ghost");break;case"success":t.push("success");break;case"info":t.push("info");break;case"warning":t.push("warning");break;case"danger":t.push("danger")}switch(this.size){case"small":t.push("btn-small");break;case"large":t.push("btn-large")}return this.disabled&&t.push("btn-disabled"),t},styleList:function(){var t={};return this.color&&(t.background=this.color),this.fontColor&&(t.color=this.fontColor),t}}},ha=(i(448),Object(ct.a)(ma,function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"btn",class:this.btnClass,style:this.styleList},[this.icon?e("i",{staticClass:"btn-icon",class:this.iconClass}):this._e(),e("span",{staticClass:"btn-content"},[this._t("default")],2)])},[],!1,null,"eb6e1e50",null).exports),va={name:"be-button-group",props:{align:{type:String,default:"center"}},computed:{styleClass:function(){return"btn-"+this.align}}},_a=(i(449),Object(ct.a)(va,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"btn-container",class:this.styleClass},[this._t("default")],2)},[],!1,null,"126b46cf",null).exports);var ba,ga={name:"be-pagination",props:{current:{type:Number,default:1,required:!0},total:{type:Number,default:0,required:!0}},data:function(){return{prefixCls:"be-pager"}},computed:{allPages:function(){var t=Math.ceil(this.total);return 0===t?1:t},simpleWrapClasses:function(){return["".concat("be-pager"),"".concat("be-pager","-simple")]},ElevatorClasses:function(){return["".concat("be-pager","-options-elevator")]},simplePagerClasses:function(){return"".concat("be-pager","-simple-pager")},wrapClasses:function(){return["".concat("be-pager"),{mini:!!this.size}]},prevClasses:function(){return["".concat("be-pager","-prev"),se()({},"".concat("be-pager","-disabled"),1===this.current)]},nextClasses:function(){return["".concat("be-pager","-next"),se()({},"".concat("be-pager","-disabled"),this.current===this.allPages)]},firstPageClasses:function(){return["".concat("be-pager","-item"),se()({},"".concat("be-pager","-item-active"),1===this.current)]},lastPageClasses:function(){return["".concat("be-pager","-item"),se()({},"".concat("be-pager","-item-active"),this.current===this.allPages)]}},methods:{changePageInput:function(t){var e=t.target.value.trim(),i=0;if(/^[1-9][0-9]*$/.test(e+"")&&(e=Number(e))!==this.current){var n=this.allPages;i=e>n?n:e}i&&(this.changePage(i),t.target.value="")},changePage:function(t){this.current!==t&&this.$emit("turn-page",t)},prev:function(){var t=this.current;if(t<=1)return!1;this.changePage(t-1)},next:function(){var t=this.current;if(t>=this.allPages)return!1;this.changePage(t+1)},fastPrev:function(){var t=this.current-5;t>0?this.changePage(t):this.changePage(1)},fastNext:function(){var t=this.current+5;t>this.allPages?this.changePage(this.allPages):this.changePage(t)}},watch:{current:function(){window.scrollTo(0,0)}}},ya=(i(450),Object(ct.a)(ga,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{directives:[{name:"show",rawName:"v-show",value:t.total>1,expression:"total > 1"}],class:t.wrapClasses},[i("li",{class:t.prevClasses,attrs:{title:"上一页"},on:{click:t.prev}},[i("a",[t._v("上一页")])]),i("li",{class:t.firstPageClasses,attrs:{title:"第一页"},on:{click:function(e){return t.changePage(1)}}},[i("a",[t._v("1")])]),t.current-3>1?i("li",{class:[t.prefixCls+"-item-jump-prev"]}):t._e(),t.current-2>1?i("li",{class:[t.prefixCls+"-item"],attrs:{title:t.current-2},on:{click:function(e){return t.changePage(t.current-2)}}},[i("a",[t._v(t._s(t.current-2))])]):t._e(),t.current-1>1?i("li",{class:[t.prefixCls+"-item"],attrs:{title:t.current-1},on:{click:function(e){return t.changePage(t.current-1)}}},[i("a",[t._v(t._s(t.current-1))])]):t._e(),1!==t.current&&t.current!==t.allPages?i("li",{class:[t.prefixCls+"-item",t.prefixCls+"-item-active"],attrs:{title:t.current}},[i("a",[t._v(t._s(t.current))])]):t._e(),t.current+1<t.allPages?i("li",{class:[t.prefixCls+"-item"],attrs:{title:t.current+1},on:{click:function(e){return t.changePage(t.current+1)}}},[i("a",[t._v(t._s(t.current+1))])]):t._e(),t.current+2<t.allPages?i("li",{class:[t.prefixCls+"-item"],attrs:{title:t.current+2},on:{click:function(e){return t.changePage(t.current+2)}}},[i("a",[t._v(t._s(t.current+2))])]):t._e(),t.current+3<t.allPages?i("li",{class:[t.prefixCls+"-item-jump-next"]}):t._e(),t.allPages>1?i("li",{class:t.lastPageClasses,attrs:{title:"最后一页:"+t.allPages},on:{click:function(e){return t.changePage(t.allPages)}}},[i("a",[t._v(t._s(t.allPages))])]):t._e(),i("li",{class:t.nextClasses,attrs:{title:"下一页"},on:{click:t.next}},[i("a",[t._v("下一页")])]),i("span",{class:[t.prefixCls+"-total"]},[t._t("default",[t._v("共 "+t._s(t.total)+" 页，")])],2),i("span",{class:t.ElevatorClasses},[t._v("\n    跳至\n    "),i("input",{attrs:{type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePageInput(e)}}}),t._v(" 页\n  ")])])},[],!1,null,null,null).exports),wa=i(134),Ca={name:"be-dropdown",data:function(){return{isDropdown:!0,open:!1,timer:null}},props:{trigger:{type:String,default:"click",validator:function(t){return["","click","hover"].indexOf(t)>-1}},align:{type:String,default:"",validator:function(t){return["","right","left","middle"].indexOf(t)>-1}},append:{type:Boolean,default:!0}},provide:function(){return{dropdown:this}},methods:{handleMouseenter:Object(wa.debounce)(300,!0,function(){"hover"===this.trigger&&(clearTimeout(this.timer),this.timer=null,this.open=!0)}),handleMouseleave:function(){"hover"===this.trigger&&(this.timer=setTimeout(this.hide,300))},handleClick:function(){"click"===this.trigger&&(this.open=!this.open,this.$emit("dropClick",this.open))},hide:function(){this.open=!1}}},Ta=(i(452),Object(ct.a)(Ca,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.hide,expression:"hide"}],staticClass:"be-dropdown",on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave,click:t.handleClick}},[t.$slots.trigger?t._t("trigger"):i("div",{staticClass:"be-dropdown-trigger"},[i("i",{staticClass:"iconfont icon-ic_more",attrs:{title:"更多操作"}})]),t._t("menu"),t.$slots.trigger||t.$slots.menu?t._e():t._t("default")],2)},[],!1,null,null,null).exports),Sa={name:"be-dropdown-item",props:{name:{type:[String,Number]},delimiter:{type:Boolean,default:!1}},methods:{handleSelect:function(){this.dropdown.$emit("select",this.name)}},computed:{dropdown:function(){for(var t=this.$parent;!t.isDropdown;)t=t.$parent;return t}}},Ua=(i(453),Object(ct.a)(Sa,function(){var t=this.$createElement;return(this._self._c||t)("li",{staticClass:"be-dropdown-item",class:{"be-dropdown-item-delimiter":this.delimiter},on:{click:this.handleSelect}},[this._t("default")],2)},[],!1,null,null,null).exports),La={name:"be-dropdown-menu",data:function(){return{left:0,top:0,transformOrigin:"top"}},mounted:function(){this.$el.ownerDocument.defaultView.addEventListener("scroll",this.getPosition)},computed:{dropdown:function(){for(var t=this.$parent;!t.isDropdown;)t=t.$parent;return t},open:function(){return this.dropdown.open},align:function(){return this.dropdown.align}},methods:{getPosition:function(){if(this.open){var t=this.dropdown.$el,e=t.getBoundingClientRect(),i=this.$el.clientWidth,n=this.$el.clientHeight,a=t.clientWidth,s=t.clientHeight,o=e.left,r=e.top+s+10;switch(this.transformOrigin="top",this.align){case"right":default:o+=a-i;break;case"left":break;case"middle":o+=(a-i)/2}r+n>document.body.clientHeight&&(r=e.top-n-10,this.transformOrigin="bottom"),this.left=o,this.top=r}}},watch:{open:function(t){t&&this.$nextTick(this.getPosition)}}},Ma=(i(454),[jn,kn,aa,da,pa,ha,_a,ya,Ta,Ua,Object(ct.a)(La,function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"zoom"}},[e("ul",{directives:[{name:"show",rawName:"v-show",value:this.open,expression:"open"}],staticClass:"be-dropdown-menu",class:["menu-align-"+this.align],style:{left:this.left+"px",top:this.top+"px",transformOrigin:this.transformOrigin}},[this._t("default")],2)])},[],!1,null,null,null).exports,i(133).a]);T.default.config.silent=!0,T.default.config.productionTip=!1,T.default.prototype.$bus=Qt,function(t){t.directive("rec",{bind:function(e,i){t.prototype.$isServer||e.addEventListener("click",function(){rec(i.value)},!1)}})}(ba=T.default),function(t){t.directive("rep",{bind:function(e,i){t.prototype.$isServer||e.addEventListener("click",function(t){window.spaceReport[i.value]="",window.reportObserver.forceCommit()},!1)}})}(ba),function(t){t.directive("watchlater",{bind:function(e,i){var n=i.value,a=i.modifiers,s=a.tip,o=a.channel,r=a.video,c=n.cid,u=n.count;o&&e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),UserStatus.isLogin()?t.http.jsonp("//api.bilibili.com/x/v2/history/toview/remaining").then(function(e){var i=e.data.count;if(0!==i){var n=i>=u?"你即将添加本频道的 ".concat(u," 个视频到稍后再看，点击确认进行批量添加哦"):"稍后再看列表的库存不足啦，继续添加只能收录该频道前面的部分";t.$confirm(n).then(function(){t.http.post("/ajax/channel/addAllToView",{cid:c,mid:_bili_space_mid}).then(function(e){var i=e.data,n=i.status,a=i.data;n?t.$toast("添加稍后再看成功^_^"):t.$warn("添加稍后再看失败，".concat(a))},function(){t.$warn("添加稍后再看失败，网络错误")})})}else t.$warn("你的稍后再看列表库存满啦")},function(){t.$warn("添加稍后再看失败，网络错误")}):$.getScript("https://static.hdslb.com/account/bili_quick_login.js",function(){window.UserStatus.quickLogin(function(){window.location.reload()})})}),r&&e.addEventListener("click",function(i){i.preventDefault(),i.stopPropagation();var a=n.aid,s=wn.indexOf(a),o=s>-1;window.UserStatus.isLogin()?o?(rec("add_watchlater",{source:"space",action:"del"}),t.http.post("//api.bilibili.com/x/v2/history/toview/del",{aid:a,viewed:!1}).then(function(i){var n=i.data,a=n.code,o=n.message;0===a?(wn.splice(s,1),Qt.$emit("watchlater",JSON.parse(JSON.stringify(wn))),t.$tooltip("已从稍后再看列表中移除",e)):(o||(o="移除失败，请稍后重试"),t.$tooltip(o,e))},function(i){t.$tooltip("移除失败，请稍后重试",e)})):(rec("add_watchlater",{source:"space"}),t.http.post("//api.bilibili.com/x/v2/history/toview/add",{aid:a}).then(function(i){var n=i.data,s=n.code,o=n.message;0===s?(wn.push(a),Qt.$emit("watchlater",JSON.parse(JSON.stringify(wn))),t.$tooltip("已加稍后再看",e)):(o||(o="添加失败，请稍后重试"),t.$tooltip(o,e))},function(i){t.$tooltip("添加失败，请稍后重试",e)})):$.getScript("https://static.hdslb.com/account/bili_quick_login.js",function(){window.UserStatus.quickLogin(function(){window.location.reload()})})},!1),s&&e.addEventListener("mouseenter",function(){t.$tooltip(e.className.split(" ").indexOf("has-select")>-1?"移除稍后再看":"稍后再看",e)})}})}(ba),function(t){t.prototype.$isServer||(document.addEventListener("mousedown",function(t){return gn=t},!1),document.addEventListener("mouseup",function(t){Cn.forEach(function(e){return e[Tn].documentHandler(t,gn)})},!1)),t.directive("clickoutside",{bind:function(t,e,i){Cn.push(t);var n=Sn++,a=e.expression,s=e.value;/\W/gi.test(a),t[Tn]={id:n,documentHandler:Un(t,e,i),methodName:a,bindingFn:s}},update:function(t,e,i){var n=e.expression,a=e.value;t[Tn].documentHandler=Un(t,e,i),t[Tn].methodName=n,t[Tn].bindingFn=a},unbind:function(t){for(var e=Cn.length,i=0;i<e;i++)if(Cn[i][Tn].id===t[Tn].id){Cn.splice(i,1);break}delete t[Tn]}})}(ba),function(t){t.directive("sortable",{bind:function(t,e){new Mn.a(t,e.value)}})}(ba),function(t){var e=t.prototype.$isServer;t.directive("hlkeyword",function(t,i){var n=i.value;if(e)t.innerHTML=n;else{if(void 0===window._search_keyword)return void(t.innerHTML=n);n=n.replace(/</g,"&lt;").replace(/>/g,"&gt;"),""!==window._search_keyword&&(n=n.replace(new RegExp("("+window._search_keyword+")","gi"),'<span class="search-keyword-highlight">$1</span>')),t.innerHTML=n}})}(ba),function(t){Ma.map(function(e){t.component(e.name,e)}),t.prototype.$toast=$n,t.prototype.$card=ea,t.prototype.$message=Bn,t.prototype.$tooltip=ca,t.prototype.$warn=Bn.warn,t.prototype.$info=Bn.info,t.prototype.$confirm=Bn.confirm,t.$toast=$n,t.$message=Bn,t.$tooltip=ca,t.$warn=Bn.warn,t.$info=Bn.info,t.$confirm=Bn.confirm}(T.default),T.default.use(Rt.a),T.default.config.keyCodes.comma=188;var Pa=/^\/\/api.bilibili.com/,ja=function(t){var e,i=t.method,n=t.url,a=t.data,s=void 0===a?{}:a,o=t.params,r=void 0===o?{}:o,c=t.headers;return i=i.toLowerCase(),Pa.test(n)&&("post"===i?s.jsonp="jsonp":r.jsonp="jsonp"),"post"===i&&(T.default.prototype.$isServer?s.csrf=function(t){var e={};void 0!==t&&t.split(";").forEach(function(t){var i=t.split("=")[0].trim(),n=t.split("=")[1];e[i]=n});return e}(c.cookie).bili_jct:s.csrf=(e="bili_jct",decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null),t.withCredentials=!0,t.data=Bt.a.stringify(s)),t.params=r,x(t)};ja.get=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.url=t,e.method="get",ja(e)},ja.post=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ja({url:t,data:e,method:"post"})},ja.jsonp=Ht,T.default.http=ja;i(193),i(194);Sentry.init({dsn:"http".concat("s","://14907709b4f743199b0f56736d3edd97@api.bilibili.com/x/traceback/10"),debug:!1,release:"9129b1d055504f069cd2c03624cb09fef426030e",environment:"production",sampleRate:.2,integrations:[new Sentry.Integrations.Vue({Vue:T.default,attachProps:!0})]});var xa,ka,Ia={app:new T.default({router:Et,store:yn,ssrContext:xa,render:function(t){return t(xt)}}),router:Et,store:yn},Ea=Ia.app,Aa=Ia.router,$a=Ia.store;ka=window.__BILI_CONFIG__&&window.__BILI_CONFIG__.show_bv,T.default.prototype.$isbv=ka,T.default.prototype.$transformId=function(t,e){return ka&&e||t},T.default.prototype.$transformLink=function(t,e){return ka?"//www.bilibili.com/video/".concat(e||"av"+t):"//www.bilibili.com/video/av".concat(t)},Aa.onReady(function(){if(window.__INITIAL_STATE__){$a.replaceState(window.__INITIAL_STATE__);var t=[$a.dispatch("fetchMyInfo",{mid:mid}),$a.dispatch("fetchPlaylistAuth",{vmid:mid}),$a.dispatch("fetchRelation",mid)];Promise.all(t).then(function(t){if("owner"!==$a.state.init._bili_space_state){var e=t[2].attribute,i="";i=0===$a.state.init._bili_space_mymid?"visitor":[2,6].indexOf(+e)>-1?"fans":"visitor",$a.commit("RELATION_WITH_UPER",+e),$a.commit("UPADTE_USER_STATE",i)}})}else{var e=Aa.getMatchedComponents();e&&0!==e.length||(window.location.href="//www.bilibili.com/404.html");var i=document.cookie,n=window._bili_space_mid,a=e.filter(function(t){return t.asyncData}).map(function(t){return t.asyncData($a,{cookie:i,mid:n})}).concat([$a.dispatch("fetchMyInfo",{mid:n}),$a.dispatch("fetchPlaylistAuth",{vmid:n}),$a.dispatch("fetchRelation",n).catch(function(t){return!1}),$a.dispatch("fetchBeRelation",n).catch(function(t){return!1})]);Promise.all(a).then(function(t){if("owner"!==$a.state.init._bili_space_state&&t[3]){var e=t[3].attribute,i="";i=0===$a.state.init._bili_space_mymid?"visitor":[2,6].indexOf(+e)>-1?"fans":"visitor",$a.commit("RELATION_WITH_UPER",+e),$a.commit("UPADTE_USER_STATE",i),$a.commit("GET_ACCRELATION_SUCCESS",t[4])}Ea.$mount("#space-app")}).catch()}window&&window.document.getElementById("app")&&Ea.$mount("#app")})},76:function(t,e,i){},77:function(t,e,i){},78:function(t,e,i){},79:function(t,e,i){},80:function(t,e,i){},81:function(t,e,i){},82:function(t,e,i){},83:function(t,e,i){},84:function(t,e,i){},85:function(t,e,i){},86:function(t,e,i){},87:function(t,e,i){},88:function(t,e,i){},89:function(t,e,i){},90:function(t,e,i){},91:function(t,e,i){},92:function(t,e,i){},93:function(t,e,i){},94:function(t,e,i){},95:function(t,e,i){},96:function(t,e,i){},97:function(t,e,i){},98:function(t,e,i){}});
//# sourceMappingURL=space.9129b1d055504f069cd2c03624cb09fef426030e.js.map